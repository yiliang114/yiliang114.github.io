(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{481:function(t,s,a){"use strict";a.r(s);var n=a(3),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h3",{attrs:{id:"vue-script-static-file-uncaught-syntaxerror"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#vue-script-static-file-uncaught-syntaxerror"}},[t._v("#")]),t._v(" Vue Script Static file Uncaught SyntaxError")]),t._v(" "),s("p",[t._v("Vue Script Static file Uncaught SyntaxError: Unexpected token <")]),t._v(" "),s("h4",{attrs:{id:"背景"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#背景"}},[t._v("#")]),t._v(" 背景")]),t._v(" "),s("p",[s("strong",[t._v("Vue 项目 index.html 中的 script 标签引用 static 目录下的文件时报错")]),t._v(" "),s("img",{attrs:{src:"https://chatflow-files-cdn-1252847684.file.myqcloud.com/20181018213544254.png",alt:""}})]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("Uncaught SyntaxError: Unexpected token <\n")])])]),s("h4",{attrs:{id:"先贴一下代码"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#先贴一下代码"}},[t._v("#")]),t._v(" 先贴一下代码：")]),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("body")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("app"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("src")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("https://unpkg.com/element-ui/lib/index.js"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token script"}}),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("src")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("./static/moment.min.js"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token script"}}),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- built files will be auto injected --\x3e")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("body")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("p",[s("img",{attrs:{src:"https://chatflow-files-cdn-1252847684.file.myqcloud.com/20181018214240409.png",alt:""}})]),t._v(" "),s("h5",{attrs:{id:"分析"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#分析"}},[t._v("#")]),t._v(" 分析")]),t._v(" "),s("p",[t._v("额，其实如果不看上面那个报错的话，还能直接发现一个很明显的问题，就是我引用的 "),s("code",[t._v("moment.min.js")]),t._v(" 路径写错了。但是在实际的开发过程中，竟然没有报 "),s("code",[t._v("404 not found")]),t._v(" ， 于是就没有注意到这个低级错误。")]),t._v(" "),s("h5",{attrs:{id:"排错"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#排错"}},[t._v("#")]),t._v(" 排错")]),t._v(" "),s("p",[t._v("事后诸葛亮，我们还是来看一下，这个问题的排查过程。")]),t._v(" "),s("p",[t._v("点击控制台报错的详情，进入 "),s("code",[t._v("Source")]),t._v("：\n"),s("img",{attrs:{src:"https://chatflow-files-cdn-1252847684.file.myqcloud.com/20181018215149962.png",alt:""}}),t._v("\nE ...\n看起来还是一个很头疼的问题呢，看"),s("code",[t._v("Source")]),t._v(" 没用。点击 "),s("code",[t._v("Network")]),t._v(" 看看吧：\n"),s("img",{attrs:{src:"https://chatflow-files-cdn-1252847684.file.myqcloud.com/2018101821532527.png",alt:""}})]),t._v(" "),s("p",[t._v("咦... 怎么没有内容显示出来。因为手贱，其实我已经将这些 build 之后的文件都发到服务器上去了。我们看看访问服务器上页面的 "),s("code",[t._v("Network")]),t._v("：")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://chatflow-files-cdn-1252847684.file.myqcloud.com/20181018215614602.png",alt:""}}),t._v("\n震惊了竟然出现了 "),s("code",[t._v("nginx")]),t._v(" 画面之后，我懂了。因为服务器上的静态资源是通过"),s("code",[t._v("nginx")]),t._v(" 来路由的，针对没有路由到的文件（因为我还没有做专门的 "),s("code",[t._v("error.html")]),t._v("）就会显示这个初始的 "),s("code",[t._v("nginx welcome page")]),t._v(" 。于是我想到了肯定是因为路径写错啦！")]),t._v(" "),s("h5",{attrs:{id:"事后分析"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#事后分析"}},[t._v("#")]),t._v(" 事后分析")]),t._v(" "),s("p",[t._v("那么到底为什么，因为路径写错了，就显示了\n"),s("img",{attrs:{src:"https://chatflow-files-cdn-1252847684.file.myqcloud.com/20181018213544254.png",alt:""}})]),t._v(" "),s("p",[t._v("打开 "),s("code",[t._v("dist")]),t._v(" 文件夹中的 "),s("code",[t._v("index.html")]),t._v(" 文件：\n"),s("img",{attrs:{src:"https://chatflow-files-cdn-1252847684.file.myqcloud.com/20181018220611110.png",alt:""}})]),t._v(" "),s("p",[t._v("这里的 html 标签不写双引号是 "),s("code",[t._v("HTML5")]),t._v(" 的一个特性。如果是 HTML5 以前的版本，标准写法是需要加双引号的。不过还是加上吧，感觉这不是一个好的规范，忽略即可。")]),t._v(" "),s("p",[s("code",[t._v("script")]),t._v(" 标签将去请求 "),s("code",[t._v("src=")]),t._v(" 后面跟随的路径的返回结果（一般是 js 的代码块），填充到 "),s("code",[t._v("script")]),t._v(" 标签内。想一想下面两个"),s("code",[t._v("script")]),t._v(" 标签：\n"),s("img",{attrs:{src:"https://chatflow-files-cdn-1252847684.file.myqcloud.com/20181018221051321.png",alt:""}})]),t._v(" "),s("p",[t._v("而实际去请求 "),s("code",[t._v("http://localhost:8080/static/js/moment.min.js")]),t._v(" 这个地址返回的是一段 "),s("code",[t._v("html")]),t._v(" 代码，也就是\n"),s("img",{attrs:{src:"https://chatflow-files-cdn-1252847684.file.myqcloud.com/20181018215149962.png",alt:""}})]),t._v(" "),s("p",[t._v("下面来模仿一下这个 err, 你自己也可以试试：\n"),s("img",{attrs:{src:"https://chatflow-files-cdn-1252847684.file.myqcloud.com/20181018221629848.png",alt:""}}),t._v("\n再访问一下这个页面，你就会看到同样的错误了。")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://chatflow-files-cdn-1252847684.file.myqcloud.com/20181018221644107.png",alt:""}})]),t._v(" "),s("h4",{attrs:{id:"最后"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#最后"}},[t._v("#")]),t._v(" 最后")]),t._v(" "),s("p",[t._v("是个小问题，但是背后的原理一细想，还是有很多的，我们要知道为什么错了，以及要多一点寻找根本的耐心。")]),t._v(" "),s("p",[t._v("Happy Coding!")])])}),[],!1,null,null,null);s.default=e.exports}}]);