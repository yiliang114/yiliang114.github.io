<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>git原理和操作 | 易良同学的博客</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="shortcut icon" href="/favicon.ico" type="image/jpg">
    <link rel="manifest" href="/manifest.json">
    <meta name="description" content="Git 属于分布式版本控制系统，而 SVN 属于集中式。">
    <meta name="twitter:title" content="git原理和操作">
    <meta name="twitter:description" content="Git 属于分布式版本控制系统，而 SVN 属于集中式。">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:url" content="https://yiliang.site/_posts/%E7%9F%A5%E8%AF%86%E5%BA%93/Git/git%E5%8E%9F%E7%90%86%E5%92%8C%E6%93%8D%E4%BD%9C.html">
    <meta property="og:type" content="article">
    <meta property="og:title" content="git原理和操作">
    <meta property="og:description" content="Git 属于分布式版本控制系统，而 SVN 属于集中式。">
    <meta property="og:url" content="https://yiliang.site/_posts/%E7%9F%A5%E8%AF%86%E5%BA%93/Git/git%E5%8E%9F%E7%90%86%E5%92%8C%E6%93%8D%E4%BD%9C.html">
    <meta property="og:site_name" content="易良 yiliang">
    <meta property="article:published_time" content="2020-01-22">
    <meta property="article:tag" content="github">
    <meta itemprop="name" content="git原理和操作">
    <meta itemprop="description" content="Git 属于分布式版本控制系统，而 SVN 属于集中式。">
    <meta name="keywords" content="前端博客,个人技术博客,前端,前端开发,前端框架,web前端,前端面试题,技术文档,学习,面试,JavaScript,js,ES6,TypeScript,vue,python,css3,html5,Node,git,github,markdown">
    
    <link rel="preload" href="/assets/js/vendor.vue.22470dd9.js" as="script"><link rel="preload" href="/assets/css/0.styles.63940afe.css" as="style"><link rel="preload" href="/assets/js/vendor.commons.63940afe.js" as="script"><link rel="preload" href="/assets/js/app.34947d8e.js" as="script"><link rel="preload" href="/assets/js/27.9d447c0a.js" as="script"><link rel="prefetch" href="/assets/js/10.9a756169.js"><link rel="prefetch" href="/assets/js/11.85f8dab7.js"><link rel="prefetch" href="/assets/js/12.b4cc6c17.js"><link rel="prefetch" href="/assets/js/13.fbfbe27e.js"><link rel="prefetch" href="/assets/js/14.dd96edfa.js"><link rel="prefetch" href="/assets/js/15.55718840.js"><link rel="prefetch" href="/assets/js/16.73f8e254.js"><link rel="prefetch" href="/assets/js/17.9f60deb8.js"><link rel="prefetch" href="/assets/js/18.ac011fe0.js"><link rel="prefetch" href="/assets/js/19.495fea85.js"><link rel="prefetch" href="/assets/js/20.b94e8387.js"><link rel="prefetch" href="/assets/js/21.a899318f.js"><link rel="prefetch" href="/assets/js/22.8e8c9ab8.js"><link rel="prefetch" href="/assets/js/23.635fbb1c.js"><link rel="prefetch" href="/assets/js/24.2c7afe79.js"><link rel="prefetch" href="/assets/js/25.4a17c9ae.js"><link rel="prefetch" href="/assets/js/26.d1b3b48a.js"><link rel="prefetch" href="/assets/js/28.ab638595.js"><link rel="prefetch" href="/assets/js/29.049a9710.js"><link rel="prefetch" href="/assets/js/3.5778f50e.js"><link rel="prefetch" href="/assets/js/30.7dcc7a8c.js"><link rel="prefetch" href="/assets/js/31.ab880fe4.js"><link rel="prefetch" href="/assets/js/32.0e0cbd28.js"><link rel="prefetch" href="/assets/js/33.d0f8a4fc.js"><link rel="prefetch" href="/assets/js/34.0d1eca53.js"><link rel="prefetch" href="/assets/js/35.8f67d7e8.js"><link rel="prefetch" href="/assets/js/36.7f1e0fe5.js"><link rel="prefetch" href="/assets/js/37.8207e352.js"><link rel="prefetch" href="/assets/js/38.fcb47a79.js"><link rel="prefetch" href="/assets/js/39.e26e8758.js"><link rel="prefetch" href="/assets/js/4.6697030e.js"><link rel="prefetch" href="/assets/js/40.511b7362.js"><link rel="prefetch" href="/assets/js/41.23980a04.js"><link rel="prefetch" href="/assets/js/42.7d812c8f.js"><link rel="prefetch" href="/assets/js/43.e9f4c163.js"><link rel="prefetch" href="/assets/js/44.a70b510d.js"><link rel="prefetch" href="/assets/js/45.0e3f6992.js"><link rel="prefetch" href="/assets/js/46.42614d9e.js"><link rel="prefetch" href="/assets/js/47.acc03387.js"><link rel="prefetch" href="/assets/js/48.1f987f52.js"><link rel="prefetch" href="/assets/js/49.53a7fd46.js"><link rel="prefetch" href="/assets/js/5.c3113993.js"><link rel="prefetch" href="/assets/js/50.eb913ef1.js"><link rel="prefetch" href="/assets/js/51.24dbae80.js"><link rel="prefetch" href="/assets/js/52.5fcfa379.js"><link rel="prefetch" href="/assets/js/53.fd9f3e2b.js"><link rel="prefetch" href="/assets/js/54.56ca5860.js"><link rel="prefetch" href="/assets/js/55.5997fac6.js"><link rel="prefetch" href="/assets/js/56.9c74e6d6.js"><link rel="prefetch" href="/assets/js/57.f24bf036.js"><link rel="prefetch" href="/assets/js/58.5c310d29.js"><link rel="prefetch" href="/assets/js/6.72d4d30e.js"><link rel="prefetch" href="/assets/js/7.64e679fc.js"><link rel="prefetch" href="/assets/js/8.f5c49058.js"><link rel="prefetch" href="/assets/js/9.b9fcef5c.js">
    <link rel="stylesheet" href="/assets/css/0.styles.63940afe.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div id="vuepress-theme-yiliang114"><header class="header" data-v-684ee972><div data-v-0b0af033 data-v-684ee972><nav class="navbar" data-v-0b0af033><div class="container" data-v-0b0af033><a href="/" class="router-link-active" data-v-0b0af033><span class="navbar-site-name" data-v-0b0af033>易良同学的博客</span></a> <div class="navbar-toggler" data-v-0b0af033><svg class="icon" style="font-size:1.2em;" data-v-0b0af033 data-v-0b0af033><title data-v-0b0af033 data-v-0b0af033>menu</title><use xlink:href="#icon-menu" data-v-0b0af033 data-v-0b0af033></use></svg></div> <div class="navbar-links" data-v-0b0af033><a href="/" class="navbar-link" data-v-0b0af033>首页</a><a href="/posts/" class="navbar-link router-link-active" data-v-0b0af033>文章</a><a href="/posts/categories/" class="navbar-link" data-v-0b0af033>分类</a><a href="/links/" class="navbar-link" data-v-0b0af033>友链</a></div></div></nav> <div class="navbar-holder" style="display:none;" data-v-0b0af033></div></div> <div class="banner" data-v-4f70089d data-v-684ee972 data-v-684ee972><div class="container" data-v-4f70089d><div class="center" data-v-4f70089d><h1 data-v-4f70089d data-v-684ee972>git原理和操作</h1></div></div></div></header> <div class="container clearfix show-aside" data-v-5e7fbdae data-v-5e7fbdae><main class="main" data-v-5e7fbdae><div class="post" data-v-5e7fbdae><section class="post-meta main-div" data-v-42efe1fc><section class="post-date clearfix" data-v-42efe1fc><span class="create-date" data-v-42efe1fc>发布时间 : 2020-01-22</span> <!----></section> <section class="post-links" data-v-42efe1fc><a href="/posts/2020/01/22/%E5%A4%9A%E4%B8%AA-origin-%E5%8C%BA%E5%88%86%E7%94%A8%E6%88%B7%E5%90%8D.html" class="post-link" data-v-42efe1fc>上一篇 : 多个 origin 区分用户名</a> <a href="/posts/2020/07/19/%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E6%94%B6%E5%BD%95.html" class="post-link" data-v-42efe1fc>下一篇 : 搜索引擎收录</a></section></section> <article class="main-div"><div class="post-content content content__default"><h1 id="git-原理和操作"><a href="#git-原理和操作" class="header-anchor">#</a> git 原理和操作</h1> <h2 id="原理相关"><a href="#原理相关" class="header-anchor">#</a> 原理相关</h2> <h3 id="集中式与分布式"><a href="#集中式与分布式" class="header-anchor">#</a> 集中式与分布式</h3> <p>Git 属于分布式版本控制系统，而 SVN 属于集中式。</p> <p>集中式版本控制只有中心服务器拥有一份代码，而分布式版本控制每个人的电脑上就有一份完整的代码。</p> <p>集中式版本控制有安全性问题，当中心服务器挂了所有人都没办法工作了。</p> <p>集中式版本控制需要连网才能工作，如果网速过慢，那么提交一个文件的会慢的无法让人忍受。而分布式版本控制不需要连网就能工作。</p> <p>分布式版本控制新建分支、合并分支操作速度非常快，而集中式版本控制新建一个分支相当于复制一份完整代码。</p> <h3 id="git-的中心服务器"><a href="#git-的中心服务器" class="header-anchor">#</a> Git 的中心服务器</h3> <p>Git 的中心服务器用来交换每个用户的修改。没有中心服务器也能工作，但是中心服务器能够 24 小时保持开机状态，这样就能更方便的交换修改。Github 就是一种 Git 中心服务器。</p> <h3 id="git-工作流"><a href="#git-工作流" class="header-anchor">#</a> Git 工作流</h3> <p>新建一个仓库之后，当前目录就成为了工作区，工作区下有一个隐藏目录 .git，它属于 Git 的版本库。</p> <p>Git 版本库有一个称为 stage 的暂存区，还有自动创建的 master 分支以及指向分支的 HEAD 指针。</p> <ul><li>git add files 把文件的修改添加到暂存区</li> <li>git commit 把暂存区的修改提交到当前分支，提交之后暂存区就被清空了</li> <li>git reset -- files 使用当前分支上的修改覆盖暂缓区，用来撤销最后一次 git add files</li> <li>git checkout -- files 使用暂存区的修改覆盖工作目录，用来撤销本地修改</li></ul> <p>可以跳过暂存区域直接从分支中取出修改或者直接提交修改到分支中</p> <ul><li>git commit -a 直接把所有文件的修改添加到暂缓区然后执行提交</li> <li>git checkout HEAD -- files 取出最后一次修改，可以用来进行回滚操作</li></ul> <h3 id="分支实现"><a href="#分支实现" class="header-anchor">#</a> 分支实现</h3> <p>Git 把每次提交都连成一条时间线。分支使用指针来实现，例如 master 分支指针指向时间线的最后一个节点，也就是最后一次提交。HEAD 指针指向的是当前分支。</p> <p>新建分支是新建一个指针指向时间线的最后一个节点，并让 HEAD 指针指向新分支表示新分支成为当前分支。</p> <p>每次提交只会让当前分支向前移动，而其它分支不会移动。</p> <p>合并分支也只需要改变指针即可。</p> <h3 id="冲突"><a href="#冲突" class="header-anchor">#</a> 冲突</h3> <p>当两个分支都对同一个文件的同一行进行了修改，在分支合并时就会产生冲突。</p> <p>Git 会使用 &lt;&lt;&lt;&lt;&lt;&lt;&lt; ，======= ，&gt;&gt;&gt;&gt;&gt;&gt;&gt; 标记出不同分支的内容，只需要把不同分支中冲突部分修改成一样就能解决冲突。</p> <div class="language- extra-class"><pre class="language-text"><code>Creating a new branch is quick AND simple.
</code></pre></div><h3 id="fast-forward"><a href="#fast-forward" class="header-anchor">#</a> Fast forward</h3> <p>&quot;快进式合并&quot;（fast-farward merge），会直接将 master 分支指向合并的分支，这种模式下进行分支合并会丢失分支信息，也就不能在分支历史上看出分支信息。</p> <p>可以在合并时加上 --no-ff 参数来禁用 Fast forward 模式，并且加上 -m 参数让合并时产生一个新的 commit。</p> <div class="language- extra-class"><pre class="language-text"><code>$ git merge --no-ff -m &quot;merge with no-ff&quot; dev
</code></pre></div><h3 id="分支管理策略"><a href="#分支管理策略" class="header-anchor">#</a> 分支管理策略</h3> <p>master 分支应该是非常稳定的，只用来发布新版本；</p> <p>日常开发在开发分支 dev 上进行。</p> <h3 id="储藏-stashing"><a href="#储藏-stashing" class="header-anchor">#</a> 储藏（Stashing）</h3> <p>在一个分支上操作之后，如果还没有将修改提交到分支上，此时进行切换分支，那么另一个分支上也能看到新的修改。这是因为所有分支都共用一个工作区的缘故。</p> <p>可以使用 git stash 将当前分支的修改储藏起来，此时当前工作区的所有修改都会被存到栈上，也就是说当前工作区是干净的，没有任何未提交的修改。此时就可以安全的切换到其它分支上了。</p> <div class="language- extra-class"><pre class="language-text"><code>$ git stash
Saved working directory and index state \ &quot;WIP on master: 049d078 added the index file&quot;
HEAD is now at 049d078 added the index file (To restore them type &quot;git stash apply&quot;)
</code></pre></div><p>该功能可以用于 bug 分支的实现。如果当前正在 dev 分支上进行开发，但是此时 master 上有个 bug 需要修复，但是 dev 分支上的开发还未完成，不想立即提交。在新建 bug 分支并切换到 bug 分支之前就需要使用 git stash 将 dev 分支的未提交修改储藏起来。</p> <h3 id="ssh-传输设置"><a href="#ssh-传输设置" class="header-anchor">#</a> SSH 传输设置</h3> <p>Git 仓库和 Github 中心仓库之间是通过 SSH 加密。</p> <p>如果工作区下没有 .ssh 目录，或者该目录下没有 id_rsa 和 id_rsa.pub 这两个文件，可以通过以下命令来创建 SSH Key：</p> <div class="language- extra-class"><pre class="language-text"><code>$ ssh-keygen -t rsa -C &quot;youremail@example.com&quot;
</code></pre></div><p>然后把公钥 id_rsa.pub 的内容复制到 Github &quot;Account settings&quot; 的 SSH Keys 中。</p> <h3 id="gitignore-文件"><a href="#gitignore-文件" class="header-anchor">#</a> .gitignore 文件</h3> <p>忽略以下文件：</p> <ol><li>操作系统自动生成的文件，比如缩略图；</li> <li>编译生成的中间文件，比如 Java 编译产生的 .class 文件；</li> <li>自己的敏感信息，比如存放口令的配置文件。</li></ol> <p>不需要全部自己编写，可以到 <a href="https://github.com/github/gitignore" target="_blank" rel="noopener noreferrer">https://github.com/github/gitignore<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 中进行查询。</p> <h2 id="git-操作相关"><a href="#git-操作相关" class="header-anchor">#</a> Git 操作相关</h2> <h3 id="基本配置"><a href="#基本配置" class="header-anchor">#</a> 基本配置</h3> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">git</span> config <span class="token parameter variable">--global</span> user.name
<span class="token function">git</span> config <span class="token parameter variable">--global</span> user.email
</code></pre></div><h3 id="创建版本库-mkdir-pwd-git-init"><a href="#创建版本库-mkdir-pwd-git-init" class="header-anchor">#</a> 创建版本库 mkdir -&gt; pwd -&gt; git init</h3> <p>添加，查看状态，比较 git add -&gt; git status -&gt; git diff</p> <p>提交 git commit -m 'description'</p> <p>显示历史记录 git log 带参 git log --pretty=oneline</p> <h3 id="版本回退"><a href="#版本回退" class="header-anchor">#</a> 版本回退</h3> <p>git reset --hard HEAD~n
版本回退（指定的版本号） git reflog -&gt; git reset --hard 版本号</p> <h3 id="工作区和暂存区"><a href="#工作区和暂存区" class="header-anchor">#</a> 工作区和暂存区</h3> <p>git add 把文件添加到暂存区
git commit 把暂存区的所有内容提交到当前分支上</p> <h3 id="git-撤销修改和删除文件操作"><a href="#git-撤销修改和删除文件操作" class="header-anchor">#</a> Git 撤销修改和删除文件操作</h3> <p>1.撤销修改</p> <p>方法：
第一：如果我知道要删掉那些内容的话，直接手动更改去掉那些需要的文件，然后 add 添加到暂存区，最后 commit 掉。
第二：我可以按以前的方法直接恢复到上一个版本。使用 git reset –hard HEAD^</p> <p>更好的方法：
git checkout -- readme.txt 丢弃工作区的修改（撤销）
命令 git checkout -– readme.txt</p> <p>意思就是，把 readme.txt 文件在工作区做的修改全部撤销，这里有 2 种情况，如下：</p> <p>1.readme.txt 自动修改后，还没有放到暂存区，使用撤销修改就回到和版本库一模一样的状态。 2.另外一种是 readme.txt 已经放入暂存区了，接着又作了修改，撤销修改就回到添加暂存区后的状态。</p> <p>2.删除文件</p> <p>rm b.txt 接下来：直接 commit 或者 git checkout -- filename 撤销</p> <h3 id="远程仓库"><a href="#远程仓库" class="header-anchor">#</a> 远程仓库</h3> <p>创建 SSHKey ssh-keygen -t rsa –C &quot;1204183885@qq.com&quot;</p> <p>1.创建远程库</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">git</span> remote <span class="token function">add</span> origin https://github.com/lemongjing/testgit.git
</code></pre></div><p>把本地 master 分支的最新修改推送到</p> <div class="language-sh extra-class"><pre class="language-sh"><code>github上 <span class="token function">git</span> push <span class="token parameter variable">-u</span> origin master
</code></pre></div><p>2.远程库存在
git clone</p> <h3 id="创建与合并分支"><a href="#创建与合并分支" class="header-anchor">#</a> 创建与合并分支</h3> <p>每次提交，Git 都把它们串成一条时间线，这条时间线就是一个分支。在 Git 里，这个分支叫主分支，即 master 分支。HEAD 严格来说不是指向提交，而是指向 master，master 才是指向提交的，所以，HEAD 指向的就是当前分支。</p> <p>创建</p> <p><strong>git branch dev + git checkout dev = git checkout -b dev 创建并切换到 dev</strong></p> <p>合并</p> <p>在 master 分支下执行 git merge dev 然后删除 dev</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">git</span> branch <span class="token parameter variable">-d</span> dev
</code></pre></div><p>总结</p> <div class="language-sh extra-class"><pre class="language-sh"><code>查看分支：git branch

创建分支：git branch name

切换分支：git checkout name

创建+切换分支：git checkout –b name

合并某分支到当前分支：git merge name

删除分支：git branch –d name
</code></pre></div><p>1.如何解决冲突</p> <p>Git 用</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token operator">&lt;&lt;&lt;</span><span class="token operator">&lt;&lt;&lt;</span><span class="token operator">&lt;</span>,<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span>,<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span>
</code></pre></div><p>标记出不同分支的内容，其中&lt;&lt;&lt;HEAD 是指主分支修改的内容，&gt;&gt;&gt;&gt;&gt;fenzhi 是指 fenzhi 上修改的内容，我们可以修改下保存。</p> <p>2.分支管理策略</p> <p>通常合并分支时，git 一般使用”Fast forward”模式，在这种模式下，删除分支后，会丢掉分支信息，现在我们来使用带参数 –no-ff 来禁用”Fast forward”模式。首先我们来做 demo 演示下：</p> <div class="language-sh extra-class"><pre class="language-sh"><code>创建一个dev分支。
修改readme.txt内容。
添加到暂存区。
切换回主分支<span class="token punctuation">(</span>master<span class="token punctuation">)</span>。
合并dev分支，使用命令 <span class="token function">git</span> merge –no-ff  <span class="token parameter variable">-m</span> “注释” dev
查看历史记录
</code></pre></div><p>禁用 fast-forward 模式</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">git</span> merge –-no-ff <span class="token parameter variable">-m</span> <span class="token string">&quot;注释&quot;</span> dev
</code></pre></div><p>查看分支日志</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">git</span> log <span class="token parameter variable">--graph</span> <span class="token parameter variable">--pretty</span><span class="token operator">=</span>oneline --abbrev-commit
</code></pre></div><h3 id="工作现场"><a href="#工作现场" class="header-anchor">#</a> 工作现场</h3> <p>暂存工作现场 git stash</p> <p>列出工作现场：git stash list</p> <p>工作现场还在，Git 把 stash 内容存在某个地方了，但是需要恢复一下，可以使用如下 2 个方法：</p> <p>1.git stash apply 恢复，恢复后，stash 内容并不删除，你需要使用命令 git stash drop 来删除。</p> <p>2.另一种方式是使用 git stash pop,恢复的同时把 stash 内容也删除了。</p> <h3 id="多人协作"><a href="#多人协作" class="header-anchor">#</a> 多人协作</h3> <p>创建本地分支与远程分支的链接</p> <p><code>git branch --set-upstream-to=origin/&lt;branch&gt; dev</code></p> <p>例：</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">git</span> branch --set-upstream dev origin/dev
</code></pre></div><p>提交
git push origin dev
拉取
git pull</p> <h3 id="本地远程分支相关"><a href="#本地远程分支相关" class="header-anchor">#</a> 本地远程分支相关</h3> <p>查看远程分支 git branch -a</p> <p>删除本地分支：git branch -d name</p> <p>例，删除了本地 dev</p> <div class="language-sh extra-class"><pre class="language-sh"><code>* master
  remotes/origin/dev
  remotes/origin/master
</code></pre></div><p>删除远程分支（两种方法）</p> <p>git push --delete origin dev</p> <p>git push origin :dev(冒号前面一个空格)</p> <h3 id="回退和重置"><a href="#回退和重置" class="header-anchor">#</a> 回退和重置</h3> <div class="language- extra-class"><pre class="language-text"><code>git reset f31658a5
git push -f
</code></pre></div><p>是直接返回到某一个时间点， 后面的提交都会直接没有了。</p> <div class="language- extra-class"><pre class="language-text"><code>git revert -n f31658a5
</code></pre></div><p>是会重新生成一个你需要重置提交点的新提交， 指定 revert 提交点后面的所有提交都还在，这样会保证后面的内容还在。</p> <h3 id="变基"><a href="#变基" class="header-anchor">#</a> 变基</h3> <p>中文名好难听，其实就是 git rebase</p> <h3 id="远程不同于本地"><a href="#远程不同于本地" class="header-anchor">#</a> 远程不同于本地</h3> <p>可以通过如下命令进行代码合并【注：pull=fetch+merge]
git pull --rebase origin master</p> <h3 id="remote"><a href="#remote" class="header-anchor">#</a> remote</h3> <p>添加一个新的 remote</p> <div class="language- extra-class"><pre class="language-text"><code>git remote add myOrigin https://github.com/yiliang114/ant-design-vue.git
</code></pre></div><p>remote 重命名</p> <div class="language- extra-class"><pre class="language-text"><code>git remote rename myOrigin origin
</code></pre></div><p>设置本地默认 git push 的 remote:
需要修改 <code>.git/config</code></p> <div class="language- extra-class"><pre class="language-text"><code>[branch &quot;master&quot;]
  remote = origin
  merge = refs/heads/master
</code></pre></div><h3 id="commit-close-issuses"><a href="#commit-close-issuses" class="header-anchor">#</a> Commit Close Issuses</h3> <p>可以通过 close #+issues 序号来关闭 issues，很简单，但它也是有一定条件的。
起初我以为只用调用这个命令就可以了，无论是在评论、commit 还是 merge 中，今天发现原来不是，在 merge 中使用，当 merge 通过后 issues 会被关闭；在 commit 中使用，只有在 commit 推送到默认分支时才会生效；在评论中使用是没用的。</p> <p>拉取远程（其他分支）到本地自己的分支</p> <div class="language- extra-class"><pre class="language-text"><code>git pull origin feature-1.1
</code></pre></div><p>合并几个 commit。~number number 代码从当前的 commit 开始往前推几个 commit</p> <div class="language- extra-class"><pre class="language-text"><code>git rebase -i HEAD~6
</code></pre></div><p>如果 rebase 的是本地的 commit 的话，接下来就直接 git push 就行了。 如果 rebase 的包含远程的 commit ，那就 git push -f。
但是需要注意的是，git push -f 是强制推送，除非推送的是自己的分支（并且保证没有其他改动，可以才直接推送）才可以这样，不然会将别人的代码覆盖掉。</p> <p>回退到某一个 commit</p> <div class="language- extra-class"><pre class="language-text"><code>git reset commitID
</code></pre></div><p>暂存</p> <div class="language- extra-class"><pre class="language-text"><code>git stash
</code></pre></div><p>弹出暂存</p> <div class="language- extra-class"><pre class="language-text"><code>git stash pop
</code></pre></div><h3 id="使用-git-pull-rebase-代替-git-pull"><a href="#使用-git-pull-rebase-代替-git-pull" class="header-anchor">#</a> 使用 git pull --rebase 代替 git pull</h3> <p>为什么要使用 git pull --rebase？
https://www.jianshu.com/p/dc367c8dca8e</p> <p>会多出很多 commit 需要 git push --force-with-lease 才能继续往上推</p> <h3 id="force-with-lease"><a href="#force-with-lease" class="header-anchor">#</a> --force-with-lease</h3> <p>https://www.cnblogs.com/rxbook/p/9341606.html</p> <div class="language- extra-class"><pre class="language-text"><code>git pull --rebase AntDesign develop
git push AntDesign 20200102/table-fix --force-with-lease
</code></pre></div></div></article> <section class="post-meta main-div" data-v-42efe1fc><section class="post-date clearfix" data-v-42efe1fc><span class="create-date" data-v-42efe1fc>发布时间 : 2020-01-22</span> <!----></section> <section class="post-links" data-v-42efe1fc><a href="/posts/2020/01/22/%E5%A4%9A%E4%B8%AA-origin-%E5%8C%BA%E5%88%86%E7%94%A8%E6%88%B7%E5%90%8D.html" class="post-link" data-v-42efe1fc>上一篇 : 多个 origin 区分用户名</a> <a href="/posts/2020/07/19/%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E6%94%B6%E5%BD%95.html" class="post-link" data-v-42efe1fc>下一篇 : 搜索引擎收录</a></section></section> <div id="post-comments" class="main-div"><!----></div></div></main> <aside class="aside" data-v-5e7fbdae><!----> <!----> <div class="post-nav-card main-div" data-v-5e7fbdae><div class="post-nav-contents"><svg class="icon"><title>book</title><use xlink:href="#icon-book"></use></svg> <span>文章目录</span> <div class="post-nav-toc"><ul><li><a href="/posts/2020/01/22/git%E5%8E%9F%E7%90%86%E5%92%8C%E6%93%8D%E4%BD%9C.html#原理相关">原理相关</a><ul><li><a href="/posts/2020/01/22/git%E5%8E%9F%E7%90%86%E5%92%8C%E6%93%8D%E4%BD%9C.html#集中式与分布式">集中式与分布式</a></li><li><a href="/posts/2020/01/22/git%E5%8E%9F%E7%90%86%E5%92%8C%E6%93%8D%E4%BD%9C.html#git-的中心服务器">Git 的中心服务器</a></li><li><a href="/posts/2020/01/22/git%E5%8E%9F%E7%90%86%E5%92%8C%E6%93%8D%E4%BD%9C.html#git-工作流">Git 工作流</a></li><li><a href="/posts/2020/01/22/git%E5%8E%9F%E7%90%86%E5%92%8C%E6%93%8D%E4%BD%9C.html#分支实现">分支实现</a></li><li><a href="/posts/2020/01/22/git%E5%8E%9F%E7%90%86%E5%92%8C%E6%93%8D%E4%BD%9C.html#冲突">冲突</a></li><li><a href="/posts/2020/01/22/git%E5%8E%9F%E7%90%86%E5%92%8C%E6%93%8D%E4%BD%9C.html#fast-forward">Fast forward</a></li><li><a href="/posts/2020/01/22/git%E5%8E%9F%E7%90%86%E5%92%8C%E6%93%8D%E4%BD%9C.html#分支管理策略">分支管理策略</a></li><li><a href="/posts/2020/01/22/git%E5%8E%9F%E7%90%86%E5%92%8C%E6%93%8D%E4%BD%9C.html#储藏-stashing">储藏（Stashing）</a></li><li><a href="/posts/2020/01/22/git%E5%8E%9F%E7%90%86%E5%92%8C%E6%93%8D%E4%BD%9C.html#ssh-传输设置">SSH 传输设置</a></li><li><a href="/posts/2020/01/22/git%E5%8E%9F%E7%90%86%E5%92%8C%E6%93%8D%E4%BD%9C.html#gitignore-文件">.gitignore 文件</a></li></ul></li><li><a href="/posts/2020/01/22/git%E5%8E%9F%E7%90%86%E5%92%8C%E6%93%8D%E4%BD%9C.html#git-操作相关">Git 操作相关</a><ul><li><a href="/posts/2020/01/22/git%E5%8E%9F%E7%90%86%E5%92%8C%E6%93%8D%E4%BD%9C.html#基本配置">基本配置</a></li><li><a href="/posts/2020/01/22/git%E5%8E%9F%E7%90%86%E5%92%8C%E6%93%8D%E4%BD%9C.html#创建版本库-mkdir-pwd-git-init">创建版本库 mkdir -&gt; pwd -&gt; git init</a></li><li><a href="/posts/2020/01/22/git%E5%8E%9F%E7%90%86%E5%92%8C%E6%93%8D%E4%BD%9C.html#版本回退">版本回退</a></li><li><a href="/posts/2020/01/22/git%E5%8E%9F%E7%90%86%E5%92%8C%E6%93%8D%E4%BD%9C.html#工作区和暂存区">工作区和暂存区</a></li><li><a href="/posts/2020/01/22/git%E5%8E%9F%E7%90%86%E5%92%8C%E6%93%8D%E4%BD%9C.html#git-撤销修改和删除文件操作">Git 撤销修改和删除文件操作</a></li><li><a href="/posts/2020/01/22/git%E5%8E%9F%E7%90%86%E5%92%8C%E6%93%8D%E4%BD%9C.html#远程仓库">远程仓库</a></li><li><a href="/posts/2020/01/22/git%E5%8E%9F%E7%90%86%E5%92%8C%E6%93%8D%E4%BD%9C.html#创建与合并分支">创建与合并分支</a></li><li><a href="/posts/2020/01/22/git%E5%8E%9F%E7%90%86%E5%92%8C%E6%93%8D%E4%BD%9C.html#工作现场">工作现场</a></li><li><a href="/posts/2020/01/22/git%E5%8E%9F%E7%90%86%E5%92%8C%E6%93%8D%E4%BD%9C.html#多人协作">多人协作</a></li><li><a href="/posts/2020/01/22/git%E5%8E%9F%E7%90%86%E5%92%8C%E6%93%8D%E4%BD%9C.html#本地远程分支相关">本地远程分支相关</a></li><li><a href="/posts/2020/01/22/git%E5%8E%9F%E7%90%86%E5%92%8C%E6%93%8D%E4%BD%9C.html#回退和重置">回退和重置</a></li><li><a href="/posts/2020/01/22/git%E5%8E%9F%E7%90%86%E5%92%8C%E6%93%8D%E4%BD%9C.html#变基">变基</a></li><li><a href="/posts/2020/01/22/git%E5%8E%9F%E7%90%86%E5%92%8C%E6%93%8D%E4%BD%9C.html#远程不同于本地">远程不同于本地</a></li><li><a href="/posts/2020/01/22/git%E5%8E%9F%E7%90%86%E5%92%8C%E6%93%8D%E4%BD%9C.html#remote">remote</a></li><li><a href="/posts/2020/01/22/git%E5%8E%9F%E7%90%86%E5%92%8C%E6%93%8D%E4%BD%9C.html#commit-close-issuses">Commit Close Issuses</a></li><li><a href="/posts/2020/01/22/git%E5%8E%9F%E7%90%86%E5%92%8C%E6%93%8D%E4%BD%9C.html#使用-git-pull-rebase-代替-git-pull">使用 git pull --rebase 代替 git pull</a></li><li><a href="/posts/2020/01/22/git%E5%8E%9F%E7%90%86%E5%92%8C%E6%93%8D%E4%BD%9C.html#force-with-lease">--force-with-lease</a></li></ul></li></ul></div></div> <div class="post-nav-comments"><svg class="icon"><title>comment</title><use xlink:href="#icon-comment"></use></svg> <a href="/posts/2020/01/22/git%E5%8E%9F%E7%90%86%E5%92%8C%E6%93%8D%E4%BD%9C.html#post-comments">评论</a></div></div></aside></div> <footer class="footer" data-v-fcc2f45a><p class="footer-sns-links" data-v-fcc2f45a><a href="https://github.com/yiliang114" target="_blank" rel="noopener" class="sns-link" data-v-fcc2f45a><span title="GitHub: yiliang" class="sns-icon" data-v-fcc2f45a data-v-fcc2f45a><svg class="icon" style="font-size:25px;" data-v-fcc2f45a data-v-fcc2f45a><title data-v-fcc2f45a data-v-fcc2f45a>GitHub: yiliang</title><use xlink:href="#icon-github" data-v-fcc2f45a data-v-fcc2f45a></use></svg></span></a><a href="https://twitter.com/yiliang79503471" target="_blank" rel="noopener" class="sns-link" data-v-fcc2f45a><span title="Twitter: yiliang" class="sns-icon" data-v-fcc2f45a data-v-fcc2f45a><svg class="icon" style="font-size:25px;" data-v-fcc2f45a data-v-fcc2f45a><title data-v-fcc2f45a data-v-fcc2f45a>Twitter: yiliang</title><use xlink:href="#icon-twitter" data-v-fcc2f45a data-v-fcc2f45a></use></svg></span></a><a href="https://weibo.com/u/3386520174" target="_blank" rel="noopener" class="sns-link" data-v-fcc2f45a><span title="新浪微博: @易良同学" class="sns-icon" data-v-fcc2f45a data-v-fcc2f45a><svg class="icon" style="font-size:25px;" data-v-fcc2f45a data-v-fcc2f45a><title data-v-fcc2f45a data-v-fcc2f45a>新浪微博: @易良同学</title><use xlink:href="#icon-weibo" data-v-fcc2f45a data-v-fcc2f45a></use></svg></span></a><a href="https://www.zhihu.com/people/Mrz2J" target="_blank" rel="noopener" class="sns-link" data-v-fcc2f45a><span title="知乎: 易良" class="sns-icon" data-v-fcc2f45a data-v-fcc2f45a><svg class="icon" style="font-size:25px;" data-v-fcc2f45a data-v-fcc2f45a><title data-v-fcc2f45a data-v-fcc2f45a>知乎: 易良</title><use xlink:href="#icon-zhihu" data-v-fcc2f45a data-v-fcc2f45a></use></svg></span></a><a href="https://blog.csdn.net/GreekMrzzJ" target="_blank" rel="noopener" class="sns-link" data-v-fcc2f45a><span title="CSDN: yiliang" class="sns-icon" data-v-fcc2f45a data-v-fcc2f45a><svg class="icon" style="font-size:25px;" data-v-fcc2f45a data-v-fcc2f45a><title data-v-fcc2f45a data-v-fcc2f45a>CSDN: yiliang</title><use xlink:href="#icon-csdn" data-v-fcc2f45a data-v-fcc2f45a></use></svg></span></a><a href="https://juejin.im/user/58809a6db123db0061cfd1c3" target="_blank" rel="noopener" class="sns-link" data-v-fcc2f45a><span title="掘金: yiliang" class="sns-icon" data-v-fcc2f45a data-v-fcc2f45a><svg class="icon" style="font-size:25px;" data-v-fcc2f45a data-v-fcc2f45a><title data-v-fcc2f45a data-v-fcc2f45a>掘金: yiliang</title><use xlink:href="#icon-juejin" data-v-fcc2f45a data-v-fcc2f45a></use></svg></span></a></p> <!----> <p class="footer-text" data-v-fcc2f45a><span data-v-fcc2f45a>浙ICP备16046652号</span></p> <p class="footer-text" data-v-fcc2f45a>Copyright 2018-present <a href="https://github.com/yiliang114" target="_blank">yiliang114</a> | MIT License</p></footer></div><div class="global-ui"><!----><!----><div></div><canvas id="vuepress-canvas-cursor"></canvas><!----></div></div>
    <script src="/assets/js/vendor.vue.22470dd9.js" defer></script><script src="/assets/js/27.9d447c0a.js" defer></script><script src="/assets/js/vendor.commons.63940afe.js" defer></script><script src="/assets/js/app.34947d8e.js" defer></script>
  </body>
</html>
