<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>JQuery 源码分析 | 易良同学的博客</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="shortcut icon" href="/favicon.ico" type="image/jpg">
    <link rel="manifest" href="/manifest.json">
    <meta name="description" content="(function(window, undefined) {
  //用一个函数域包起来，就是所谓的沙箱
  //在这里边var定义的变量，属于这个函数域内的局部变量，避免污染全局
  //把当前沙箱需要的外部变量通过函数参数引入进来
  //只要保证参数对内提供的接口的一致性，你还可以随意替换传进来的这个参数
  window.jQuery = window.$ = jQuery;
})(window);
`">
    <meta name="twitter:title" content="JQuery 源码分析">
    <meta name="twitter:description" content="(function(window, undefined) {
  //用一个函数域包起来，就是所谓的沙箱
  //在这里边var定义的变量，属于这个函数域内的局部变量，避免污染全局
  //把当前沙箱需要的外部变量通过函数参数引入进来
  //只要保证参数对内提供的接口的一致性，你还可以随意替换传进来的这个参数
  window.jQuery = window.$ = jQuery;
})(window);
`">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:url" content="https://yiliang.site/_posts/%E7%9F%A5%E8%AF%86%E5%BA%93/JQuery/jQuery-zh.html">
    <meta property="og:type" content="article">
    <meta property="og:title" content="JQuery 源码分析">
    <meta property="og:description" content="(function(window, undefined) {
  //用一个函数域包起来，就是所谓的沙箱
  //在这里边var定义的变量，属于这个函数域内的局部变量，避免污染全局
  //把当前沙箱需要的外部变量通过函数参数引入进来
  //只要保证参数对内提供的接口的一致性，你还可以随意替换传进来的这个参数
  window.jQuery = window.$ = jQuery;
})(window);
`">
    <meta property="og:url" content="https://yiliang.site/_posts/%E7%9F%A5%E8%AF%86%E5%BA%93/JQuery/jQuery-zh.html">
    <meta property="og:site_name" content="易良 yiliang">
    <meta property="article:published_time" content="2019-11-21T00:00:00.000Z">
    <meta itemprop="name" content="JQuery 源码分析">
    <meta itemprop="description" content="(function(window, undefined) {
  //用一个函数域包起来，就是所谓的沙箱
  //在这里边var定义的变量，属于这个函数域内的局部变量，避免污染全局
  //把当前沙箱需要的外部变量通过函数参数引入进来
  //只要保证参数对内提供的接口的一致性，你还可以随意替换传进来的这个参数
  window.jQuery = window.$ = jQuery;
})(window);
`">
    <meta name="keywords" content="前端博客,个人技术博客,前端,前端开发,前端框架,web前端,前端面试题,技术文档,学习,面试,JavaScript,js,ES6,TypeScript,vue,python,css3,html5,Node,git,github,markdown">
    
    <link rel="preload" href="/assets/js/vendor.vue.22470dd9.js" as="script"><link rel="preload" href="/assets/css/0.styles.63940afe.css" as="style"><link rel="preload" href="/assets/js/vendor.commons.63940afe.js" as="script"><link rel="preload" href="/assets/js/app.34947d8e.js" as="script"><link rel="preload" href="/assets/js/29.049a9710.js" as="script"><link rel="prefetch" href="/assets/js/10.9a756169.js"><link rel="prefetch" href="/assets/js/11.85f8dab7.js"><link rel="prefetch" href="/assets/js/12.b4cc6c17.js"><link rel="prefetch" href="/assets/js/13.fbfbe27e.js"><link rel="prefetch" href="/assets/js/14.dd96edfa.js"><link rel="prefetch" href="/assets/js/15.55718840.js"><link rel="prefetch" href="/assets/js/16.73f8e254.js"><link rel="prefetch" href="/assets/js/17.9f60deb8.js"><link rel="prefetch" href="/assets/js/18.ac011fe0.js"><link rel="prefetch" href="/assets/js/19.495fea85.js"><link rel="prefetch" href="/assets/js/20.b94e8387.js"><link rel="prefetch" href="/assets/js/21.a899318f.js"><link rel="prefetch" href="/assets/js/22.8e8c9ab8.js"><link rel="prefetch" href="/assets/js/23.635fbb1c.js"><link rel="prefetch" href="/assets/js/24.2c7afe79.js"><link rel="prefetch" href="/assets/js/25.4a17c9ae.js"><link rel="prefetch" href="/assets/js/26.d1b3b48a.js"><link rel="prefetch" href="/assets/js/27.9d447c0a.js"><link rel="prefetch" href="/assets/js/28.ab638595.js"><link rel="prefetch" href="/assets/js/3.5778f50e.js"><link rel="prefetch" href="/assets/js/30.7dcc7a8c.js"><link rel="prefetch" href="/assets/js/31.ab880fe4.js"><link rel="prefetch" href="/assets/js/32.0e0cbd28.js"><link rel="prefetch" href="/assets/js/33.d0f8a4fc.js"><link rel="prefetch" href="/assets/js/34.0d1eca53.js"><link rel="prefetch" href="/assets/js/35.8f67d7e8.js"><link rel="prefetch" href="/assets/js/36.7f1e0fe5.js"><link rel="prefetch" href="/assets/js/37.8207e352.js"><link rel="prefetch" href="/assets/js/38.fcb47a79.js"><link rel="prefetch" href="/assets/js/39.e26e8758.js"><link rel="prefetch" href="/assets/js/4.6697030e.js"><link rel="prefetch" href="/assets/js/40.511b7362.js"><link rel="prefetch" href="/assets/js/41.23980a04.js"><link rel="prefetch" href="/assets/js/42.7d812c8f.js"><link rel="prefetch" href="/assets/js/43.e9f4c163.js"><link rel="prefetch" href="/assets/js/44.a70b510d.js"><link rel="prefetch" href="/assets/js/45.0e3f6992.js"><link rel="prefetch" href="/assets/js/46.42614d9e.js"><link rel="prefetch" href="/assets/js/47.acc03387.js"><link rel="prefetch" href="/assets/js/48.1f987f52.js"><link rel="prefetch" href="/assets/js/49.53a7fd46.js"><link rel="prefetch" href="/assets/js/5.c3113993.js"><link rel="prefetch" href="/assets/js/50.eb913ef1.js"><link rel="prefetch" href="/assets/js/51.24dbae80.js"><link rel="prefetch" href="/assets/js/52.5fcfa379.js"><link rel="prefetch" href="/assets/js/53.fd9f3e2b.js"><link rel="prefetch" href="/assets/js/54.56ca5860.js"><link rel="prefetch" href="/assets/js/55.5997fac6.js"><link rel="prefetch" href="/assets/js/56.9c74e6d6.js"><link rel="prefetch" href="/assets/js/57.f24bf036.js"><link rel="prefetch" href="/assets/js/58.5c310d29.js"><link rel="prefetch" href="/assets/js/6.72d4d30e.js"><link rel="prefetch" href="/assets/js/7.64e679fc.js"><link rel="prefetch" href="/assets/js/8.f5c49058.js"><link rel="prefetch" href="/assets/js/9.b9fcef5c.js">
    <link rel="stylesheet" href="/assets/css/0.styles.63940afe.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div id="vuepress-theme-yiliang114"><header class="header" data-v-684ee972><div data-v-0b0af033 data-v-684ee972><nav class="navbar" data-v-0b0af033><div class="container" data-v-0b0af033><a href="/" class="router-link-active" data-v-0b0af033><span class="navbar-site-name" data-v-0b0af033>易良同学的博客</span></a> <div class="navbar-toggler" data-v-0b0af033><svg class="icon" style="font-size:1.2em;" data-v-0b0af033 data-v-0b0af033><title data-v-0b0af033 data-v-0b0af033>menu</title><use xlink:href="#icon-menu" data-v-0b0af033 data-v-0b0af033></use></svg></div> <div class="navbar-links" data-v-0b0af033><a href="/" class="navbar-link" data-v-0b0af033>首页</a><a href="/posts/" class="navbar-link router-link-active" data-v-0b0af033>文章</a><a href="/posts/categories/" class="navbar-link" data-v-0b0af033>分类</a><a href="/links/" class="navbar-link" data-v-0b0af033>友链</a></div></div></nav> <div class="navbar-holder" style="display:none;" data-v-0b0af033></div></div> <div class="banner" data-v-4f70089d data-v-684ee972 data-v-684ee972><div class="container" data-v-4f70089d><div class="center" data-v-4f70089d><h1 data-v-4f70089d data-v-684ee972>JQuery 源码分析</h1></div></div></div></header> <div class="container clearfix" data-v-5e7fbdae data-v-5e7fbdae><main class="main" data-v-5e7fbdae><div class="post" data-v-5e7fbdae><section class="post-meta main-div" data-v-42efe1fc><section class="post-date clearfix" data-v-42efe1fc><span class="create-date" data-v-42efe1fc>发布时间 : 2019-11-21</span> <!----></section> <section class="post-links" data-v-42efe1fc><a href="/posts/2019/11/21/jquery%E6%BA%90%E7%A0%81.html" class="post-link" data-v-42efe1fc>上一篇 : jquery 源码</a> <a href="/posts/2020/01/22/%E5%A4%9A%E4%B8%AA-origin-%E5%8C%BA%E5%88%86%E7%94%A8%E6%88%B7%E5%90%8D.html" class="post-link" data-v-42efe1fc>下一篇 : 多个 origin 区分用户名</a></section></section> <article class="main-div"><div class="post-content content content__default"><h3 id="你觉得-jquery-或-zepto-源码有哪些写的好的地方"><a href="#你觉得-jquery-或-zepto-源码有哪些写的好的地方" class="header-anchor">#</a> 你觉得 jQuery 或 zepto 源码有哪些写的好的地方</h3> <ul><li>jquery 源码封装在一个匿名函数的自执行环境中，有助于防止变量的全局污染，然后通过传入 window 对象参数，可以使 window 对象作为局部变量使用，好处是当 jquery 中访问 window 对象的时候，就不用将作用域链退回到顶层作用域了，从而可以更快的访问 window 对象。同样，传入 undefined 参数，可以缩短查找 undefined 时的作用域链</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">window<span class="token punctuation">,</span> <span class="token keyword">undefined</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">//用一个函数域包起来，就是所谓的沙箱</span>
  <span class="token comment">//在这里边var定义的变量，属于这个函数域内的局部变量，避免污染全局</span>
  <span class="token comment">//把当前沙箱需要的外部变量通过函数参数引入进来</span>
  <span class="token comment">//只要保证参数对内提供的接口的一致性，你还可以随意替换传进来的这个参数</span>
  window<span class="token punctuation">.</span>jQuery <span class="token operator">=</span> window<span class="token punctuation">.</span>$ <span class="token operator">=</span> jQuery<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span>window<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>jquery 将一些原型属性和方法封装在了 jquery.prototype 中，为了缩短名称，又赋值给了 jquery.fn，这是很形象的写法</li> <li>有一些数组或对象的方法经常能使用到，jQuery 将其保存为局部变量以提高访问速度</li> <li>jquery 实现的链式调用可以节约代码，所返回的都是同一个对象，可以提高代码效率</li></ul> <h3 id="jquery-的实现原理"><a href="#jquery-的实现原理" class="header-anchor">#</a> jQuery 的实现原理？</h3> <ul><li><p><code>(function(window, undefined) {})(window);</code></p></li> <li><p>jQuery 利用 JS 函数作用域的特性，采用立即调用表达式包裹了自身，解决命名空间和变量污染问题</p></li> <li><p><code>window.jQuery = window.$ = jQuery;</code></p></li> <li><p>在闭包当中将 jQuery 和 $ 绑定到 window 上，从而将 jQuery 和 $ 暴露为全局变量</p></li></ul> <h3 id="jquery-fn-的-init-方法返回的-this-指的是什么对象-为什么要返回-this"><a href="#jquery-fn-的-init-方法返回的-this-指的是什么对象-为什么要返回-this" class="header-anchor">#</a> jQuery.fn 的 init 方法返回的 this 指的是什么对象？ 为什么要返回 this？</h3> <ul><li>jQuery.fn 的 init 方法 返回的 this 就是 jQuery 对象</li> <li>用户使用 jQuery() 或 $() 即可初始化 jQuery 对象，不需要动态的去调用 init 方法</li></ul> <h3 id="jquery-extend-与-jquery-fn-extend-的区别"><a href="#jquery-extend-与-jquery-fn-extend-的区别" class="header-anchor">#</a> jQuery.extend 与 jQuery.fn.extend 的区别？</h3> <ul><li>$.fn.extend() 和 $.extend() 是 jQuery 为扩展插件提拱了两个方法</li> <li>$.extend(object); // 为 jQuery 添加“静态方法”（工具方法）</li></ul> <div class="language- extra-class"><pre class="language-text"><code>$.extend({
　　min: function(a, b) { return a &lt; b ? a : b; },
　　max: function(a, b) { return a &gt; b ? a : b; }
});
$.min(2,3); //  2
$.max(4,5); //  5
</code></pre></div><ul><li>$.extend([true,] targetObject, object1[, object2]); // 对 targt 对象进行扩展</li></ul> <div class="language- extra-class"><pre class="language-text"><code>var settings = {validate:false, limit:5};
var options = {validate:true, name:&quot;bar&quot;};
$.extend(settings, options);  // 注意：不支持第一个参数传 false
// settings == {validate:true, limit:5, name:&quot;bar&quot;}
</code></pre></div><ul><li>$.fn.extend(json); // 为 jQuery 添加“成员函数”（实例方法）</li></ul> <div class="language- extra-class"><pre class="language-text"><code>
$.fn.extend({
   alertValue: function() {
      $(this).click(function(){
        alert($(this).val());
      });
   }
});

$(&quot;#email&quot;).alertValue();
</code></pre></div><h3 id="jquery-的属性拷贝-extend-的实现原理是什么-如何实现深拷贝"><a href="#jquery-的属性拷贝-extend-的实现原理是什么-如何实现深拷贝" class="header-anchor">#</a> jQuery 的属性拷贝(extend)的实现原理是什么，如何实现深拷贝？</h3> <ul><li><p>浅拷贝（只复制一份原始对象的引用）
<code>var newObject = $.extend({}, oldObject);</code></p></li> <li><p>深拷贝（对原始对象属性所引用的对象进行进行递归拷贝）
<code>var newObject = $.extend(true, {}, oldObject);</code></p></li></ul> <h3 id="jquery-的队列是如何实现的-队列可以用在哪些地方"><a href="#jquery-的队列是如何实现的-队列可以用在哪些地方" class="header-anchor">#</a> jQuery 的队列是如何实现的？队列可以用在哪些地方？</h3> <ul><li>jQuery 核心中有一组队列控制方法，由 queue()/dequeue()/clearQueue() 三个方法组成。</li> <li>主要应用于 animate()，ajax，其他要按时间顺序执行的事件中</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> <span class="token function-variable function">func1</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'事件1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> <span class="token function-variable function">func2</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'事件2'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> <span class="token function-variable function">func3</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'事件3'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> <span class="token function-variable function">func4</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'事件4'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// 入栈队列事件</span>
<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#box'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">queue</span><span class="token punctuation">(</span><span class="token string">'queue1'</span><span class="token punctuation">,</span> func1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// push func1 to queue1</span>
<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#box'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">queue</span><span class="token punctuation">(</span><span class="token string">'queue1'</span><span class="token punctuation">,</span> func2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// push func2 to queue1</span>

<span class="token comment">// 替换队列事件</span>
<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#box'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">queue</span><span class="token punctuation">(</span><span class="token string">'queue1'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// delete queue1 with empty array</span>
<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#box'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">queue</span><span class="token punctuation">(</span><span class="token string">'queue1'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>func3<span class="token punctuation">,</span> func4<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// replace queue1</span>

<span class="token comment">// 获取队列事件（返回一个函数数组）</span>
<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#box'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">queue</span><span class="token punctuation">(</span><span class="token string">'queue1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [func3(), func4()]</span>

<span class="token comment">// 出栈队列事件并执行</span>
<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#box'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">dequeue</span><span class="token punctuation">(</span><span class="token string">'queue1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// return func3 and do func3</span>
<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#box'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">dequeue</span><span class="token punctuation">(</span><span class="token string">'queue1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// return func4 and do func4</span>

<span class="token comment">// 清空整个队列</span>
<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#box'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">clearQueue</span><span class="token punctuation">(</span><span class="token string">'queue1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// delete queue1 with clearQueue</span>
</code></pre></div><h3 id="jquery-中的-bind-live-delegate-on-的区别"><a href="#jquery-中的-bind-live-delegate-on-的区别" class="header-anchor">#</a> jQuery 中的 bind(), live(), delegate(), on()的区别？</h3> <ul><li>bind 直接绑定在目标元素上</li> <li>live 通过冒泡传播事件，默认 document 上，支持动态数据</li> <li>delegate 更精确的小范围使用事件代理，性能优于 live</li> <li>on 是最新的 1.9 版本整合了之前的三种方式的新事件绑定机制</li></ul> <h3 id="是否知道自定义事件-jquery-里的-fire-函数是什么意思-什么时候用"><a href="#是否知道自定义事件-jquery-里的-fire-函数是什么意思-什么时候用" class="header-anchor">#</a> 是否知道自定义事件？ jQuery 里的 fire 函数是什么意思，什么时候用？</h3> <ul><li>事件即“发布/订阅”模式，自定义事件即“消息发布”，事件的监听即“订阅订阅”</li> <li>JS 原生支持自定义事件，示例：</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>document<span class="token punctuation">.</span><span class="token function">createEvent</span><span class="token punctuation">(</span>type<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 创建事件</span>
event<span class="token punctuation">.</span><span class="token function">initEvent</span><span class="token punctuation">(</span>eventType<span class="token punctuation">,</span> canBubble<span class="token punctuation">,</span> prevent<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 初始化事件</span>
target<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'dataavailable'</span><span class="token punctuation">,</span> handler<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 监听事件</span>
target<span class="token punctuation">.</span><span class="token function">dispatchEvent</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 触发事件</span>
</code></pre></div><ul><li>jQuery 里的 fire 函数用于调用 jQuery 自定义事件列表中的事件</li></ul> <h3 id="jquery-通过哪个方法和-sizzle-选择器结合的"><a href="#jquery-通过哪个方法和-sizzle-选择器结合的" class="header-anchor">#</a> jQuery 通过哪个方法和 Sizzle 选择器结合的？</h3> <ul><li>Sizzle 选择器采取 Right To Left 的匹配模式，先搜寻所有匹配标签，再判断它的父节点</li> <li>jQuery 通过 $(selecter).find(selecter); 和 Sizzle 选择器结合</li></ul> <h3 id="jquery-中如何将数组转化为-json-字符串-然后再转化回来"><a href="#jquery-中如何将数组转化为-json-字符串-然后再转化回来" class="header-anchor">#</a> jQuery 中如何将数组转化为 JSON 字符串，然后再转化回来？</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 通过原生 JSON.stringify/JSON.parse 扩展 jQuery 实现</span>
$<span class="token punctuation">.</span><span class="token function-variable function">array2json</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">array</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>array<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

$<span class="token punctuation">.</span><span class="token function-variable function">json2array</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">array</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// $.parseJSON(array); // 3.0 开始，已过时</span>
  <span class="token keyword">return</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>array<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// 调用</span>
<span class="token keyword">var</span> json <span class="token operator">=</span> $<span class="token punctuation">.</span><span class="token function">array2json</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> array <span class="token operator">=</span> $<span class="token punctuation">.</span><span class="token function">json2array</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="jquery-一个对象可以同时绑定多个事件-这是如何实现的"><a href="#jquery-一个对象可以同时绑定多个事件-这是如何实现的" class="header-anchor">#</a> jQuery 一个对象可以同时绑定多个事件，这是如何实现的？</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#btn'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'mouseover mouseout'</span><span class="token punctuation">,</span> func<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#btn'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">mouseover</span><span class="token operator">:</span> func1<span class="token punctuation">,</span>
  <span class="token literal-property property">mouseout</span><span class="token operator">:</span> func2<span class="token punctuation">,</span>
  <span class="token literal-property property">click</span><span class="token operator">:</span> func3<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="针对-jquery-的优化方法"><a href="#针对-jquery-的优化方法" class="header-anchor">#</a> 针对 jQuery 的优化方法？</h3> <ul><li><p>缓存频繁操作 DOM 对象</p></li> <li><p>尽量使用 id 选择器代替 class 选择器</p></li> <li><p>总是从#id 选择器来继承</p></li> <li><p>尽量使用链式操作</p></li> <li><p>使用时间委托 on 绑定事件</p></li> <li><p>采用 jQuery 的内部函数 data()来存储数据</p></li> <li><p>使用最新版本的 jQuery</p></li> <li><p>基于 Class 的选择性的性能相对于 Id 选择器开销很大，因为需遍历所有 DOM 元素。</p></li> <li><p>频繁操作的 DOM，先缓存起来再操作。用 Jquery 的链式调用更好</p> <ul><li>比如：var str=$(&quot;a&quot;).attr(&quot;href&quot;);</li></ul></li> <li><p>for (var i = size; i &lt; arr.length; i++) {}</p> <ul><li>for 循环每一次循环都查找了数组 (arr) 的.length 属性，在开始循环的时候设置一个变量来存储这个数字，可以让循环跑得更快：</li> <li>for (var i = size, length = arr.length; i &lt; length; i++) {}</li></ul></li></ul> <h3 id="jquery-的-slideup-动画-当鼠标快速连续触发-动画会滞后反复执行-该如何处理呢"><a href="#jquery-的-slideup-动画-当鼠标快速连续触发-动画会滞后反复执行-该如何处理呢" class="header-anchor">#</a> jQuery 的 slideUp 动画，当鼠标快速连续触发, 动画会滞后反复执行，该如何处理呢?</h3> <ul><li>在触发元素上的事件设置为延迟处理：使用 JS 原生 setTimeout 方法</li> <li>在触发元素的事件时预先停止所有的动画，再执行相应的动画事件：$('.tab').stop().slideUp();</li></ul> <h3 id="jquery-ui-如何自定义组件"><a href="#jquery-ui-如何自定义组件" class="header-anchor">#</a> jQuery UI 如何自定义组件？</h3> <ul><li>通过向 $.widget() 传递组件名称和一个原型对象来完成</li> <li><code>$.widget(&quot;ns.widgetName&quot;, [baseWidget], widgetPrototype);</code></li></ul> <h3 id="jquery-与-jquery-ui、jquery-mobile-区别"><a href="#jquery-与-jquery-ui、jquery-mobile-区别" class="header-anchor">#</a> jQuery 与 jQuery UI、jQuery Mobile 区别？</h3> <ul><li><p>jQuery 是 JS 库，兼容各种 PC 浏览器，主要用作更方便地处理 DOM、事件、动画、AJAX</p></li> <li><p>jQuery UI 是建立在 jQuery 库上的一组用户界面交互、特效、小部件及主题</p></li> <li><p>jQuery Mobile 以 jQuery 为基础，用于创建“移动 Web 应用”的框架</p></li></ul> <h3 id="jquery-和-zepto-的区别-各自的使用场景"><a href="#jquery-和-zepto-的区别-各自的使用场景" class="header-anchor">#</a> jQuery 和 Zepto 的区别？ 各自的使用场景？</h3> <ul><li>jQuery 主要目标是 PC 的网页中，兼容全部主流浏览器。在移动设备方面，单独推出 jQuery Mobile</li> <li>Zepto 从一开始就定位移动设备，相对更轻量级。它的 API 基本兼容 jQuery，但对 PC 浏览器兼容不理想</li></ul> <h3 id="jquery-extend-与-jquery-fn-extend-的区别-2"><a href="#jquery-extend-与-jquery-fn-extend-的区别-2" class="header-anchor">#</a> jquery.extend 与 jquery.fn.extend 的区别？</h3> <ul><li>jquery.extend 为 jquery 类添加类方法，可以理解为添加静态方法</li> <li>jquery.fn.extend:源码中 jquery.fn = jquery.prototype，所以对 jquery.fn 的扩展，就是为 jquery 类添加成员函数
使用：</li> <li>jquery.extend 扩展，需要通过 jquery 类来调用，而 jquery.fn.extend 扩展，所有 jquery 实例都可以直接调用</li></ul> <h3 id="jquery-与-jquery-ui-有啥区别"><a href="#jquery-与-jquery-ui-有啥区别" class="header-anchor">#</a> Jquery 与 jQuery UI 有啥区别？</h3> <ul><li>jQuery 是一个 js 库，主要提供的功能是选择器，属性修改和事件绑定等等</li> <li>jQuery UI 则是在 jQuery 的基础上，利用 jQuery 的扩展性，设计的插件</li> <li>提供了一些常用的界面元素，诸如对话框、拖动行为、改变大小行为等等</li></ul> <h3 id="jquery-中如何将数组转化为-json-字符串-然后再转化回来-2"><a href="#jquery-中如何将数组转化为-json-字符串-然后再转化回来-2" class="header-anchor">#</a> jquery 中如何将数组转化为 json 字符串，然后再转化回来？</h3> <ul><li>jQuery 中没有提供这个功能，所以你需要先编写两个 jQuery 的扩展：</li></ul> <div class="language- extra-class"><pre class="language-text"><code>$.fn.stringifyArray = function(array) {
    return JSON.stringify(array)
}

$.fn.parseArray = function(array) {
    return JSON.parse(array)
}

然后调用：
$(&quot;&quot;).stringifyArray(array)
</code></pre></div><h3 id="jquery-的-slideup-动画-如果目标元素是被外部事件驱动-当鼠标快速地连续触发外部元素事件-动画会滞后的反复执行-该如何处理呢"><a href="#jquery-的-slideup-动画-如果目标元素是被外部事件驱动-当鼠标快速地连续触发外部元素事件-动画会滞后的反复执行-该如何处理呢" class="header-anchor">#</a> jQuery 的 slideUp 动画 ，如果目标元素是被外部事件驱动, 当鼠标快速地连续触发外部元素事件, 动画会滞后的反复执行，该如何处理呢?</h3> <ul><li>jquery stop(): 如：$(&quot;#div&quot;).stop().animate({width:&quot;100px&quot;},100);</li></ul> <h3 id="jquery-一个对象可以同时绑定多个事件-这是如何实现的-2"><a href="#jquery-一个对象可以同时绑定多个事件-这是如何实现的-2" class="header-anchor">#</a> JQuery 一个对象可以同时绑定多个事件，这是如何实现的？</h3> <ul><li>多个事件同一个函数：<code>$(&quot;div&quot;).on(&quot;click mouseover&quot;, function(){});</code></li> <li>多个事件不同函数</li></ul> <div class="language- extra-class"><pre class="language-text"><code>$(&quot;div&quot;).on({
	click: function(){},
	mouseover: function(){}
});
</code></pre></div><h3 id="jquery-中-′-class′-和-div-class-哪个效率更高"><a href="#jquery-中-′-class′-和-div-class-哪个效率更高" class="header-anchor">#</a> jQuery 中 $(′.class′)和$('div.class') 哪个效率更高？</h3> <ul><li>jQuery 内部使用 Sizzle 引擎，处理各种选择器。Sizzle 引擎的选择顺序是从右到左，所以这条语句是先
选.class，</li> <li>第二个会直接过滤出 div 标签，而第一个就不会过滤了，将所有相关标签都列出。参考《jQuery 最佳实
践》</li></ul></div></article> <section class="post-meta main-div" data-v-42efe1fc><section class="post-date clearfix" data-v-42efe1fc><span class="create-date" data-v-42efe1fc>发布时间 : 2019-11-21</span> <!----></section> <section class="post-links" data-v-42efe1fc><a href="/posts/2019/11/21/jquery%E6%BA%90%E7%A0%81.html" class="post-link" data-v-42efe1fc>上一篇 : jquery 源码</a> <a href="/posts/2020/01/22/%E5%A4%9A%E4%B8%AA-origin-%E5%8C%BA%E5%88%86%E7%94%A8%E6%88%B7%E5%90%8D.html" class="post-link" data-v-42efe1fc>下一篇 : 多个 origin 区分用户名</a></section></section> <div id="post-comments" class="main-div"><!----></div></div></main> <aside class="aside" data-v-5e7fbdae><!----> <!----> <div class="post-nav-card main-div" data-v-5e7fbdae><!----> <div class="post-nav-comments"><svg class="icon"><title>comment</title><use xlink:href="#icon-comment"></use></svg> <a href="/posts/2019/11/21/jquery-zh.html#post-comments">评论</a></div></div></aside></div> <footer class="footer" data-v-fcc2f45a><p class="footer-sns-links" data-v-fcc2f45a><a href="https://github.com/yiliang114" target="_blank" rel="noopener" class="sns-link" data-v-fcc2f45a><span title="GitHub: yiliang" class="sns-icon" data-v-fcc2f45a data-v-fcc2f45a><svg class="icon" style="font-size:25px;" data-v-fcc2f45a data-v-fcc2f45a><title data-v-fcc2f45a data-v-fcc2f45a>GitHub: yiliang</title><use xlink:href="#icon-github" data-v-fcc2f45a data-v-fcc2f45a></use></svg></span></a><a href="https://twitter.com/yiliang79503471" target="_blank" rel="noopener" class="sns-link" data-v-fcc2f45a><span title="Twitter: yiliang" class="sns-icon" data-v-fcc2f45a data-v-fcc2f45a><svg class="icon" style="font-size:25px;" data-v-fcc2f45a data-v-fcc2f45a><title data-v-fcc2f45a data-v-fcc2f45a>Twitter: yiliang</title><use xlink:href="#icon-twitter" data-v-fcc2f45a data-v-fcc2f45a></use></svg></span></a><a href="https://weibo.com/u/3386520174" target="_blank" rel="noopener" class="sns-link" data-v-fcc2f45a><span title="新浪微博: @易良同学" class="sns-icon" data-v-fcc2f45a data-v-fcc2f45a><svg class="icon" style="font-size:25px;" data-v-fcc2f45a data-v-fcc2f45a><title data-v-fcc2f45a data-v-fcc2f45a>新浪微博: @易良同学</title><use xlink:href="#icon-weibo" data-v-fcc2f45a data-v-fcc2f45a></use></svg></span></a><a href="https://www.zhihu.com/people/Mrz2J" target="_blank" rel="noopener" class="sns-link" data-v-fcc2f45a><span title="知乎: 易良" class="sns-icon" data-v-fcc2f45a data-v-fcc2f45a><svg class="icon" style="font-size:25px;" data-v-fcc2f45a data-v-fcc2f45a><title data-v-fcc2f45a data-v-fcc2f45a>知乎: 易良</title><use xlink:href="#icon-zhihu" data-v-fcc2f45a data-v-fcc2f45a></use></svg></span></a><a href="https://blog.csdn.net/GreekMrzzJ" target="_blank" rel="noopener" class="sns-link" data-v-fcc2f45a><span title="CSDN: yiliang" class="sns-icon" data-v-fcc2f45a data-v-fcc2f45a><svg class="icon" style="font-size:25px;" data-v-fcc2f45a data-v-fcc2f45a><title data-v-fcc2f45a data-v-fcc2f45a>CSDN: yiliang</title><use xlink:href="#icon-csdn" data-v-fcc2f45a data-v-fcc2f45a></use></svg></span></a><a href="https://juejin.im/user/58809a6db123db0061cfd1c3" target="_blank" rel="noopener" class="sns-link" data-v-fcc2f45a><span title="掘金: yiliang" class="sns-icon" data-v-fcc2f45a data-v-fcc2f45a><svg class="icon" style="font-size:25px;" data-v-fcc2f45a data-v-fcc2f45a><title data-v-fcc2f45a data-v-fcc2f45a>掘金: yiliang</title><use xlink:href="#icon-juejin" data-v-fcc2f45a data-v-fcc2f45a></use></svg></span></a></p> <!----> <p class="footer-text" data-v-fcc2f45a><span data-v-fcc2f45a>浙ICP备16046652号</span></p> <p class="footer-text" data-v-fcc2f45a>Copyright 2018-present <a href="https://github.com/yiliang114" target="_blank">yiliang114</a> | MIT License</p></footer></div><div class="global-ui"><!----><!----><div></div><canvas id="vuepress-canvas-cursor"></canvas><!----></div></div>
    <script src="/assets/js/vendor.vue.22470dd9.js" defer></script><script src="/assets/js/29.049a9710.js" defer></script><script src="/assets/js/vendor.commons.63940afe.js" defer></script><script src="/assets/js/app.34947d8e.js" defer></script>
  </body>
</html>
