---
title: 项目经历
date: 2020-11-21
aside: false
draft: true
---

# 项目和话术

- 自我介绍，往简历上引导
- 介绍做过的项目
- 说一下你项目中用到的技术栈，做的出色的点，可以改进的地方，以及让你头疼的点，怎么解决的。
- 遇到的问题，或者难点以及解决方案

# 项目阐述

1. 项目获得的成果是什么？ 商业化多一点？
2. 你是怎么做的？ 过程中遇到了哪些问题，是怎么克服的？
3. 从中学到了什么。

# 介绍下你所做的项目

考察你对之前项目的技术栈以及业务的熟悉情况。我就大概说了一些服务对象、用到那些技术、用户量有多少、收入情况如何等。

## 项目经历问题

当沿着一个问题问下去，碰到一个自己不会的问题的时候你要说请面试官指点启发一下，或者说我回去思考一下。不要说不懂算了，他会觉得你对技术没有追求。

- 面试时问题会有难有简单，刚开始问简单的问题时不要觉得不屑，一定要把节奏放的平缓。
- 切忌小聪明，要谦虚
- 聊的方向要对，聊项目时越细越好
- 碰到难题不要胆怯，好好思考，不要动不动说不会，要去猜、去思考，心态要平和
- 连续碰到几个答不上来的自己一定不要消极，要积极一些，不然面试官更没有兴趣来和你聊。

难度大的面试就算过不了，也要提一些疑问，请教一下，争取在这场面试里收获点什么。 问问面试官应该看哪些资料补一下这些知识点，然后问问补完了是不是还可以再来投这个岗位。

# 项目把握程度

项目 + 解决方案。 有什么问题， 如何优化的。对接手的项目要吃透，要发现自己实现的局限性和市面上比较好的解决方案，这个会加分。回答要有规划，从顶层设计到底层实现原理。

# 询问项目经历

在一面二面中问到你具体做过的项目，然后追问项目的细节。这类问题往往会通过下面形式来提问:

1. 发现你简历的一个项目，直接让你介绍下这个项目
2. 做过最满意的项目是什么？
3. 项目背景：为什么要做这件事情？最终达到什么效果？
4. 让你回忆下你做过的项目中，最值得分享(最大型/最困难/最能体现技术能力/最难忘)的
5. 在项目中遇到什么技术问题？具体是如何解决的？
6. 你处于什么样的角色，起到了什么方面的作用？
7. 如果再做这个项目，你会在哪些方面进行改善？
8. 如果让你设计 xx 系统/项目，你会怎么着手干

## 要点

1. 之前的问题（背景）， 为何做？
2. 怎么做（做了什么？）
3. 成效如何？ 最好有数据

## 怎样介绍自己做过的一个项目

简历当中的项目，你要精挑细选，既要体现技术难度，又要想好细节。具体要介绍一个项目(包括梳理一个项目)，可以按照下面几个阶段来做。

### 1. 介绍项目背景

这个项目为什么做，当初大的环境背景是什么? 还是为了解决一个什么问题而设立的项目? 背景是很重要的，如果不了解背景，一上来就听一个结论性的项目，面试官可能对于项目的技术选型、技术难度会有理解偏差，甚至怀疑是否真的有过这样的项目。

### 2. 做了什么

一般来说，面试官细节追问的时候，如果候选人能够把细节或者技术方案等讲明白、讲清楚，不管他是真的做过还是跟别人做过，或者自己认真思考过，都能体现候选人的技术水平和技术视野。前提还是在你能够兜得住的可控范围之内做适当的「美化」。

### 3. 最终的结果和收益

项目介绍过程中，应该介绍项目最终的结果和收益，比如项目最后经过多久的开发上线了，上线后的数据是怎样的，是否达到预期，还是带来了新的问题，遇见了问题自己后续又是怎样补救的。

### 4. 有始有终:项目总结和反思

有总结和反思，才会有进步。 项目做完了往往会有一些心得和体会，这时候应该跟面试官 说出来。在梳理项目的总结和反思时，可以按照下面的列表来梳理:

1. 收获有哪些?
2. 是否有做得不足的地方，怎么改进?
3. 是否具有可迁移性?

比如，之前详细介绍了某个项目，这个项目当时看来没有什么问题，但是现在有更好的解决方案了，候选人就应该在这里提出来:现在看来，这个项目还有 xx 的问题，我可以通过 xx 的方式来解决。

再比如:做这个项目的时候，你做得比较出彩的地方，可以迁移到其他项目中直接使用，小到代码片段，大到解决方案，总会有你值得总结和梳理的地方。
介绍完项目总结这部分，也可以引导面试官往自己擅长的领域思考。比如上面提到项目中的问题，可以往你擅长的方面引导，即使面试官没有问到，你也介绍到了。

按照上面的四段体介绍项目，会让面试官感觉候选人有清晰的思路，对整个项目也有理解和想法，还能够总结反思项目的收益和问题，可谓「一箭三雕」。

## 项目细节和技术点的追问

介绍项目的过程中，面试官可能会追问技术细节，所以我们在准备面试的时候，应该尽量把技术细节梳理清楚，技术细节包括:

1. 技术选型方案: 当时做技术选型所面临的状况
2. 技术解决方案: 最终确定某种技术方案的原因，比如:选择用 Vue 而没有用 React 是为什么?
3. 项目数据和收益
4. 项目中最难的地方
5. 遇见的坑: 如使用某种框架遇见哪些坑。

一般来说，做技术选型的时候需要考虑下面几个因素:

1. 时代: 现在比较火的技术是什么，为什么火起来，解决了什么问题，能否用到我的项 目中?
2. 团队: 个人或者团队对某种技术的熟悉程度是怎样的，学习成本又是怎样的?
3. 业务需求: 需求是怎样的，能否套用现在的成熟解决方案/库来快速解决?
4. 维护成本: 一个解决方案的是否再能够 cover 住的范围之内?

在项目中遇见的数据和收益应该做好跟踪，保证数据的真实性和可信性。另外，遇见的坑可能是面试官问得比较多的，尤其现在比较火的一些技术(Vue、React、webpack)，一 般团队都在使用，所以一定要提前准备下。

# 主题

可视化、性能优化、拖拽、低代码

# 项目经历

我之前在公司，做了我们前端的项目标准化工作，做了我们内部的组件库建设，集成了我们自己的脚手架工具。

这是我觉得，我和其他大多数前端不一样的点，面试官的焦点就会集中在，什么是项目标准化，定义了哪些维度的标准？组件库的建设，解决了什么问题？脚手架的出现，又解决了什么问题？

任何一个人，都是唯一的，任何一个项目，也是不同的，作为面试者的我们，重要的是，要把这些重点要素提取出来，形成自己的“故事”。

## -1. 工程化

1. 前端项目标准？表现为库的选择？文件划分目录的规定？pc、mobile 多端实践？ssr 方案集成？
2. 组件库集成？组件库建设的目的？npm 包的发布？
3. 脚手架工具？webpack 编译优化？webpack 打包构建优化？自我脚手架的工具使用？
4. git 提交规范 commit-msg？代码检查规范 eslint？
5. 前端性能监控？前端异常监控？前端用户埋点 sdk？
6. rap？jenkins？

## 0. 重构、优化

接手老的前端项目，接入监控系统，懒加载等性能优化。

### 1. 性能优化

#### 1. 资源加载速度

1. 图片懒加载
2. 组件懒加载
3. 数据懒加载
4. 虚拟列表
5. 组件按需加载

#### 2. webpack 开发编译速度

#### 3. webpack 打包优化

### 2. 统一 CI/CD 流程与工程化

### 3. 重构

背景

hc 少，有很多稍微老一点的项目，以及很多前端项目都是外包处理的。

解决方案：

1. js 改 ts
2. 加入测试用例
3. 加入 ci cd
4. 升级 vue react 的依赖
5. 抽离大量的公共 npm 包
6. 引入微前端的概念
7. 考虑 iframe 的重构
   1. 目的是为了实现页面的复用
   2. 从组件、脚手架级别实现复用
      1. 组件库
      2. 脚手架
      3. 种子项目
   3. json 生成页面和模块的方案， 直接生成代码的方案

其他重构或者重新搭建一个项目会考虑的点：

1. 技术栈的确定。
2. 目录结构的约定 router/services/store/components 等， 全都通过 webpack 自动加载。
3. 工具库 npm 的引入，包含 axios 拦截封装，功能 utils 函数等
4. 监控系统的接入， 满足当前的业务埋点需求 TAM + Sentry
5. CI/CD Git 分支与环境的对应， 全部通过提交 MR 合并之后才会发布代码，自动跑单测、自动构建发布对应的环境，正式 Master 发布之后自动打 tag 提交 changelog 至 Master 分支。
6. Husky + Eslint 校验代码规范、commit message 规范。 单元测试通过之后才给提交。
7. 与后台开发同学确定好接口之后，书写 mock json 到一个 git 项目中，node mock server 会根据 json 的内容提供 mock 接口内容，便于前端先进行开发

#### 重构 vue 的项目

1. 目录结构规范
   1. 统一 @ 路径
   2. 统一 eslint 与 prettier
2. 接入 ci/cd
3. 某些依赖升级，比如 vue webpack 等
4. 单元测试

## 1. TBP 控制台

## 2. Node BFF 与 SSR

- BFF
- Node 全栈
  - BFF
  - GateWay
  - 公共中间件提取
  - 性能调优，解决内存瓶颈，能对系统整体性能进行评估

#### 自动生成 mock 的服务

https://jsonplaceholder.typicode.com/

物料：

- json demo
- js 对象
- class 类
- d.ts 文件
- pb 文件

通过词法分析，根据值或者类型来判断该 mock 的值的类型。通过数据资产平台，拉取数据，自动生成 mock 元素的结构。

namespace 与类、维度、指标的维护和共享。

- MOCK
  - proxy： https://jsonplaceholder.typicode.com/ https://segmentfault.com/a/1190000008635891
  - json-server
- 数据 mock 平台 https://github.com/thx/rap2-delos

#### 基础服务

- 企业微信机器人
- 邮件
  - html 转 inline

### API 网关？

### 小程序、公众号

1.  解释 appid 的获取与兑换
2.  如何对接口做一层安全校验加密（前端如何来说公钥才能不被破解），收费等，才能防止被褥羊毛(举例说明有道翻译 api)
    1. 简单描述一下腾讯云官网的云 api3.0 的意义，appid -> tinyid

### Feature Flag 灰度配置中心

一个基于 git 和 node 的轻量化灰度配置工具。 是一个灰度工具。

？？？？背景很重要。！！！

接入流水线，打通企业微信对话机器人。能够理解语义，自动打开配置的开关？

#### 实现原理

koa server + git json 文件 + redis 存库。

基础：

1. koa + auth 中级安全鉴权。
2. 任何权限的改动，都会修改 json 文件（增删改 json 的配置，说白了就是加一行配置）， 提交 mr 到指定的分支上去，触发服务的重新部署。

json 内容示例：

```json
{
  "wxBot": {
    "allow": [
      {
        "rtx": "yiliang",
        "center": "中心 1",
        "info": "xxxx"
      }
    ],
    "refuse": [
      {
        "rtx": "yiliang1",
        "center": "中心 2",
        "info": "xxxx"
      }
    ]
  }
}
```

进阶：

1. 基础功能肯定是通过 rtx 名字去匹配，但是若是对于整个中心的匹配，这样的规则就很不灵活。所以中间加了一层对于中心的匹配。定时任务拉取中心的所有人名单，存入数据库中，待查询。
2. 打通企业微信机器人， 通过 @ 机器人回答问题，即可调用 git 的 api 指定文件中，添加一行配置， 并自动发起一个 pr，会自动 @ 管理员通过 pr 即可自动发布服务。

#### 可复用 灰度

页面灰度

用户级别 （id ），模块（功能）级别

通过 js api 传一个 key 去拿到配置文件，与客户端和后台公用，可见不可见。

## 3. Low Code 数据工厂

## 4. 前端监控系统 SDK

收集的方式：

1. ajax
2. img src
3. bescon 信标防止丢点

## 5. 小程序、移动端

### 小程序

1. 自定义的头部
2. 跳转 js sdk 强行 navigateTo

#### 小程序内嵌 web-view 的 crash 问题

主要原因是上面的 table 性能问题。

#### 移动网关的自定义域名映射

处理之前，需要给前端项目打两份包出来，动态插入网关 key 到 baseUrl 中去， 发布两份 dist 静态资源。

通过申请一个自定义域名，与指定的 key 建立绑定关系，那前端在打包脚本上就不需要做额外的处理，baseUrl 也不需要做特殊处理，只打包一份前端代码。缺点： 微信公众号授权域名只支持添加 2 个域名，所以对于测试环境、预发环境、正式环境 有强烈 3 个环境需求的项目，这种方式就不适合。我们的项目是建立在小程序上的，开发环境只能开发者进行访问，所以可以用一个测试域名，本地开发者工具忽略域名的检查，线上的授权域名使用预发环境 和 正式环境两个域名即可。

#### 移动端偶现耗时极长的问题

1. 小程序 h5 授权问题，只能绑定两个域名，所以只能绑定一个预发环境域名，正式环境域名。 测试环境域名只能在本地的开发版小程序使用，本地开发工具忽略域名检查。
2. 公司所有内网资源外部访问，都需要经过移动网关（pc 端经过智能网关）做鉴权，登录态每天失效一次，会自动进行登录。域名是 `oa.m.tencent.com` 但是小程序上需要绑定一个 request 域名，公司内部很多小程序已经绑定了这个域名，所以没有办法再直接绑定上了，想了个办法就只能新申请了一个域名 cname 到这个域名上。（通过路径转发 ？ 可能也可以实现，再想一想）
3. 经过移动网关之后，访问内网环境的服务器，请求静态资源和接口。 接口会经过机器上的 nginx 负载均衡转发到 stke 上。 stke 是用来部署后台服务的 docker 平台。
4. 问题： 小程序中网页打开发现 loading 时间过长，偶现。 前端通过在 ajax 请求之前已经接口返回之后上报接口耗时，发现长达 30s - 1min 。 移动网关处排查也发现耗时有那么久，但是 node 日志中间件打印耗时不到 1 秒。
5. 解决：
   1. nginx 默认打印的日志不会添加耗时字段，添加字段。
   2. 移动端 whistle 代理，观察每一个请求的状态，因为直接观察 nginx 日志不好观察。
   3. whistle 上的耗时显示即为前端的体验耗时。查看 nginx 上日志打印的耗时。发现也是 30 多秒。
   4. stke 上能够查看到请求到达和返回的时间节点，差值是业务计算出的耗时，这个值是正常的。
   5. dns cname 耗时排查，gslb 上，询问运维，以及 performance 上应该也能查看。
   6. 移动网关处也是 30 多秒。
   7. 所以推断是 请求到 stke 上的时间有问题 ？
   8. 最终排查到是 访问链路是 vip--》clb 后端--〉TKE 集群 --》业务 pod

微信公众号 or 小程序 webview 内嵌 h5 授权的流程： https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/Wechat_webpage_authorization.html

#### 身份权限处理

后台路由权限，通过角色映射。前端也动态插入路由，差不多相同的逻辑， 用一个 npm 模块进行处理，保证结果的统一。 使用 lerna ？

#### 移动端 ant d vue table 性能问题

出现的原因： 数据量大，滑动，大量的插槽
解决办法：阅读源码，提取一个单独的 table 移动端高性能组件。

https://www.zhihu.com/question/319837974
https://zhuanlan.zhihu.com/p/102037418

##### 在对 IE 的兼容性方面做了一些取舍，原因是什么？兼容 IE 的难点都有哪些？

微信小程序 web-view 内存溢出

v3 版本为了兼容旧版 IE，不得不做一些妥协。比如说 flex 布局不能用，我们就用 float 和 table 来搞；不能用 sticky，Table 为了实现固定列不得不额外再渲染一个 Table 达到固定列的效果。最近几年，随着 windows 系统的升级，旧版 IE 的占比已经越来越小。这也是一个契机，让我们在 v4 版本可以舍弃过于陈旧的 IE 版本，从而轻装上阵。

兼容 IE 的难点在于很多行为是非预期的，往往代码没有什么问题，但是页面渲染就是不正常。对于这种情况，就需要做不少的黑科技。比如说让组件强制刷新、使用 IE only 的 css hack 等等。此外前面提到的很多 HTML 新特性在 IE 环境下无法使用，只能自行模拟导致严重的性能损耗。

#### 影响

顶部固定，左侧从栏，都是用一个单独的 table 拼接出来的，所以导致它在 ios 在滑动的时候 会有阻尼效果, overflow-x: auto 一定程度上会出现两块 table 脱离的状况。

##### 解决办法

诉求： 手机端的 table： 固定表头 + 左侧栏
sticky 固定，长列表用用虚拟列表。 table 的渲染性能比 div 慢，也可以直接用 div 来模拟。

#### 小程序中打开页面缓存导致无法重定向的问题

302 301 会重定向页面，到（自动）登录的页面，登录之后再重定向会原链接，此时已经戴上了登录态。正常状态是这样。

但是在小程序中静态文件会被缓存起来，每次打开小程序、打开小程序中的 webview 不一定会重定向成功。 是因为跨域了 ？https://www.cnblogs.com/wxlevel/p/7833595.html
https://blog.csdn.net/liyantianmin/article/details/73485545
https://harttle.land/2016/12/30/cors-redirect.html#header-2

**如何进行排查的**：

1. 每天的首次进入耗时会比较大
2. 小程序可能会缓存 index.html 一开始 ci 的发布不是增量发布的。后续修改为增量发布
3. 偶现接口耗时巨大，但是业务部分的中间件耗时统计显示并不高，排查问题，可能是打点节点跟业务接口同域名导致 ？需要测试一下。打点接口不需要过移动网关

#### 移动端

1. 分：多个移动端 h5 页面，业务分开，独立开发部署，业务逻辑不会互相影响，复用度不够，重复开发。
2. 合：新技术栈 vue 引入，组件库，拖拽、可视化搭建开始，建立 schema 规范，模块化渲染。时间和人力，可视化搭建部分暂缓。重用逻辑增多。
3. 分：多个业务模块分开，抽离组件库、渲染器
4. 合：可视化搭建的形态， 重复模块搭建 + 微前端形式。

## 5. 能效工具

- create-cdata-app. 基于 template 快速创建脚手架项目，内置监控、CI/CD、webpack 优化等功能。
- utils 工具库，提取多个项目中的功能函数，加入单元测试 Jest 功能，保证多个项目中的功能一致性，减少重复代码的书写。
- 组件库， cli 脚手架
  - cli 脚手架将组件分别打包成多种形式，普通 umd 形式和 es module 形式，后者原生就支持 tree sharking.
- axios 的封装等

#### 组件库

1. pc
2. h5

- 腾讯云风格的业务组件库
- 包装 ant d 的业务组件库
  - 组件直接显示在文档上的模块
  - webpack 自动 loader ？
- 内部开源 TDesign

#### table 组件

高性能的移动端 table

1.  固定宽 固定列，自适应宽度等
2.  大列表滑动
3.  性能渲染

说明白 oteam table

### 打造易用的前端工作台

提升前端工作效率

能力沉淀 = sdk 化 （npm 包）

真实环境环境自助调试接口 + JSAPI 验证 （大家的依赖如何降到最低，不仅仅是前端等后台，还有后台等前端，如何为后台做一个易用的接口调试工具）

### 提升前端的生产力

提高开发速度，快速上线

能做的事情：

1. 组件的复用
2. 一套代码多段运行
   1. 多端的开放能力对齐
   2. 统一的 js sdk
   3. 多端的接口统一

#### plugin

1. 监控： tam/sentry
2. common report
3. mixins beforeEntry

#### 密码下发方案的思考

1. 以前项目都是不开源，直接写在 node 项目中的 env 文件中即可。
2. 要求项目内源，将密码放到配置中心，通过 secretKey 去拉取配置中心的配置，拿到配置之后再启动 node 项目。
   1. 看起来没有问题，但是 secretKey 是直接写在代码中的，项目开源了，等于秘钥信息别人直接能拿到，数据库密码不安全 。
3. 通过 CI/CD 每次编译项目时，将配置文件下发到机器上，node 项目再去读取，一起打包进 docker 中

#### axios 取消

https://segmentfault.com/a/1190000021290514

同一个模块的同一个请求何时取消

# 项目难点

1. 问项目难点引入到重构， 在项目中做了什么事情有成就感，也引入到重构老项目。
   成果： 开发速度的提升，工程、流程化规范了之后，减少发布、回滚的心智负担。
