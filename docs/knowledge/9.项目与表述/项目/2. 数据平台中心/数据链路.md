---
title: 数据链路
date: 2020-11-21
draft: true
---

# cdata 数据链路

企业罗盘: 专注 tob 的一站式数据工作台。报表查询，可视化分析。到关键指标告警，个性的仪表盘配置和推送。

## 平台架构分布

1. 罗盘
   1. 仪表盘
   2. 报表
   3. 工作表
   4. 维表
   5. 推送（仪表盘、报表）
2. 数据应用工厂
   1. 驾驶舱、产品分析、客户分析
   2. 行业经分系统
3. 数据仓库
   1. PG 库
   2. 结果库
   3. 配置库（业务开发接触到的 mysql 库）
4. 数据资产平台
5. 移动端罗盘、小程序等

## BI 工具竞品

- 数极客
- talkingData
- GrowingIO
- 诸葛 io
- 神策
- tableau

### 作用

- 工作表上可以选择很多中类型的数据源，比如说选择结果库。 另外还有其他支持的数据源：1. 报表 2. 数据源 3. 维表 4. 工作表（其他表）
- 仪表盘配置一个图标的数据来源，可以是 1. 罗盘报表 2. 结果库？ 3. 工作表

### 维表

1. 在线的数据操作表。 可以给产品、运营加权限之后直接修改，不用登录数据库修改。
2. 服务能够直接拉取，拥有权限控制。

### 工作表

### 仪表盘

## 流程

1. 计算上报。

## 权限链路

1. mysql 配置库中，对应设置了一个字段属性，node 中将它读取出来之后，会根据里面的内容，做数据筛选。

## 权限

1. 每一张仪表盘、报表、工作表、推送等都会有一个管理员 or 负责人的概念，对表这个级别做控制。
2. 行业经分、产品分析等会内嵌一些仪表盘，这些仪表盘是不做权限管控的，所有人都需要拉出数据。这部分的操作是通过，在配置库中指定某张工作表从指定 channel 来的时候，会走 no-check.
3. 行数据的权限管控，在磐石上将所有部门名、产品名都做了录入，创建角色与这些权限点进行绑定。在工作表、仪表盘（底层还是工作表取数）的时候，还是动态拼接上了行权限（枚举出所有的产品名做一个拼接），最终返回数据。
4. 产品权限与前端路由权限。 磐石统一控制，前端拿到权限点之后，动态 addRoutes 添加路由。
