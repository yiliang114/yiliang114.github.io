---
title: 懒加载的实现原理
date: '2020-10-26'
draft: true
---

### 浏览器同一时间可以从一个域名下载多少资源？

浏览器的并发请求数目限制是针对同一域名的。

目前，所有浏览器的并发数目一般限制在 10 以内。
chrome、opera、firefox、IE8+ 等大概为 6 个，IE6 2 个，IE7 是 4 个。

### formdata 的了解

### 优雅降级和渐进增强

优雅降级(progressive enhancement)：Web 站点在所有新式浏览器中都能正常工作，如果用户使用的是老式浏览器，则代码会检查以确认它们是否能正常工作。由于 IE 独特的盒模型布局问题，针对不同版本的 IE 的 hack 实践过优雅降级了,为那些无法支持功能的浏览器增加候选方案，使之在旧式浏览器上以某种形式降级体验却不至于完全失效。

渐进增强(graceful degradation)：从被所有浏览器支持的基本功能开始，逐步地添加那些只有新式浏览器才支持的功能,向页面增加无害于基础浏览器的额外样式和功能的。当浏览器支持时，它们会自动地呈现出来并发挥作用。

### 域名收敛和域名发散

域名收敛：就是将静态资源放在一个域名下。减少 DNS 解析的开销。
域名发散：是将静态资源放在多个子域名下，就可以多线程下载，提高并行度，使客户端加载静态资源更加迅速。

PC 时代为了突破浏览器的域名并发限制，有了域名发散。浏览器有并发限制，是为了防止 DDOS 攻击。

域名发散是 PC 端为了利用浏览器的多线程并行下载能力。而域名收敛多用与移动端，提高性能，因为 dns 解析是是从后向前迭代解析，如果域名过多性能会下降，增加 DNS 的解析开销。

### 首屏时间和白屏时间

Performance 接口可以获取到当前页面中与性能相关的信息。
该类型的对象可以通过调用只读属性 Window.performance 来获得。
白屏时间：

```js
performance.timing.responseStart - performance.timing.navigationStart;
```

首屏时间

```js
window.onload = () => {
  new Date() - performance.timing.responseStart;
};
```

### js 延迟加载的方式有哪些？

1.  defer 和 async
2.  动态创建 DOM 方式（创建 script，插入到 DOM 中，加载完毕后 callBack）
3.  按需异步载入 js
