---
title: 类型转换
date: '2020-11-02'
draft: true
---

### 找出字符串中出现次数最多的那一个字符

```js
// 1、转换成键值格式数据 eg.'程序员程序员' -> {'程': 2, '序': 2, '员': 2}
// 2、再转换成数组格式 eg.{'程': 2, '序': 2, '员': 2}  ->[2]:['程', '序', '员']。
function getMostChar2(str) {
  var strArr = str.split(''),
    obj = {},
    arr = [],
    len = strArr.length,
    i,
    key;

  for (i = 0; i < len; i++) {
    obj[strArr[i]] ? obj[strArr[i]]++ : (obj[strArr[i]] = 1); //记录数目
  }

  for (key in obj) {
    arr[obj[key]] ? arr[obj[key]].push(key) : (arr[obj[key]] = [key]); //取出
  }

  return { mostChar: arr[arr.length - 1].join(), maxLen: arr.length - 1 };
}
```

### 请写一个将字符串转成驼峰的方法？

例如：border-bottom-color -> borderBottomColor

```js
function camelCase(str) {
  return (
    str &&
    str.replace(/-([a-z]|[0-9])/gi, function(all, $1) {
      return ($1 + '').toUpperCase();
    })
  );
}
```

### 数字转换中文大写

```js
toChineseNum(12345); // 一万二千三百四十五

const toChineseNum = num => {
  const keys = ['零', '一', '二', '三', '四', '五', '六', '七', '八', '九'];
  const count = ['', '十', '百', '千'];
  var str = '',
    nums = num
      .toString()
      .split('')
      .reverse();

  nums.map(function(value, index) {
    str = keys[value] + (value == 0 ? '' : count[index > 3 ? index % 4 : index]) + (index == 4 ? '万' : '') + str;
  });

  /*
   * 需要去掉的零：
   * 1.后面跟着零的零
   * 2.最后连续的零
   * 3.万前面的零
   */
  return str.replace(/零(?=零)|零$|零(?=万)/g, '');
};
```

### js 去除字符串空格

去除所有空格

```js
str.replace(/\s/g, '');
```

去除两边空格

```js
str.replace(/^\s+|\s+\$/g, '');
```

原生方法

```js
str.trim();
```

### 怎么去除字符串紧邻相同的字符。比如：'aaaabb111222' => 'ab12'

```js
'aaaabb111222'.replace(/(.)\1+/g, '$1');
```

### ('b' + 'a' + +'a' + 'a').toLowerCase() => 'banana'

+'a' 尝试强制转化字符串 'a' 为一个 number, 得到的结果是 NaN. 需要注意的是 typeOf NaN === 'number'，但是前后通过字符串相加，又将它强制转化为一个 string 类型。所以最终得到 'baNaNa'.toLowerCase() === 'banana'

### 请你解释一个为什么 10.toFixed(10)会报错

之所以会报错，是因为在这里的 . 发生了歧义，它既可以理解为小数点，也可以理解为对方法的调用。
因为这个点紧跟于一个数字之后，按照规范，解释器就把它判断为一个小数点。

当然出现这个报错是因为前面这个数是整数，如果本来就是小数就不会出现这个报错。

```js
10.toFixed(10) // Uncaught SyntaxError: Invalid or unexpected token 语法错了。。
(10).toFixed(10)  // "10.0000000000"
10.0.toFixed(10)  // "10.0000000000"
```

### new String('a') 和 'a' 是一样的么?
