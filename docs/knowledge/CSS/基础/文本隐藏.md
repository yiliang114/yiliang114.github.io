---
layout: CustomPages
title: 基础
date: 2020-11-21
aside: false
draft: true
---

### 如何隐藏页面中的某个元素？

#### 常用两种方法

- display:none; (不占位隐藏)
- visibility:hidden; (占位隐藏)

#### 将透明度设置为 0

- opacity:0; (需要考虑兼容性,filter:Alpha(opacity=0))(占位)

#### 定位

```js
    <!--HTML结构-->
    <div class="box">
        <div class="self">qwwww</div>
    </div>
```

- position:absolute;left:-999%;(移出可视区域，为何不使用正值自行尝试，不占位)
- position:fixed;left:-999%;(移出可视区域，为何不使用正值自行尝试，不占位)
- position:relative;left:-999%;(移出可视区域，为何不使用正值自行尝试，占位)
- .box{background-color:#fff;}.self{position:absolute;z-index:-9;}(移至底层，使用背景遮罩，不占位)
- .box{background-color:#fff;}.self{position:fixed;z-index:-9;}(移至底层，使用背景遮罩，不占位)
- .box{background-color:#fff;}.self{position:relative;z-index:-9;}(移至底层，使用背景遮罩，占位)

#### Transform

- transform: translate(-999%, -999%);(移出可视区域，为何不使用正值自行尝试，占位)
- transform: scale(0);(缩放，占位)

#### 常用文本隐藏

- text-indent:-9999px;(移出可视区域，为何不使用正值自行尝试)

扩展:考虑隐藏元素引起页面的回流或重绘，延伸到书写 css 的规范，先写布局在写其他样式

### 分析比较 opacity: 0、visibility: hidden、display: none 优劣和适用场景

区别：
结构：
display:none: 会让元素完全从渲染树中消失，渲染的时候不占据任何空间, 不能点击，
visibility: hidden:不会让元素从渲染树消失，渲染元素继续占据空间，只是内容不可见，可以点击
opacity: 0: 不会让元素从渲染树消失，渲染元素继续占据空间，只是内容不可见，可以点击

继承：
display: none 和 opacity: 0：是非继承属性，子孙节点消失由于元素从渲染树消失造成，通过修改子孙节点属性无法显示。
visibility: hidden：是继承属性，子孙节点消失由于继承了 hidden，通过设置 visibility: visible;可以让子孙节点显式。

性能：
display: none : 修改元素会造成文档回流,读屏器不会读取 display: none 元素内容，性能消耗较大
visibility:hidden: 修改元素只会造成本元素的重绘,性能消耗较少读屏器读取 visibility: hidden 元素内容
opacity: 0 ： 修改元素会造成重回，性能消耗较少

联系：它们都能让元素不可见

### 有哪些的隐藏内容的方法（如果同时还要保证屏幕阅读器可用呢？）

A: `display:none`看不见也摸不着，屏幕阅读器更会忽略其内容；而`visibility:hidden`虽然看得见但是摸不着，占据了一定的物理空间，屏幕阅读器也会忽略。如果想要在读屏设备中让这些内容可见。解决方案的基本思路都是将这些内容放到屏幕、视线意外的地方，或者就是将大小设置成 0。比如 `text-indent: -9999em;`、`overflow: hidden;`、`height: 0`。

```
  .texthidden {
    display:block;/*统一转化为块级元素*/
    overflow: hidden;
    width: 0;
    height: 0;
   }
```

不过既然这是了读屏而优化的，那么可以用 media query 来完成，media speech 用于语音输出的读屏设备。

```css
@media speech {
  /* media-specify rules */
}
```

### 有什么不同的方式可以隐藏内容（使其仅适用于屏幕阅读器）？

这些方法与可访问性（a11y）有关。

- `visibility: hidden`：元素仍然在页面流中，并占用空间。
- `width: 0; height: 0`：使元素不占用屏幕上的任何空间，导致不显示它。
- `position: absolute; left: -99999px`： 将它置于屏幕之外。
- `text-indent: -9999px`：这只适用于`block`元素中的文本。
- Metadata： 例如通过使用 Schema.org，RDF 和 JSON-LD。
- WAI-ARIA：如何增加网页可访问性的 W3C 技术规范。

即使 WAI-ARIA 是理想的解决方案，我也会采用绝对定位方法，因为它具有最少的注意事项，适用于大多数元素，而且使用起来非常简单。

### 请列举几种隐藏元素的方法

- visibility: hidden; 这个属性只是简单的隐藏某个元素，但是元素占用的空间任然存在
- opacity: 0; CSS3 属性，设置 0 可以使一个元素完全透明
- position: absolute; 设置一个很大的 left 负值定位，使元素定位在可见区域之外
- display: none; 元素会变得不可见，并且不会再占用文档的空间。
- transform: scale(0); 将一个元素设置为缩放无限小，元素将不可见，元素原来所在的位置将被保留
- \<div hidden="hidden"\> HTML5 属性,效果和 display:none;相同，但这个属性用于记录一个元素的状态
- height: 0; 将元素高度设为 0 ，并消除边框
- filter: blur(0); CSS3 属性，将一个元素的模糊度设置为 0

### CSS 中可以通过哪些属性定义，使得一个 DOM 元素不显示在浏览器可视范围内？

最基本的：

设置 display 属性为 none，或者设置 visibility 属性为 hidden

技巧性：

设置宽高为 0，设置透明度为 0，设置 z-index 位置在-1000

### CSS 里的 visibility 属性有个 collapse 属性值？在不同浏览器下以后什么区别？

当一个元素的 visibility 属性被设置成 collapse 值后，对于一般的元素，它的表现跟 hidden 是一样的。

1. chrome 中，使用 collapse 值和使用 hidden 没有区别。
2. firefox，opera 和 IE，使用 collapse 值和使用 display：none 没有什么区别。

### CSS 里的 visibility 属性有个 collapse 属性值是干嘛用的？在不同浏览器下以后什么区别？

- 对于普通元素 visibility:collapse;会将元素完全隐藏,不占据页面布局空间,与 display:none;表现相同.
- 如果目标元素为 table,visibility:collapse;将 table 隐藏,但是会占据页面布局空间.
- 仅在 Firefox 下起作用,IE 会显示元素,Chrome 会将元素隐藏,但是占据空间.

* SASS 编译的时候，浮动元素的父级 div 定义伪类:after

```css
&:after,
&:before {
  content: ' ';
  visibility: hidden;
  display: block;
  height: 0;
  clear: both;
}
```

- 解析原理：

  - display:block 使生成的元素以块级元素显示,占满剩余空间
  - height:0 避免生成内容破坏原有布局的高度。
  - visibility:hidden 使生成的内容不可见，并允许可能被生成内容盖住的内容可以进行点击和交互
  - 通过 content:"."生成内容作为最后一个元素，至于 content 里面是点还是其他都是可以的，例如 oocss 里面就有经典的 content:".",有些版本可能 content 里面内容为空,一丝冰凉是不推荐这样做的,firefox 直到 7.0 content:”" 仍然会产生额外的空隙
  - zoom：1 触发 IE hasLayout

- 通过分析发现，除了 clear：both 用来闭合浮动的，其他代码无非都是为了隐藏掉 content 生成的内容，这也就是其他版本的闭合浮动为什么会有 font-size：0，line-height：0

### rgba()和 opacity 的透明效果有什么不同？

a. opacity 作用于元素，以及元素内的所有内容的透明度，rgba()只作用于元素的颜色或其背景色。
b. 设置 rgba 透明的元素的子元素不会继承透明效果！

### 如何视觉隐藏网页内容，只让它们在屏幕阅读器中可用

1. `display:none;` 的缺陷搜索引擎可能认为被隐藏的文字属于垃圾信息而被忽略屏幕阅读器（是为视觉上有障碍的人设计的读取屏幕内容的程序）会忽略被隐藏的文字。
2. `visibility:hidden;` 的缺陷这个大家应该比较熟悉就是隐藏的内容会占据他所应该占据物理空间
3. overflow:hidden;一个比较合理的方法
4. `.texthidden{display:block;/统一转化为块级元素/overflow:hidden;width:0;height:0;}` 就像上面的一段 CSS 所展示的方法，将宽度和高度设定为 0，然后超过部分隐藏，就会弥补上述一、二方法中的缺陷，也达到了隐藏内容的目的

### 说说隐藏元素的方式有哪些？

1. 使用 CSS 的 display:none，不会占有原来的位置
1. 使用 CSS 的 visibility:hidden，会占有原来的位置
1. 使用 HTML5 中的新增属性 hidden="hidden"，不会占有原来的位置

### display: none; 与 visibility: hidden; 的区别

`display:none`和`visibility:hidden`都是把网页上某个元素隐藏起来的功能。

- `display:none`;会让元素完全从渲染树中消失，渲染的时候不占据任何空间；`visibility: hidden`;不会让元素从渲染树消失，渲染师元素继续占据空间，只是内容不可见
- `display: none`;是非继承属性，子孙节点消失由于元素从渲染树消失造成，通过修改子孙节点属性无法显示；`visibility:hidden`;是继承属性，子孙节点消失由于继承了`hidden`，通过设置`visibility: visible`;可以让子孙节点显式
- 修改常规流中元素的`display`通常会造成文档重排。修改`visibility`属性只会造成本元素的重绘
- 读屏器不会读取`display: none;`元素内容；会读取`visibility: hidden`元素内容

display：none 不显示对应的元素，在文档布局中不再分配空间（回流+重绘）
visibility：hidden 隐藏对应元素，在文档布局中仍保留原来的空间（重绘）
