---
title: css 实现
date: '2020-10-26'
draft: true
---

### 如何实现一个最大的正方形

```css
section {
  width: 100%;
  padding-bottom: 100%;
  background: #333;
}
```

### 已知父级盒子的宽高，子级 img 宽高未知，想让 img 铺满父级盒子且图片不能变形

```css
div {
  width: 200px;
  height: 200px;
}
img {
  object-fit: cover;
  width: 100%;
  height: 100%;
}
```

### 有一个日历组件，如何实现各个屏幕的自适应？

- flex 布局
- @media 媒体查询
- 流式布局
- 固定宽度做法
- 响应式做法
- 设置 viewport 进行缩放
- rem 能等比例适配所有屏幕

#### 详细介绍

- 流式布局

  在页面中的布局是：宽度适用百分比，高度使用 px 来固定。

  缺点：</br>在大屏幕的手机下显示效果会变成有些页面元素宽度被拉的很长，但是高度还是和原来一样，实际显示非常的不协调，往往只有几个尺寸的手机下看到的效果是令人满意的。

- 固定宽度做法

  还有一种是固定页面宽度的做法，早期有些网站把页面设置成 320 的宽度，超出部分留白，这样做视觉，前端都挺开心，视觉在也不用被流式布局限制自己的设计灵感了，前端也不用在搞坑爹的流式布局。

  缺点：</br>在大屏幕手机下两边是留白的，还有一个就是大屏幕手机下看起来页面会特别小，操作的按钮也很小，手机淘宝首页起初是这么做的。

- 响应式做法

  分别为不同的屏幕分辨率定义布局，同时，在每个布局中，应用流式布局的理念，即页面元素宽度随着窗口调整而自动适配。

  媒体查询+流式布局。通常使用 @media 媒体查询 和网格系统 (Grid System) 配合相对布局单位进行布局，实际上就是综合响应式、流动等上述技术通过 CSS 给单一网页不同设备返回不同样式的技术统称。

  缺点：</br>1. 媒体查询是有限的，也就是可以枚举出来的，只能适应主流的宽高;</br>2. 要匹配足够多的屏幕大小，工作量不小，设计也需要多个版本。

- 设置 viewport 进行缩放

  以 320 宽度为基准，进行缩放，最大缩放为 `320*1.3 = 416`。

  缺点：</br>使用过程中反应缩放会导致有些页面元素会糊的情况。

- rem 能等比例适配所有屏幕

  上面说过 rem 是通过根元素进行适配的，网页中的根元素指的是 html 我们通过设置 html 的字体大小就可以控制 rem 的大小。

  根元素的大小为 1rem。

### 固定区域内一个图片实现上下垂直居中，图片高度不固定，但是图片高度小于固定区域的高度。

- flex 布局解决方法

```js
<div class="container">
  <img src="http://img4.imgtn.bdimg.com/it/u=2075750630,4216747848&fm=23&gp=0.jpg" />
</div>
```

```css
.container {
  width: 300px;
  height: 300px;
  border: 1px solid rebeccapurple;
  margin: 10px;
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: center;
}
```

![flex.png](http://upload-images.jianshu.io/upload_images/2041009-d8fc1d765a8fa705.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

> 这个方法的不好处就在于，使用了`flex`，CSS3 中的新增属性，各浏览器的支持程度不一样。

![flex支持程度](https://wire.cdn-go.cn/wire-cdn/b23befc0/blog/images/flex-zc.png)

- 设置为单元格的方式

```js
<div class="container">
  <img src="http://img4.imgtn.bdimg.com/it/u=2075750630,4216747848&fm=23&gp=0.jpg" />
</div>
```

```css
.container {
  width: 300px;
  height: 300px;
  border: 1px solid rebeccapurple;
  display: table-cell;
  text-align: center;
  vertical-align: middle;
}
```

![cell.png](https://wire.cdn-go.cn/wire-cdn/b23befc0/blog/images/cell.png)

> 这种方式除了 IE6\IE7 之外，其他主流浏览器中基本上实现了图片的垂直居中对齐。

- 利用定位来实现垂直居中 - 兼容 IE5.5\6\7\8\9\10 firefox chrome
  在支持 display 为 table-cell 的浏览器中依然用 vertical-align:middle 来实现，在 IE5.5\IE6\IE7 中利用定位来实现垂直居中。

```js
<div class="container">
  <p>
    <img src="http://img4.imgtn.bdimg.com/it/u=2075750630,4216747848&fm=23&gp=0.jpg" />
  </p>
</div>
```

```css
.container {
  border: 1px dashed #ccc;
  height: 300px;
  width: 300px;
  overflow: hidden;
  display: table-cell;
  vertical-align: middle;
  *position: relative;
}

p {
  *position: absolute;
  *top: 50%;
  width: 100%;
  text-align: center;
}
img {
  *position: relative;
  *top: -50%;
}
```

> `*`： 一般\*的属性作用于:IE6、IE7

#### 错误做法：

- 1.  div : position: relative; img : position: absolute;这种方式只能实现左右居中，不能上下居中。

```css
.container {
  position: relative;
}

// 只能实现左右居中，上下不行
img {
  position: absolute;
  margin: auto;
  left: 0;
  right: 0;
  top: 0;
  bottom: 0;
}
```

### 下面给出的代码你觉得有什么问题吗？

```html
<div class="container">
  <div class="item left">left: width: 100px</div>
  <div class="item center ">中间宽度自定义</div>
  <div class="item right ">right width: 100px</div>
</div>

<style>
  .container {
    height: 100px;
    border: 1px solid #000;
  }
  .item {
    height: 100%;
    border: 1px solid red;
  }
  .left {
    float: left;
    width: 100px;
  }
  .center {
    margin: 0 100px;
    width: auto;
  }
  .right {
    float: right;
    width: 100px;
  }
</style>
```

> 个人答案

1.  这样实现不了三栏布局，使用 float 布局的话，中间的 div 会占一行，右侧部分会另起一行展示

2.  将中间部分和右侧部分的 html 结构换一下，就可以实现三栏布局，也就是下面这样：

```html
<div class="container">
  <div class="item left">left: width: 100px</div>
  <div class="item right ">right width: 100px</div>
  <div class="item center ">中间宽度自定义</div>
</div>
```

### 如何实现一个自适应的正方形

利用 padding 设置为百分比时是相对于父级元素的，因此同时设置 width 与 padding-top(padding-bottom)为同一个百分数，
并且设置 height:0 即可实现一个正方形。

### 用纯 CSS 创建一个三角形的原理是什么？

把 border 的其他三条边设为透明。 注意，这里要把 `border-width` 、`border-style`、 `border-color` 分开写。

```css
.tri {
  width: 0px;
  height: 0;
  border-style: solid;
  border-width: 100px;
  border-color: transparent transparent red transparent;
}
```

### 如何用 css 实现一个三角形

定义一个 div 元素，让它的内容高宽为 0，通过 border 来实现。 以上 css 样式通过设置底部 border 边为红色，其他边为透明色，实现了一个底部宽 40，高 20 的红色的三角形

```css
div {
  width: 0;
  height: 0;
  border: 40px solid;
  border-color: transparent transparent red;
}
```

### p 标签为什么有时候占不满一行？

```
<p className="secApplication-desc">
  <span>{item}</span>
</p>

      .secApplication-desc {
        position: absolute; // display: block;
        // width: 100%;
        top: 50%;
        color: #fff;
        text-align: center;
    }
```

### 怎么判断两个矩形相交？

### 怎么判断球和线相交？给出不同情况的数学思路

#### 鼠标 hover 变大

http://jsfiddle.net/6hobL7a5/4/

```
transition: all 0.6s;　　表示所有的属性变化在0.6s的时间段内完成
transform: scale(1.4);　　表示在鼠标放到图片上的时候图片按比例放大1.4倍。
若是放大整个 div 其中的所有子元素都会进行缩放
```
