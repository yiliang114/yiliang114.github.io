---
title: 类型转换
date: '2020-11-02'
draft: true
---

### 最长不重复子串

```js
function fn(str) {
  if (!str || typeof str !== 'string') {
    return '';
  }
  var arr = [];
  var pos = (i = start = end = index = 0);
  while (true) {
    index = arr.indexOf(str[i]);
    if (i < str.length && index === -1) {
      arr.push(str[i]);
      i++;
    } else {
      if (arr.length > end - start) {
        start = pos;
        end = i;
      }
      arr.length = 0;
      if (end - start === str.length || pos + 1 >= str.length - end + start) {
        break;
      }
      i = pos = pos + index + 1;
    }
  }
  return str.substr(start, end);
}
```

### 按行打印二叉树层级节点值，逗号作为间隔

```js
function fn(root) {
  if (root) {
    var queue = [root];
    var currentLength = queue.length;
    var current = null;
    var currentArr = [];
    while (queue.length) {
      current = queue.shift();
      currentLength--;
      currentArr.push(current.value);
      if (current.left) {
        queue.push(current.left);
      }
      if (current.right) {
        queue.push(current.right);
      }
      if (currentLength === 0) {
        console.log(currentArr.join(', '));
        currentArr.length = 0;
        currentLength = queue.length;
      }
    }
  }
}
```

### 怎么判断一个链表成环？

> 后项指针的哈希表（把所有的指针放到一个 map 中，如果其中一个指针已经出现在 map 中，那么就可以确定已经成环了。）
