---
layout: CustomPages
title: monitoring
date: 2020-11-21
aside: false
draft: true
---

### 监控

1. 前端异常监测如何实现

- 日志上报

  - 不影响性能
  - 如何设计埋点

- 接口请求无痕埋点思路
  https://www.jianshu.com/p/467544cb088e

- sentry
  https://segmentfault.com/a/1190000014496409
  上传 sourcemap 版本号等信息。 error 会被吃掉

* 录屏效果如何实现 ？

### 前端日志

平时收集日志的手段，可以归类为两个方面，

1. 一个是逻辑中的错误判断，为主动判断；
1. 一个是利用语言给我们提供的捷径，暴力式获取错误信息，如 try..catch 和 window.onerror
   收集日志存在的问题:
   收集日志的目的是为了及时发现问题，最好日志能够告诉我们，错误在哪里，更优秀的做法是，不仅告诉错误在哪里，还告诉我们，如何处理这个错误。终极目标是，发现错误，自动容错，这一步是最难的:
1. 无具体报错信息，Script error
1. 压缩代码无法定位到错误的具体位置
1. error 事件的注册
1. 收集日志的量
1. 关于 try..catch 的使用
1. 关于 window.onerror 的使用
1. 友好的错误提示

### 前端跟踪

1. 控制台
   脚本执行
   网络请求
   cookie
2. 断点 debug
   如何打断点
   如何查看运行时变量
3. 代理
   常规代理
   https 代理
   手机代理

### 前端如何实现 PV 和 UV 的统计？

### 开源监控

sentry
阿里 潘多拉 pandora
opentracing
