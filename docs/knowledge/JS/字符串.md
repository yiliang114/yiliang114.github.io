---
title: 类型转换
date: '2020-11-02'
draft: true
---

### 找出字符串中出现次数最多的那一个字符

```js
// 1、转换成键值格式数据 eg.'程序员程序员' -> {'程': 2, '序': 2, '员': 2}
// 2、再转换成数组格式 eg.{'程': 2, '序': 2, '员': 2}  ->[2]:['程', '序', '员']。
function getMostChar2(str) {
  var strArr = str.split(''),
    obj = {},
    arr = [],
    len = strArr.length,
    i,
    key;

  for (i = 0; i < len; i++) {
    obj[strArr[i]] ? obj[strArr[i]]++ : (obj[strArr[i]] = 1); //记录数目
  }

  for (key in obj) {
    arr[obj[key]] ? arr[obj[key]].push(key) : (arr[obj[key]] = [key]); //取出
  }

  return { mostChar: arr[arr.length - 1].join(), maxLen: arr.length - 1 };
}
```

### 请写一个将字符串转成驼峰的方法？

例如：border-bottom-color -> borderBottomColor

```js
function camelCase(str) {
  return (
    str &&
    str.replace(/-([a-z]|[0-9])/gi, function(all, $1) {
      return ($1 + '').toUpperCase();
    })
  );
}
```

### 数字转换中文大写

```js
toChineseNum(12345); // 一万二千三百四十五

const toChineseNum = num => {
  const keys = ['零', '一', '二', '三', '四', '五', '六', '七', '八', '九'];
  const count = ['', '十', '百', '千'];
  var str = '',
    nums = num
      .toString()
      .split('')
      .reverse();

  nums.map(function(value, index) {
    str = keys[value] + (value == 0 ? '' : count[index > 3 ? index % 4 : index]) + (index == 4 ? '万' : '') + str;
  });

  /*
   * 需要去掉的零：
   * 1.后面跟着零的零
   * 2.最后连续的零
   * 3.万前面的零
   */
  return str.replace(/零(?=零)|零$|零(?=万)/g, '');
};
```

### js 去除字符串空格

去除所有空格

```js
str.replace(/\s/g, '');
```

去除两边空格

```js
str.replace(/^\s+|\s+\$/g, '');
```

原生方法

```js
str.trim();
```

### 怎么去除字符串紧邻相同的字符。比如：'aaaabb111222' => 'ab12'

```js
'aaaabb111222'.replace(/(.)\1+/g, '$1');
```

### ('b' + 'a' + +'a' + 'a').toLowerCase() => 'banana'

+'a' 尝试强制转化字符串 'a' 为一个 number, 得到的结果是 NaN. 需要注意的是 typeOf NaN === 'number'，但是前后通过字符串相加，又将它强制转化为一个 string 类型。所以最终得到 'baNaNa'.toLowerCase() === 'banana'

### new String('a') 和 'a' 是一样的么?

首先 new 出来的一定是一个对象，也就是 typeof 返回的结果是 object, 而直接字符串创建，是一个 string 类型，所以两者是不全等的。

其次，string 是基本类型，也是原始资料类型， 储存于栈中，原始的资料类型在运算时用的属性与方法，是向包装对象"借来"的用的，
但是自己本身却没有属性和方法。并向包装对象(new ..())借来方法和属性。

new String(), new Number() 就是包装对象，包装对象也是对象。栈中储存堆指针，堆中储存内容。

### Object.create, new Object() 和 {} 是一样的么?

字面量和 new 关键字创建的对象是 Object 的实例，原型指向 `Object.prototype`，继承内置对象 Object。 只是字面量创建更高效一些。

Object.create(arg, pro)创建的对象的原型取决于 arg，arg 为 null，新对象是空对象，没有原型，不继承任何对象；arg 为指定对象，新对象的原型指向指定对象，继承指定对象
