---
title: 懒加载的实现原理
date: '2020-10-26'
draft: true
---

### vue 的优点是什么？

- 低耦合。视图（View）可以独立于 Model 变化和修改，一个 ViewModel 可以绑定到不同的"View"上，当 View 变化的时候 Model 可以不变，当 Model 变化的时候 View 也可以不变。
- 可重用性。你可以把一些视图逻辑放在一个 ViewModel 里面，让很多 view 重用这段视图逻辑。
- 独立开发。开发人员可以专注于业务逻辑和数据的开发（ViewModel），设计人员可以专注于页面设计，使用 Expression Blend 可以很容易设计界面并生成 xml 代码。
- 可测试。界面素来是比较难于测试的，而现在测试可以针对 ViewModel 来写。

### 为什么 filter 里的 this 绑定的不是

Vue https://juejin.im/post/5cbd2623f265da03ba0e2aab

### v-html 的缺点 ？

### v-html 与 {{}} 同时使用的话会显示哪一个？为什么

会显示 {{}} 中设置的值，具体原理应该是跟模板编译有关系的。

### vue

- [你知道 vue 的模板语法用的是哪个 web 模板引擎的吗？说说你对这模板引擎的理解](https://github.com/haizlin/fe-interview/issues/561)
- [你知道 v-model 的原理吗？说说看](https://github.com/haizlin/fe-interview/issues/560)
- [你有使用过 vue 开发多语言项目吗？说说你的做法？](https://github.com/haizlin/fe-interview/issues/559)
- [在使用计算属性的时，函数名和 data 数据源中的数据可以同名吗？](https://github.com/haizlin/fe-interview/issues/558)
- [vue 中 data 的属性可以和 methods 中的方法同名吗？为什么？](https://github.com/haizlin/fe-interview/issues/557)
- [怎么给 vue 定义全局的方法？](https://github.com/haizlin/fe-interview/issues/556)
- [vue2.0 不再支持 v-html 中使用过滤器了怎么办？](https://github.com/haizlin/fe-interview/issues/555)
- [怎么解决 vue 打包后静态资源图片失效的问题？](https://github.com/haizlin/fe-interview/issues/554)
- [怎么解决 vue 动态设置 img 的 src 不生效的问题？](https://github.com/haizlin/fe-interview/issues/553)
- [使用 vue 后怎么针对搜索引擎做 SEO 优化？](https://github.com/haizlin/fe-interview/issues/552)
- [跟 keep-alive 有关的生命周期是哪些？描述下这些生命周期](https://github.com/haizlin/fe-interview/issues/551)
- [如果现在让你从 vue/react/angularjs 三个中选择一个，你会选哪个？说说你的理由](https://github.com/haizlin/fe-interview/issues/550)
- [你知道 vue2.0 兼容 IE 哪个版本以上吗？](https://github.com/haizlin/fe-interview/issues/549)
- [使用 vue 开发一个 todo 小应用，谈下你的思路](https://github.com/haizlin/fe-interview/issues/548)
- [你有看过 vue 推荐的风格指南吗？列举出你知道的几条](https://github.com/haizlin/fe-interview/issues/547)
- [你是从 vue 哪个版本开始用的？你知道 1.x 和 2.x 有什么区别吗？](https://github.com/haizlin/fe-interview/issues/546)
- [你知道 vue 中 key 的原理吗？说说你对它的理解](https://github.com/haizlin/fe-interview/issues/545)
- [vue 中怎么重置 data？](https://github.com/haizlin/fe-interview/issues/544)
- [vue 渲染模板时怎么保留模板中的 HTML 注释呢？](https://github.com/haizlin/fe-interview/issues/508)
- [Vue.observable 你有了解过吗？说说看](https://github.com/haizlin/fe-interview/issues/507)
- [你知道 style 加 scoped 属性的用途和原理吗？](https://github.com/haizlin/fe-interview/issues/506)
- [你期待 vue3.0 有什么功能或者改进的地方？](https://github.com/haizlin/fe-interview/issues/489)
- [vue 边界情况有哪些？](https://github.com/haizlin/fe-interview/issues/478)
- [如何在子组件中访问父组件的实例？](https://github.com/haizlin/fe-interview/issues/477)
- [watch 的属性用箭头函数定义结果会怎么样？](https://github.com/haizlin/fe-interview/issues/476)
- [在 vue 项目中如果 methods 的方法用箭头函数定义结果会怎么样？](https://github.com/haizlin/fe-interview/issues/475)
- [在 vue 项目中如何配置 favicon？](https://github.com/haizlin/fe-interview/issues/474)
- [你有使用过 babel-polyfill 模块吗？主要是用来做什么的？](https://github.com/haizlin/fe-interview/issues/473)
- [说说你对 vue 的错误处理的了解？](https://github.com/haizlin/fe-interview/issues/472)
- [在 vue 事件中传入\$event，使用 e.target 和 e.currentTarget 有什么区别？](https://github.com/haizlin/fe-interview/issues/471)
- [在.vue 文件中 style 是必须的吗？那 script 是必须的吗？为什么？](https://github.com/haizlin/fe-interview/issues/470)
- [vue 怎么实现强制刷新组件？](https://github.com/haizlin/fe-interview/issues/469)
- [vue 自定义事件中父组件怎么接收子组件的多个参数？](https://github.com/haizlin/fe-interview/issues/468)
- [实际工作中，你总结的 vue 最佳实践有哪些？](https://github.com/haizlin/fe-interview/issues/467)
- [vue 给组件绑定自定义事件无效怎么解决？](https://github.com/haizlin/fe-interview/issues/466)
- [vue 的属性名称与 method 的方法名称一样时会发生什么问题？](https://github.com/haizlin/fe-interview/issues/465)
- [vue 变量名如果以\_、\$开头的属性会发生什么问题？怎么访问到它们的值？](https://github.com/haizlin/fe-interview/issues/464)
- [vue 使用 v-for 遍历对象时，是按什么顺序遍历的？如何保证顺序？](https://github.com/haizlin/fe-interview/issues/463)
- [vue 如果想扩展某个现有的组件时，怎么做呢？](https://github.com/haizlin/fe-interview/issues/462)
- [说下$attrs和$listeners 的使用场景](https://github.com/haizlin/fe-interview/issues/461)
- [分析下 vue 项目本地开发完成后部署到服务器后报 404 是什么原因呢？](https://github.com/haizlin/fe-interview/issues/460)
- [v-once 的使用场景有哪些？](https://github.com/haizlin/fe-interview/issues/459)
- [说说你对 vue 的表单修饰符.lazy 的理解](https://github.com/haizlin/fe-interview/issues/458)
- [vue 为什么要求组件模板只能有一个根元素？](https://github.com/haizlin/fe-interview/issues/457)
- [EventBus 注册在全局上时，路由切换时会重复触发事件，如何解决呢？](https://github.com/haizlin/fe-interview/issues/456)
- [怎么修改 vue 打包后生成文件路径？](https://github.com/haizlin/fe-interview/issues/455)
- [你有使用做过 vue 与原生 app 交互吗？说说 vue 与 ap 交互的方法](https://github.com/haizlin/fe-interview/issues/454)
- [使用 vue 写一个 tab 切换](https://github.com/haizlin/fe-interview/issues/453)
- [vue 中什么是递归组件？举个例子说明下？](https://github.com/haizlin/fe-interview/issues/452)
- [怎么访问到子组件的实例或者子元素？](https://github.com/haizlin/fe-interview/issues/451)
- [在子组件中怎么访问到父组件的实例？](https://github.com/haizlin/fe-interview/issues/450)
- [在组件中怎么访问到根实例？](https://github.com/haizlin/fe-interview/issues/449)
- [说说你对 Object.defineProperty 的理解](https://github.com/haizlin/fe-interview/issues/448)
- [vue 组件里写的原生 addEventListeners 监听事件，要手动去销毁吗？为什么？](https://github.com/haizlin/fe-interview/issues/447)
- [vue 组件里的定时器要怎么销毁？](https://github.com/haizlin/fe-interview/issues/446)
- [vue 组件会在什么时候下被销毁？](https://github.com/haizlin/fe-interview/issues/445)
- [使用 vue 渲染大量数据时应该怎么优化？说下你的思路！](https://github.com/haizlin/fe-interview/issues/444)
- [在 vue 中使用 this 应该注意哪些问题？](https://github.com/haizlin/fe-interview/issues/443)
- [你有使用过 JSX 吗？说说你对 JSX 的理解](https://github.com/haizlin/fe-interview/issues/442)
- [说说组件的命名规范](https://github.com/haizlin/fe-interview/issues/441)
- [怎么配置使 vue2.0+支持 TypeScript 写法？](https://github.com/haizlin/fe-interview/issues/440)
- [`<template></template>`有什么用？](https://github.com/haizlin/fe-interview/issues/439)
- [vue 的 is 这个特性你有用过吗？主要用在哪些方面？](https://github.com/haizlin/fe-interview/issues/438)
- [vue 的:class 和:style 有几种表示方式？](https://github.com/haizlin/fe-interview/issues/437)
- [你了解什么是函数式组件吗？](https://github.com/haizlin/fe-interview/issues/436)
- [vue 怎么改变插入模板的分隔符？](https://github.com/haizlin/fe-interview/issues/435)
- [组件中写 name 选项有什么作用？](https://github.com/haizlin/fe-interview/issues/434)
- [说说你对 provide 和 inject 的理解](https://github.com/haizlin/fe-interview/issues/433)
- [开发过程中有使用过 devtools 吗？](https://github.com/haizlin/fe-interview/issues/432)
- [说说你对 slot 的理解有多少？slot 使用场景有哪些？](https://github.com/haizlin/fe-interview/issues/431)
- [你有使用过动态组件吗？说说你对它的理解](https://github.com/haizlin/fe-interview/issues/430)
- [prop 验证的 type 类型有哪几种？](https://github.com/haizlin/fe-interview/issues/429)
- [prop 是怎么做验证的？可以设置默认值吗？](https://github.com/haizlin/fe-interview/issues/428)
- [怎么缓存当前打开的路由组件，缓存后想更新当前组件怎么办呢？](https://github.com/haizlin/fe-interview/issues/427)
- [说说你对 vue 组件的设计原则的理解](https://github.com/haizlin/fe-interview/issues/426)
- [你了解 vue 的 diff 算法吗？](https://github.com/haizlin/fe-interview/issues/425)
- [vue 如何优化首页的加载速度？](https://github.com/haizlin/fe-interview/issues/424)
- [vue 打包成最终的文件有哪些？](https://github.com/haizlin/fe-interview/issues/423)
- [ajax、fetch、axios 这三都有什么区别？](https://github.com/haizlin/fe-interview/issues/422)
- [vue 能监听到数组变化的方法有哪些？为什么这些方法能监听到呢？](https://github.com/haizlin/fe-interview/issues/421)
- [vue 中是如何使用 event 对象的？](https://github.com/haizlin/fe-interview/issues/420)
- [vue 首页白屏是什么问题引起的？如何解决呢？](https://github.com/haizlin/fe-interview/issues/366)
- [说说你对单向数据流和双向数据流的理解](https://github.com/haizlin/fe-interview/issues/365)
- [移动端 ui 你用的是哪个 ui 库？有遇到过什么问题吗？](https://github.com/haizlin/fe-interview/issues/364)
- [你知道 nextTick 的原理吗？](https://github.com/haizlin/fe-interview/issues/363)
- [说说你对 v-clock 和 v-pre 指令的理解](https://github.com/haizlin/fe-interview/issues/362)
- [写出你知道的表单修饰符和事件修饰符](https://github.com/haizlin/fe-interview/issues/361)
- [说说你对 proxy 的理解](https://github.com/haizlin/fe-interview/issues/359)
- [你有自己用 vue 写过 UI 组件库吗？](https://github.com/haizlin/fe-interview/issues/358)
- [用 vue 怎么实现一个换肤的功能？](https://github.com/haizlin/fe-interview/issues/357)
- [有在 vue 中使用过 echarts 吗？踩过哪些坑？如何解决的？](https://github.com/haizlin/fe-interview/issues/356)
- [如果让你教一个 2-3 年经验前端经验的同事使用 vue，你该怎么教？](https://github.com/haizlin/fe-interview/issues/355)
- [vue 性能的优化的方法有哪些？](https://github.com/haizlin/fe-interview/issues/354)
- [SSR 解决了什么问题？有做过 SSR 吗？你是怎么做的？](https://github.com/haizlin/fe-interview/issues/353)
- [说说你觉得认为的 vue 开发规范有哪些？](https://github.com/haizlin/fe-interview/issues/352)
- [vue 部署上线前需要做哪些准备工作？](https://github.com/haizlin/fe-interview/issues/350)
- [vue 过渡动画实现的方式有哪些？](https://github.com/haizlin/fe-interview/issues/349)
- [vue 在 created 和 mounted 这两个生命周期中请求数据有什么区别呢？](https://github.com/haizlin/fe-interview/issues/348)
- [vue 父子组件双向绑定的方法有哪些？](https://github.com/haizlin/fe-interview/issues/347)
- [vue 怎么获取 DOM 节点？](https://github.com/haizlin/fe-interview/issues/346)
- [vue 项目有做过单元测试吗？](https://github.com/haizlin/fe-interview/issues/345)
- [vue 项目有使用过 npm run build --report 吗？](https://github.com/haizlin/fe-interview/issues/344)
- [如何解决 vue 打包 vendor 过大的问题？](https://github.com/haizlin/fe-interview/issues/343)
- [webpack 打包 vue 速度太慢怎么办？](https://github.com/haizlin/fe-interview/issues/342)
- [vue 在开发过程中要同时跟 N 个不同的后端人员联调接口（请求的 url 不一样）时你该怎么办？](https://github.com/haizlin/fe-interview/issues/341)
- [vue 要做权限管理该怎么做？如果控制到按钮级别的权限怎么做？](https://github.com/haizlin/fe-interview/issues/340)
- [说下你的 vue 项目的目录结构，如果是大型项目你该怎么划分结构和划分组件呢？](https://github.com/haizlin/fe-interview/issues/339)
- [在移动端使用 vue，你觉得最佳实践有哪些？](https://github.com/haizlin/fe-interview/issues/338)
- [你们项目为什么会选 vue 而不选择其它的框架呢？](https://github.com/haizlin/fe-interview/issues/337)
- [对于即将到来的 vue3.0 特性你有什么了解的吗？](https://github.com/haizlin/fe-interview/issues/336)
- [vue 开发过程中你有使用什么辅助工具吗？](https://github.com/haizlin/fe-interview/issues/335)
- [vue 和微信小程序写法上有什么区别？](https://github.com/haizlin/fe-interview/issues/334)
- [怎么缓存当前的组件？缓存后怎么更新？](https://github.com/haizlin/fe-interview/issues/333)
- [你了解什么是高阶组件吗？可否举个例子说明下？](https://github.com/haizlin/fe-interview/issues/332)
- [为什么我们写组件的时候可以写在.vue 里呢？可以是别的文件名后缀吗？](https://github.com/haizlin/fe-interview/issues/331)
- [vue-loader 是什么？它有什么作用？](https://github.com/haizlin/fe-interview/issues/330)
- [说说你对 vue 的 extend（构造器）的理解，它主要是用来做什么的？](https://github.com/haizlin/fe-interview/issues/329)
- [如果将 axios 异步请求同步化处理？](https://github.com/haizlin/fe-interview/issues/328)
- [怎么捕获组件 vue 的错误信息？](https://github.com/haizlin/fe-interview/issues/327)
- [为什么 vue 使用异步更新组件？](https://github.com/haizlin/fe-interview/issues/326)
- [如何实现一个虚拟 DOM？说说你的思路](https://github.com/haizlin/fe-interview/issues/325)
- [写出多种定义组件模板的方法](https://github.com/haizlin/fe-interview/issues/324)
- [SPA 单页面的实现方式有哪些？](https://github.com/haizlin/fe-interview/issues/323)
- [说说你对 SPA 单页面的理解，它的优缺点分别是什么？](https://github.com/haizlin/fe-interview/issues/322)
- [说说你都用 vue 做过哪些类型的项目？](https://github.com/haizlin/fe-interview/issues/321)
- [在 vue 项目中如何引入第三方库（比如 jQuery）？有哪些方法可以做到？](https://github.com/haizlin/fe-interview/issues/320)
- [使用 vue 手写一个过滤器](https://github.com/haizlin/fe-interview/issues/319)
- [你有使用过 render 函数吗？有什么好处？](https://github.com/haizlin/fe-interview/issues/318)
- [写出你常用的指令有哪些？](https://github.com/haizlin/fe-interview/issues/317)
- [手写一个自定义指令及写出如何调用](https://github.com/haizlin/fe-interview/issues/316)
- [组件进来请求接口时你是放在哪个生命周期？为什么？](https://github.com/haizlin/fe-interview/issues/315)
- [你有用过事件总线(EventBus)吗？说说你的理解](https://github.com/haizlin/fe-interview/issues/314)
- [说说 vue 的优缺点分别是什么？](https://github.com/haizlin/fe-interview/issues/313)
- [DOM 渲染在哪个周期中就已经完成了？](https://github.com/haizlin/fe-interview/issues/312)
- [第一次加载页面时会触发哪几个钩子？](https://github.com/haizlin/fe-interview/issues/311)
- [vue 生命周期总共有几个阶段？](https://github.com/haizlin/fe-interview/issues/310)
- [vue 生命周期的作用是什么？](https://github.com/haizlin/fe-interview/issues/309)
- [vue 和 angular 有什么区别呢？](https://github.com/haizlin/fe-interview/issues/308)
- [如何引入 scss？引入后如何使用？](https://github.com/haizlin/fe-interview/issues/307)
- [使用 vue 开发过程你是怎么做接口管理的？](https://github.com/haizlin/fe-interview/issues/306)
- [为何官方推荐使用 axios 而不用 vue-resource？](https://github.com/haizlin/fe-interview/issues/305)
- [你了解 axios 的原理吗？有看过它的源码吗？](https://github.com/haizlin/fe-interview/issues/304)
- [你有封装过 axios 吗？主要是封装哪方面的？](https://github.com/haizlin/fe-interview/issues/303)
- [如何中断 axios 的请求？](https://github.com/haizlin/fe-interview/issues/302)
- [axios 是什么？怎样使用它？怎么解决跨域的问题？](https://github.com/haizlin/fe-interview/issues/301)
- [说说你对 vue 的 template 编译的理解？](https://github.com/haizlin/fe-interview/issues/292)
- [v-on 可以绑定多个方法吗？](https://github.com/haizlin/fe-interview/issues/291)
- [vue 常用的修饰符有哪些？列举并说明](https://github.com/haizlin/fe-interview/issues/290)
- [你认为 vue 的核心是什么？](https://github.com/haizlin/fe-interview/issues/289)
- [v-model 是什么？有什么用呢？](https://github.com/haizlin/fe-interview/issues/288)
- [说说你对 vue 的 mixin 的理解，有什么应用场景？](https://github.com/haizlin/fe-interview/issues/287)
- [SPA 首屏加载速度慢的怎么解决？](https://github.com/haizlin/fe-interview/issues/286)
- [删除数组用 delete 和 Vue.delete 有什么区别？](https://github.com/haizlin/fe-interview/issues/285)
- [动态给 vue 的 data 添加一个新的属性时会发生什么？怎样解决？](https://github.com/haizlin/fe-interview/issues/284)
- [组件和插件有什么区别？](https://github.com/haizlin/fe-interview/issues/283)
- [说说你使用 vue 过程中遇到的问题（坑）有哪些，你是怎么解决的？](https://github.com/haizlin/fe-interview/issues/274)
- [说说你对选项 el,template,render 的理解](https://github.com/haizlin/fe-interview/issues/273)
- [vue 实例挂载的过程是什么？](https://github.com/haizlin/fe-interview/issues/272)
- [vue 在组件中引入插件的方法有哪些？](https://github.com/haizlin/fe-interview/issues/271)
- [v-if 和 v-for 的优先级是什么？如果这两个同时出现时，那应该怎么优化才能得到更好的性能？](https://github.com/haizlin/fe-interview/issues/270)
- [分别说说 vue 能监听到数组或对象变化的场景，还有哪些场景是监听不到的？无法监听时有什么解决方案？](https://github.com/haizlin/fe-interview/issues/269)
- [\$nextTick 有什么作用？](https://github.com/haizlin/fe-interview/issues/268)
- [为什么 data 属性必须声明为返回一个初始数据对应的函数呢？](https://github.com/haizlin/fe-interview/issues/267)
- [怎么在 watch 监听开始之后立即被调用？](https://github.com/haizlin/fe-interview/issues/266)
- [watch 怎么深度监听对象变化？](https://github.com/haizlin/fe-interview/issues/265)
- [watch 和计算属性有什么区别？](https://github.com/haizlin/fe-interview/issues/264)
- [vue 如何监听键盘事件？](https://github.com/haizlin/fe-interview/issues/263)
- [v-for 循环中 key 有什么作用？](https://github.com/haizlin/fe-interview/issues/262)
- [怎么在 vue 中使用插件？](https://github.com/haizlin/fe-interview/issues/261)
- [你有写过自定义组件吗？](https://github.com/haizlin/fe-interview/issues/260)
- [说说你对 keep-alive 的理解是什么？](https://github.com/haizlin/fe-interview/issues/259)
- [怎么使 css 样式只在当前组件中生效？](https://github.com/haizlin/fe-interview/issues/258)
- [你有看过 vue 的源码吗？如果有那就说说看](https://github.com/haizlin/fe-interview/issues/235)
- [你有写过自定义指令吗？自定义指令的生命周期（钩子函数）有哪些？](https://github.com/haizlin/fe-interview/issues/234)
- [v-show 和 v-if 有什么区别？使用场景分别是什么？](https://github.com/haizlin/fe-interview/issues/232)
- [说说你对 MVC、MVP、MVVM 模式的理解](https://github.com/haizlin/fe-interview/issues/231)
- [说下你对指令的理解？](https://github.com/haizlin/fe-interview/issues/230)
- [请描述下 vue 的生命周期是什么？](https://github.com/haizlin/fe-interview/issues/229)
- [vue 组件之间的通信都有哪些？](https://github.com/haizlin/fe-interview/issues/228)
- [什么是虚拟 DOM？](https://github.com/haizlin/fe-interview/issues/227)
- [什么是双向绑定？原理是什么？](https://github.com/haizlin/fe-interview/issues/226)
- [vue 和 react 有什么不同？使用场景是什么？](https://github.com/haizlin/fe-interview/issues/225)
- [说说 vue 的优缺点](https://github.com/haizlin/fe-interview/issues/224)
- [有使用过 vue 吗？说说你对 vue 的理解](https://github.com/haizlin/fe-interview/issues/223)

### vue 父子组件的标签一些特殊的地方

- class 值是不用传的，所以会存在一个样式泄漏的问题
- 普通的 click 事件也不需要子组件内部去做特殊处理，在父组件里使用子组件时，直接用 @click 就会透传

### 具名插槽

https://segmentfault.com/a/1190000012996217?utm_source=tag-newest
https://juejin.im/post/5cb0564e5188251acb530087

slot 和 slot-scope 属性从 3.0 开始会被废弃，取而代之的是内置指令 v-slot，可以缩写为【#】

### vue 的 h 函数

render 函数中的参数

### 有些时候对 vue 组件的 style 标签中的样式，在开发的时候好好的，但是 build 会丢失？

样式没有了。。。。

我猜测是 css 相关的 loader 的问题，后来是直接写入到 less 文件中解决的。出现问题的 style 标签没有写 less 语言。

### 封装 vue 组件的时候，需要透传 slot 的模板内容。

场景：封装 ant d v 的 Empty 控件
解决方案。https://blog.csdn.net/xuxu_qkz/article/details/81115022

新封装的组件（子组件）

```vue
<template>
  <a-empty image="https://gw.alipayobjects.com/mdn/miniapp_social/afts/img/A*pevERLJC9v0AAAAAAAAAAABjAQAAAQ/original">
    <span slot="description">
      <!-- <slot name="description">暂无数据</slot> -->
      <slot>暂无数据</slot>
    </span>
  </a-empty>
</template>
```

调用（父组件）

```vue
<template>
  <Empty>
    <!-- <a slot="description" href="/abc">还未编辑仪表盘，点击此处去编辑</a> -->
    <a href="/abc">还未编辑仪表盘，点击此处去编辑</a>
  </Empty>
</template>
```

### vue scoped 的样式穿透的问题？

### 写组件库的时候 css 如何写比较好？

不写在单独的组件中标签中。单独抽出来比较好。 因为如果是 scoped ， 嵌套组件的话就会一直多解析很多遍
。

### 子组件几个事件的差别

如果要自己实现 v-model 的 api 的话子组件里应该怎么实现？

```js
this.$emit('update:value', this.visible);
this.$emit('change', this.visible);
```

### vue 全局和单个组件获取配置信息

#### 获取全局注册的组件

```js
Vue.options.components;
```

#### 获取当前组件注册的组件

```js
this.$options.components;
```

### vue-cli@3 的 cdn 打包处理

包大小分析：https://cli.vuejs.org/zh/guide/cli-service.html#%E4%BD%BF%E7%94%A8%E5%91%BD%E4%BB%A4

https://www.jianshu.com/p/d1fb954f5713

https://www.jianshu.com/p/9d6c1efebcd9

### vue 是怎么进行销毁的

### vue computed 的原理

### vue 的监听器如何进行销毁

### vue 的 render 函数包含 template 标签

不会显示具体的模块，不可见。 但是 dom 结构还是渲染出来了的。

### vue 的事件更新事件

有一个一个的事件队列推入，多次推入，会多次更新。 如果在一个作用域中，同时修改一个值，这样会被合成一个更新，推入事件队列中。

### Vue.extend

https://www.cnblogs.com/hentai-miao/p/10271652.html

### vm.$scopedSlots和vm.$slots 的理解和基本使用

https://www.jianshu.com/p/3af8552449fb

this.$slots 访问静态插槽的内容，每个插槽都是一个 VNode 数组
this.$scopedSlots 访问作用域插槽，每个作用域插槽都是一个返回若干 VNode 的函数：

如果一个组件只声明了一个 `slot-scope` 属性的话， 在 `$scopedSlots` 会多一个 default 函数，函数的参数就是 `slot-scope` ， 函数的返回结果是一个 VNode。 如果除了 `slot-scope` 之外还声明了 slot 的话，会出现在 `this.$scopedSlots` 的 指定属性中，也是一个函数。

所有的 $slots 现在都会作为函数暴露在 $scopedSlots 中。**如果你在使用渲染函数，不论当前插槽是否带有作用域，我们都推荐始终通过 \$scopedSlots 访问它们。** 这不仅仅使得在未来添加作用域变得简单，也可以让你最终轻松迁移到所有插槽都是函数的 Vue 3。

#### scopedSlots

如果要用渲染函数向子组件中传递作用域插槽，可以利用 VNode 数据对象中的 scopedSlots 字段：

```js
render: function (createElement) {
  // `<div><child v-slot="props"><span>{{ props.text }}</span></child></div>`
  return createElement('div', [
    createElement('child', {
      // 在数据对象中传递 `scopedSlots`
      // 格式为 { name: props => VNode | Array<VNode> }
      scopedSlots: {
        default: function (props) {
          return createElement('span', props.text)
        }
      }
    })
  ])
}
```

### 组件 data 为什么返回函数

组件中的 data 写成一个函数，数据以函数返回值形式定义，这样每复用一次组件，就会返回一份新的 data。如果单纯的写成对象形式，就使得所有组件实例共用了一份 data，造成了数据污染。

### key 的作用

1. 让 vue 精准的追踪到每一个元素，高效的更新虚拟 DOM。
2. 触发过渡

```html
<transition>
  <span :key="text">{{ text }}</span>
</transition>
```

当 text 改变时，这个元素的 key 属性就发生了改变，在渲染更新时，Vue 会认为这里新产生了一个元素，而老的元素由于 key 不存在了，所以会被删除，从而触发了过渡。

### scoped 样式穿透

scoped 虽然避免了组件间样式污染，但是很多时候我们需要修改组件中的某个样式，但是又不想去除 scoped 属性。

1. 使用/deep/

```html
<!-- Parent -->
<template>
  <div class="wrap">
    <Child />
  </div>
</template>

<style lang="scss" scoped>
  .wrap /deep/ .box {
    background: red;
  }
</style>

<!-- Child -->
<template>
  <div class="box"></div>
</template>
```

2. 使用两个 style 标签

```html
<!-- Parent -->
<template>
  <div class="wrap">
    <Child />
  </div>
</template>

<style lang="scss" scoped>
  /* 其他样式 */
</style>
<style lang="scss">
  .wrap .box {
    background: red;
  }
</style>

//Child
<template>
  <div class="box"></div>
</template>
```

### 总结

#### 基础

1. Vue 思想
2. Vue 内部运行机制
3. Vue 事件绑定
4. Watch 和 Computed
5. Vue 生命周期
6. Vue 组件及通讯
7. Vue 动画
8. 插槽
9. 自定义指令

#### 进阶

1. Vue-cli 搭建项目与项目结构分析
2. 路由搭建，router 的常用操作
3. vuex 的使用
4. hooks 的应用

#### 源码分析

1. 响应式原理
2. vue 生命钩子函数执行分析
3. vue 模板编译、渲染函数原理分析
4. 了解 Vue3 吗，相对于 Vue2 做了哪些优化

### keep-alive 实现原理

### vnode 的转换过程 和 dom-diff 的过程

https://juejin.im/post/5c8e5e4951882545c109ae9c#heading-5

## vue

### 原理

- 响应式原理
  - 观察者模式
  - computed 原理
  - watch 原理
  - template 编译成 render 原理
  - data 等
- 双向绑定原理
- 指令原理
- 组件间通信的多种方式
- 自定义表单 model
- .sync
- render 函数
- vue 如何实现代码的复用

  - 最基本 utils 函数抽离
  - 公共组件抽离
    - 上述两个都可以通过抽 npm 包或者 submodule 的形式去取得最大限度的复用
  - mixins 组件间的公共 options 抽离
  - extend 组件继承、函数重载等
  - template 部分，插槽

- vuex 的使用场景
- 指令原理

  - v-input
  - v-clickout

- diff 原理
- for 循环为什么要有一个 key 值，以及为什么说不能使用 index 作为 key

### Object.defineProperty

对应专业俗语分别是：

- 数据劫持 / 数据代理
- 依赖收集
- 发布订阅模式

能够将一些对象的属性转为 getter 和 setter。Object.defineProperty 是 ES5 中一个无法 shim 的特性，这也就是 Vue 不支持 IE8 以及更低版本浏览器的原因。

Vue 无法检测到对象属性的添加或删除。Vue 不允许动态添加根级别的响应式属性。但是，可以使用 Vue.set(object, propertyName, value)方法向嵌套对象添加响应式属性。

watch 属性，都是一个 new Watcher 实例。

观察一个对象，如果是数组的话，需要往 "push","pop","shift","unshift","splice","sort","reverse" 这些原生数组函数改写，主要是需要在这些函数的内部都调用了依赖的更新通知，这样就会触发视图的更新了。如果是新增属性之类的操作，那就观察一下新增的属性。

进行观察的时候执行 defineReactive 函数，在每一次执行的时候，都是创建一个 Dep 依赖实例， get 属性中 如果存在 Dep.target （也就是响应函数的 watcher 实例）那就执行依赖收集，这个 Dep.target 的收集是在 new Watcher 的时候，new Watcher 第二个参数是一个函数表达值，会被记录下来，表明这是当前响应式的反馈。每一个 watcher 里面有一个依赖数组，dep.depend() 依赖收集就是往 watcher 里依赖项。当然如果添加的属性是一个对象或者数组的话，继续添加依赖，在 watcher 表达式执行完毕之前，会清理掉 Dep.target ，防止会收集到错误的依赖。 然后在属性改变的时候，就会触发 set ，set 中基本上是观察新添加的属性之外最重要的就是 dep.notify 通知操作了。这个操作就是循环收集的所有 watcher ，执行 watcher 的 update 函数， update 函数如果设置了同步执行的话，就是直接重新执行一次表达式； 但是一般情况下，会执行 queueWatcher 将当前的 watcher 推入一个事件缓冲队列 queue 中， 这是通过 nextTick 实现的， 会一次更新队列中的所有 watcher 的表达式。这样就达到了响应式的目的。(队列执行的时候，会根据 watcher.id 进行去重)

### 异步更新队列

vue 更新 dom 时是异步执行的。数据变化、更新是在主线程中同步执行的；在侦听到数据变化时，watcher 将数据变更存储到异步队列中，当本次数据变化，即主线成任务执行完毕，异步队列中的任务才会被执行（已去重）。

宏事件

- setImmediate
- MessageChannel
- setTimeout
  微事件
- promise

顺序是， promise => setImmediate => MessageChannel => setTimeout

#### 观察对象和观察数组的区别

数组的 api 需要去重写。所以数组一般通过扩展重新赋值，或者使用这些覆盖的 api 变化的时候才可以被更新，否则的话不更新，比如通过下标直接进行更改。

### vue-router

-

- hash 以及 history 的原理
  - pushState

#### router 的 hash 和 history 有什么区别

https://zhuanlan.zhihu.com/p/27588422

1. 一个是 hash, 一个看起来像真实的路径
2. hash 值不会被带到服务器上去
3. push 的时候实现原理不一样
   1. hash 模式的话，主要是将 location.hash = route.fullPath

#### hash 模式

### vuex

- 模块化 ？

### MVVM

ViewModel 通过双向数据绑定把 View 层和 Model 层连接了起来，而 View 和 Model 之间的同步工作完全是自动的，无需人为干涉，因此开发者只需要关注业务逻辑，不需要手动操作 DOM，不需要关注数据状态的同步问题，复杂的数据状态维护完全由 MVVM 来统一管理。

- M - Model。Model 代表数据模型，也可以在 Model 中定义数据修改和操作的业务逻辑。
- V - View。View 代表 UI 组件，它负责将数据模型转化为 UI 展现出来。
- VM - ViewModel。ViewModel 监听模型数据的改变和控制视图行为、处理用户交互，简单理解就是一个同步 View 和 Model 的对象，连接 Model 和 View。

### 使用 jsx 的优劣

好处：

1. 更加灵活的表达
2. 自定义的渲染函数，ant d 中的 table ， customRender 之类的渲染函数，能够更加自由的填充开发者想填写的内容
3. html 模板与数据处于一个地方，单文件组件 template 的需要上下移动
4. 与 TS 结合比较好， template 模板部分 vue 2.0 暂时不能很好支持
5. 不是很确定：通常情况下， spa 不会去线上编译模板代码，所以只是开发阶段的编译速度会增加，因为 template 会被编译成 render 函数，tsx/jsx 讲道理好像没有这个过程，html 标签会直接通过 h 函数被编译成 vnode
6. 对于需要做两个技术栈的开发者来说 是好事。

坏处：

1. render 函数的写法需要有一定的基础
2. 与 TS 结合之后，mixins 的写法有一定的误解性， 因为需要类型推导，所以 只能通过 Vue.extend 来实现一个 mixins ，每一个 mixins 需要写成一个 vue 类，而不是 options 的一部分，一个简单的对象即可

### 项目 常见问题

- 输入框中文输入法下的回车事件
- ff 的默认事件
- vue 为什么不支持低版本的浏览器
- 浏览器内核举例
- vue @ 3 支持到什么版本
- 引入的小图片为什么被渲染成了 base64
  - 这个是 webpack 里面的对应插件处理的.对于小于多少 K 以下的图片(规定的格式)直接转为 base64 格式渲染;具体配置在 webpack.base.conf.js 里面的 rules 里面的 url-loader 这样做的好处:在网速不好的时候先于内容加载和减少 http 的请求次数来减少网站服务器的负担
- CSSbackground 引入图片打包后,访问路径错误：因为打包后图片是在根目录下,你用相对路径肯定报错啊… 你可以魔改 webpack 的配置文件里面的 static 为./static…但是不建议。你若是把图片什么丢到 assets 目录下,然后相对路径,打包后是正常的
- 反向代理与正向代理的区别
- v-if 与 v-show 的区别
- lock 文件的作用：lock 文件的作用是统一版本号， 锁版本。 不然不同的人，不同的时间安装的包可能不一样
- package.json 里面的 dependencies 和 devDependencies 的差异
- fonticon 的原理
- setTimeout、Promise、Async/Await 的区别
- react-router 里的 <Link> 标签和 标签有什么区别? Link 的本质也是 a 标签。只不过在 Link 中禁用了 a 标签的默认事件，改用了 history 对象提供的方法进行跳转。
- vue 中的 ref 是什么？ref 被用来给元素或子组件注册引用信息。引用信息将会注册在父组件的 \$refs 对象上。如果在普通的 DOM 元素上使用，引用指向的就是 DOM 元素；如果用在子组件上，引用就指向组件实例。

https://juejin.im/post/5d59f2a451882549be53b170

- router 的哈希模式与 history 有什么不同，hash 值能被监听改变么？
- JSON.stringify 和 JSON.parse() 不足之处
- 页面预渲染（seo 优化问题） https://www.cnblogs.com/Lovebugs/p/8759741.html
- webpack 插件、loader
- webpack plugins 与 module 之类的区别
- webpack 的热重载
- .native 事件

https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/308
https://blog.csdn.net/qdmoment/article/details/89455938

### Vue 的数据为什么频繁变化但只会更新一次

Vue 异步执行 DOM 更新。只要观察到数据变化，Vue 将开启一个队列，并缓冲在同一事件循环中发生的所有数据改变。如果同一个 watcher 被多次触发，只会被推入到队列中一次。这种在缓冲时去除重复数据对于避免不必要的计算和 DOM 操作上非常重要。然后，在下一个的事件循环“tick”中，Vue 刷新队列并执行实际 (已去重的) 工作。Vue 在内部尝试对异步队列使用原生的 Promise.then 和 MessageChannel，如果执行环境不支持，会采用 setTimeout(fn, 0) 代替。
另外，关于 waiting 变量，这是很重要的一个标志位，它保证 flushSchedulerQueue 回调（$nextTick中执行）允许被置入callbacks一次。
因为Vue的事件机制是通过事件队列来调度执行，会等主进程执行空闲后进行调度，所以先会去等待所有的同步代码执行完成之后再去一次更新。这样的性能优势很明显，比如：
现在有这样的一种情况，mounted的时候test的值会被循环执行++1000次。 每次++时，都会根据响应式触发setter->Dep->Watcher->update->run。 如果这时候没有异步更新视图，那么每次++都会直接操作DOM更新视图，这是非常消耗性能的。 所以Vue实现了一个queue队列，在下一个tick（或者是当前tick的微任务阶段）统一执行queue中Watcher的run。同时，拥有相同id的Watcher不会被重复加入到该queue中去，所以不会执行1000次Watcher的run。最终更新视图只会直接将test对的DOM的0变成1000。 保证更新视图操作DOM的动作是在当前栈执行完以后下一个tick（或者是当前tick的微任务阶段）的时候调用，大大优化了性能。
执行顺序update -> queueWatcher -> 维护观察者队列（重复id的Watcher处理） -> waiting标志位处理（保证需要更新DOM或者Watcher视图更新的方法flushSchedulerQueue只会被推入异步执行的$nextTick 回调数组一次） -> 处理\$nextTick（在为微任务或者宏任务中异步更新 DOM）->

Vue 是异步更新 Dom 的，Dom 的更新放在下一个宏任务或者当前宏任务的末尾（微任务）中进行执行

由于 VUE 的数据驱动视图更新是异步的，即修改数据的当下，视图不会立刻更新，而是等同一事件循环中的所有数据变化完成之后，再统一进行视图更新。在同一事件循环中的数据变化后，DOM 完成更新，立即执行 nextTick(callback)内的回调。
vue 和 react 一样，对 dom 的修改都是异步的。它会在队列里记录你对 dom 的操作并进行 diff 操作，后一个操作会覆盖前一个，然后更新 dom。



### index 不能作为 key 的原因

循环比较虚拟 dom， 会一层一层进行遍历。

通俗描述原因： 本来不一样的东西，现在变成一样了。。。。 因为 key 变成一样了，就判断是同个东西

场景：

1. 中间插入节点
2. 中间删除节点

会徒增很多的比较。

### Diff 算法

- 同个节点，会用 patch 进行打补丁操作
- 不同节点，会进行 insert 和 delete 操作
- 判断为一样的类型
  - key
  - tag
  - 如果是 input 标签的话，需要 type 也一样。

### router 原理

#### hash

window.location.hash = route.fullPath

执行 router.push(url) 的操作的时候， 会执行 updateRoute 函数， 通过一个全局 mixins 会执行 this.\_route = route 这样一个操作。因为 `_route` 是响应式的，所以就会重新执行 render 函数 ？？ （好像这逻辑有问题）

#### history

主要是两个 api:

- pushState
- popState

执行 router.push(url) 的操作的时候，会执行 pushState(url) 这样的操作，直接更新一个状态。

### vue-cli 环境变量

会自动引入 VUE_APP 开头的环境变量， 以及 NODE_ENV 但是需要注意的是，NODE_ENV 如果通过使用 env 之后 build 就不会自动注入设置为 production 了。。。 探究一下
