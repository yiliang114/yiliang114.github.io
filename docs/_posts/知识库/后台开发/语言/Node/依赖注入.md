---
layout: CustomPages
title: 依赖注入
date: 2020-11-21
aside: false
draft: true
---

## 依赖注入

DI IOC 一种设计模式。相当于实例都是外部的一个 container 去接管。当一个类的实例依赖另一个类的实例时，自己不创建该实例，由 IOC 容器创建并注入给自己，因此称为依赖注入。依赖注入解决的就是如何有效组织代码依赖模块的问题。

### Injectable 和 Inject

http://www.voidcn.com/article/p-xvbfjeph-buk.html

#### Injectable

@Injectable()让 Angular 2 知道一个类可以用于依赖注入器。 如果类上有其他 Angular 2 装饰器或没有任何依赖，@Injectable()不是必须的。

@Injectable 装饰器旨在实际设置一些关于要注入相关类的构造函数的依赖项的元数据.它是一个不需要参数的类装饰器.没有这个装饰器就不会注入依赖…

#### Inject

@Inject()是一个手动机制，让 Angular 2 知道必须注入参数。

必须在构造函数参数级别使用@Inject 修饰符来指定有关要注入的元素的元数据.没有它,使用参数类型(obj：SomeType 相当于@Inject(SomeType)obj).

### 其他

https://www.cnblogs.com/front-end-ralph/p/5208045.html

inversify

## InversifyJS

由于 InversifyJS 用到了反射来获取装饰器的相关元数据，所以需要额外安装库 `reflect-metadata`. 另外，InversifyJS 要求 Typescript >= 2.0 并且需要配置如下编译参数：

```json
{
  "compilerOptions": {
    "target": "es5",
    "lib": ["es6", "dom"],
    "types": ["reflect-metadata"],
    "module": "commonjs",
    "moduleResolution": "node",
    "experimentalDecorators": true,
    "emitDecoratorMetadata": true
  }
}
```

https://zhuanlan.zhihu.com/p/137542149
https://doc.inversify.cloud/zh_cn/
