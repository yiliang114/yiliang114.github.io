(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{217:function(t,a,e){"use strict";e.r(a);var i=e(0),l=Object(i.a)({},(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"创建一个任务型机器人"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#创建一个任务型机器人"}},[t._v("#")]),t._v(" 创建一个任务型机器人")]),t._v(" "),e("p",[t._v("下文以“差旅机器人”为例介绍 Bot 的创建、配置、发布和接入的全流程。")]),t._v(" "),e("h2",{attrs:{id:"_1-创建-bot"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-创建-bot"}},[t._v("#")]),t._v(" 1. 创建 Bot")]),t._v(" "),e("p",[t._v("在 "),e("a",{attrs:{href:"https://console.cloud.tencent.com/tbp",target:"_blank",rel:"noopener noreferrer"}},[t._v("TBP 配置平台"),e("OutboundLink")],1),t._v(" 主页面单击【新建 Bot】，在弹出的对话框中输入 Bot 标识名，例如：TravelBot，确定后即完成 Bot 创建：\n"),e("img",{attrs:{src:"https://main.qcloudimg.com/raw/73ab9b963d095a4b21726476bea07878.png",alt:"img"}}),t._v(" "),e("img",{attrs:{src:"https://main.qcloudimg.com/raw/c393abfe18ccb30b60b2d0f53e7db6e1.png",alt:"img"}})]),t._v(" "),e("h2",{attrs:{id:"_2-配置-bot"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-配置-bot"}},[t._v("#")]),t._v(" 2. 配置 Bot")]),t._v(" "),e("p",[t._v("单击 TravelBot 操作列的【配置】，进入 Bot 配置主界面，主要展示 Bot 相关的信息：\n"),e("img",{attrs:{src:"https://main.qcloudimg.com/raw/14036072f3b72817d95c957b08b5ca9c.png",alt:"img"}}),t._v(" "),e("strong",[t._v("新建与配置意图")]),t._v("\n切换至【意图管理】模块新建意图，以订机票的意图为例，单击操作列的【新建意图】，在弹出的对话框中输入意图标识名，例如：BookTicket，确定后即完成意图创建：\n"),e("img",{attrs:{src:"https://main.qcloudimg.com/raw/80ecd0059e5cd475c8b1329e3b38a22d.png",alt:"img"}}),t._v("\n单击操作列的 BookTicket【配置】，进入意图的配置页面，包括【用户说法】、【槽位】、【服务实现】和【机器人自动回复】四个配置模块：\n"),e("img",{attrs:{src:"https://main.qcloudimg.com/raw/1ca4329357fb4098c6aa5f1d825e7ff8.png",alt:"img"}}),t._v("\n逐一配置各个模块，例如：\na. "),e("strong",[t._v("用户说法")]),t._v("\n添加不带槽位和带槽位的用户说法：")]),t._v(" "),e("ul",[e("li",[t._v("我想订机票")]),t._v(" "),e("li",[t._v("我要订 {DepartureTime} 的机票")]),t._v(" "),e("li",[t._v("帮我订从 {DepartureCity} 到 {DestinationCity} 的机票")])]),t._v(" "),e("p",[t._v("b. "),e("strong",[t._v("槽位")]),t._v("\n添加槽位并进行相关设置：")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("槽位")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("对应词典")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("槽位是否必填")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("追问话术")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("出发地 DepartureCity")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("城市词典")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("是")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("请问您的出发地是哪个城市？")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("目的地 DestinationCity")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("城市词典")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("是")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("请问您的目的地是哪个城市？")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("出发时间 DepartureTime")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("时间词典")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("是")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("请问您想订什么时候的机票？")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("机票舱位 TicketClass")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("舱位词典")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("-")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("机票数量 PersonNum")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("数量")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("-")])])])]),t._v(" "),e("p",[t._v("c. "),e("strong",[t._v("服务实现")]),t._v("\n服务实现方式选择 Web Service，并输入服务调用的 URL 地址。\nd. "),e("strong",[t._v("机器人自动回复")]),t._v("\n因服务实现方式选择 Web Service，不允许设置。\n意图配置完成后进行保存：\n"),e("img",{attrs:{src:"https://main.qcloudimg.com/raw/acce3677c3dcaec0e57d998a74d5b81d.png",alt:"img"}})]),t._v(" "),e("p",[e("strong",[t._v("新建和配置自定义词典")]),t._v("\n在配置意图的槽位时需要为各个槽位设置对应的词典，此时可在【槽位】配置模块选择词典时快速新建自定义词典，例如为槽位 TicketClass 新建一个包含各类舱位的自定义词典 ticket_class：\n"),e("img",{attrs:{src:"https://main.qcloudimg.com/raw/ecba2458c59485937f400b0aa5187593.png",alt:"img"}}),t._v("\n也可先保存意图配置后，切换到【词典管理】模块新建自定义词典 ticket_class：\n"),e("img",{attrs:{src:"https://main.qcloudimg.com/raw/32e9a8babc1d0f5130aafa392225b8a8.png",alt:"img"}}),t._v(" "),e("img",{attrs:{src:"https://main.qcloudimg.com/raw/eb973003eee95127b37c7bcc3ba2bed5.png",alt:"img"}}),t._v("\n但无论通过哪种途径新建自定义词典，都需要在【词典管理】模块对自定义词典进行配置，添加词条。例如词典 ticket_class，有如下词条：")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("词条序号")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("标准词")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("同义词")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("1")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("经济舱")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("普通舱")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("2")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("商务舱")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("公务舱")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("3")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("头等舱")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("豪华舱")])])])]),t._v(" "),e("p",[t._v("则进入该词典的配置页面添加以上词条：\n"),e("img",{attrs:{src:"https://main.qcloudimg.com/raw/b889cfbceba38bb61321801b657cc8a9.png",alt:"img"}}),t._v(" "),e("strong",[t._v("引用内置词典")]),t._v("\n槽位对应的词典除了可以选择自定义词典之外，还可以引用平台提供的内置词典。引用内置词典同样有类似新建自定义词典的两种途径，例如在【槽位】配置模块为槽位 DestinationCity 引用包含所有城市名的内置词典 T.loc_city：\n"),e("img",{attrs:{src:"https://main.qcloudimg.com/raw/11131da184940a611d3cb254b3bf9db3.png",alt:"img"}}),t._v("\n或先保存意图配置，后切换到【词典管理】模块引用内置词典 T.loc_city：\n"),e("img",{attrs:{src:"https://main.qcloudimg.com/raw/f0814e9f77ea1acd8b2139cf44a88da9.png",alt:"img"}})]),t._v(" "),e("h2",{attrs:{id:"_3-编译、测试和发布-bot"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-编译、测试和发布-bot"}},[t._v("#")]),t._v(" 3. 编译、测试和发布 Bot")]),t._v(" "),e("p",[t._v("意图和词典配置无误后，需先对 Bot 进行编译才可以测试与发布。\n"),e("strong",[t._v("编译 Bot")]),t._v("\n在 Bot 配置的任意页面单击【编译】都可以对 Bot 进行编译，编译过程中不允许更改 Bot 的配置和测试 Bot，例如此时 TravelBot 正在编译中：\n"),e("img",{attrs:{src:"https://main.qcloudimg.com/raw/3f35bd5dbe299ae6d6dac66f375e707a.png",alt:"img"}}),t._v("\n每次 Bot 编译通过后，都会自动更新【发布管理】模块中的调试版本：\n"),e("img",{attrs:{src:"https://main.qcloudimg.com/raw/f4cb43be276c8c741cc8c8ae27bf2f3a.png",alt:"img"}}),t._v(" "),e("strong",[t._v("测试和发布 Bot")]),t._v("\nBot 存在调试版本时，可进行测试，在 Bot 配置的任意页面单击【测试】，弹出测试侧边栏，与 Bot 进行对话测试，测试无误后可对当前调试版本进行发布上线。例如测试 TravelBot：\n"),e("img",{attrs:{src:"https://main.qcloudimg.com/raw/a0aff5def4bf8c3006b9186520422e08.png",alt:"img"}}),t._v("\nTravelBot 测试无误后，进入【发布管理】模块，单击【发布上线】，将当前版本发布为线上版本：\n"),e("img",{attrs:{src:"https://main.qcloudimg.com/raw/1e894874ae8d551c6e9b07cf6cbfa74d.png",alt:"img"}})]),t._v(" "),e("h2",{attrs:{id:"_4-接入-bot"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-接入-bot"}},[t._v("#")]),t._v(" 4. 接入 Bot")]),t._v(" "),e("p",[t._v("线上版本可供各类应用或终端接入使用，下面以微信公众号接入 TravelBot 为例进行介绍。\n当 TravelBot 存在线上版本时，可在【应用接入】模块开启微信公众号接入按钮，此时将弹出接入配置对话框：\n"),e("img",{attrs:{src:"https://main.qcloudimg.com/raw/77b780ac2090fdb33e59182dbae1b559.png",alt:"img"}}),t._v(" "),e("img",{attrs:{src:"https://main.qcloudimg.com/raw/290fe86fb9fda3dd6447b63e572f51b5.png",alt:"img"}}),t._v("\n单击【微信公众号授权接入】，将跳转到公众平台账号授权页面，使用公众平台绑定的管理员个人微信号扫描页面的二维码，并授权接入。授权成功后公众号便接入了 TravelBot，此时可在公众号对话界面与 TravelBot 进行对话：\n"),e("img",{attrs:{src:"https://main.qcloudimg.com/raw/2bfadecef3faae80ac28e5fac8a00514.png",alt:"img"}}),t._v(" "),e("img",{attrs:{src:"https://main.qcloudimg.com/raw/6c8c92c3c3c18e0bbdc9f61ab83c93c6.png",alt:"img"}}),t._v(" "),e("img",{attrs:{src:"https://main.qcloudimg.com/raw/8212958511f021b131252fa3dc6242ca.png",alt:"img"}})])])}),[],!1,null,null,null);a.default=l.exports}}]);