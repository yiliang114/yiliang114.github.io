---
layout: CustomPages
title: 数据结构-复杂度分析
date: 2020-11-25
aside: false
draft: true
---

# 复杂度分析

## 几种常见时间复杂度实例分析

- 复杂度量级(按照数量级递增)
- 常数阶 O(1)
- 对数阶 O(logn)
- 线性阶 O(n)
- 线性对数阶 O(nlogn)
- 平方阶 O(n\*n) ...
-
- 指数阶 O(2 的 n 次)
- 阶乘阶 O(n!)

对于刚罗列的复杂度量级，我们可以粗略地分为两类，多项式量级和非多项式量级。其中，非多项式量级只有两个:O(2n)和 O(n!)。

#### O(logn)、O(nlogn)

不管是以 2 为底、以 3 为底，还是以 10 为底，我们可以把所有对数阶的时间复杂度都记为 O(logn)。
因为对数之间是可以互相转换的，log3n 就等于 log32 _ log2n，所以 O(log3n) = O(C _ log2n)，其中 C=log32 是一个常量。基于我们前面的一个理论:在采用 大 O 标记复杂度的时候，可以忽略系数，即 O(Cf(n)) = O(f(n))。所以，O(log2n) 就等于 O(log3n)。因此，在对数阶时间复杂度的表示方法里，我们忽略对数的“底”， 统一表示为 O(logn)。

如果一段代码的时间复杂度是 O(logn)，我们循环执行 n 遍，时间复 杂度就是 O(nlogn)了。而且，O(nlogn)也是一种非常常见的算法时间复杂度。比如，归并排序、快速排序的时间复杂度都是 O(nlogn)。

#### O(m+n)、O(m\*n)

m 和 n 是表示两个数据规模。我们无法事先评估 m 和 n 谁的量级大，所以我们在表示复杂度的时候，就不能简单地利用加法法则，省略掉其中一 个。所以时间复杂度就是 O(m+n) 或者 O(m\*n) 了。

## 空间复杂度分析

常见的空间复杂度就是 O(1)、O(n)、O(n2 )，像 O(logn)、O(nlogn)这样的对数阶复杂度平时都用不到。

![image-20190819171103164](http://media.zhijianzhang.cn/image-20190819171103164.png)

## 最好情况时间复杂度、最坏情况时间复杂度和平均情况时间复杂度

为了表示代码在不同情况下的不同时间复杂度，我们需要引入三个概念:最好情况时间复杂度、最坏情况时间复杂度和平均情况时间复杂度。
顾名思义，最好情况时间复杂度就是，在最理想的情况下，执行这段代码的时间复杂度。就像我们刚刚讲到的，在最理想的情况下，要查找的变量 x 正好是数组的第一个元素，这个时候对应的时间复杂度就是最好情况时间复杂度。同理，最坏情况时间复杂度就是，在最糟糕的情况下，执行这段代码的时间复杂度。就像刚举的那个例子，如果数组中没有要查找的变量 x，我们需要把整个数组 都遍历一遍才行，所以这种最糟糕情况下对应的时间复杂度就是最坏情况时间复杂度。

## 复杂度

### 大 O 符号

大 O 符号中指定的算法的增长顺序。

以下是一些最常用的 大 O 标记法 列表以及它们与不同大小输入数据的性能比较。

| 大 O 标记法    | 计算 10 个元素 | 计算 100 个元素 | 计算 1000 个元素 |
| -------------- | -------------- | --------------- | ---------------- |
| **O(1)**       | 1              | 1               | 1                |
| **O(log N)**   | 3              | 6               | 9                |
| **O(N)**       | 10             | 100             | 1000             |
| **O(N log N)** | 30             | 600             | 9000             |
| **O(N^2)**     | 100            | 10000           | 1000000          |
| **O(2^N)**     | 1024           | 1.26e+29        | 1.07e+301        |
| **O(N!)**      | 3628800        | 9.3e+157        | 4.02e+2567       |

### 数据结构操作的复杂性

| 数据结构       |  连接  |  查找  |  插入  |  删除  | 备注                                |
| -------------- | :----: | :----: | :----: | :----: | ----------------------------------- |
| **数组**       |   1    |   n    |   n    |   n    |                                     |
| **栈**         |   n    |   n    |   1    |   1    |                                     |
| **队列**       |   n    |   n    |   1    |   1    |                                     |
| **链表**       |   n    |   n    |   1    |   1    |                                     |
| **哈希表**     |   -    |   n    |   n    |   n    | 在完全哈希函数情况下，复杂度是 O(1) |
| **二分查找树** |   n    |   n    |   n    |   n    | 在平衡树情况下，复杂度是 O(log(n))  |
| **B 树**       | log(n) | log(n) | log(n) | log(n) |                                     |
| **红黑树**     | log(n) | log(n) | log(n) | log(n) |                                     |
| **AVL 树**     | log(n) | log(n) | log(n) | log(n) |                                     |
| **布隆过滤器** |   -    |   1    |   1    |   -    | 存在一定概率的判断错误(误判成存在)  |
