---
layout: CustomPages
title: LeetCode-åˆé›† 1
date: 2020-09-04
aside: false
draft: true
---

### [832]. Flipping an Image

```js
// Given a binary matrix A, we want to flip the image horizontally, then invert it, and return the resulting image.

// To flip an image horizontally means that each row of the image is reversed.  For example, flipping [1, 1, 0] horizontally results in [0, 1, 1].

// To invert an image means that each 0 is replaced by 1, and each 1 is replaced by [0]. For example, inverting [0, 1, 1] results in [1, 0, 0].

/**
 * @param {number[][]} A
 * @return {number[][]}
 */
export default function flipAndInvertImage(A) {
  // Take the transpose of the matrix
  for (let i = 0; i < A.length; i++) {
    // Flip each row
    for (let j = 0; j < Math.floor(A[i].length / 2); j++) {
      const a = A[i][j];
      const b = A[i][A[i].length - 1 - j];
      A[i][j] = b === 0 ? 1 : 0;
      A[i][A[i].length - 1 - j] = a === 0 ? 1 : 0;
    }
    if (A[i].length % 2 !== 0) {
      A[i][Math.floor(A[i].length / 2)] = A[i][Math.floor(A[i].length / 2)] === 0 ? 1 : 0;
    }
  }
  return A;
}
```

### [876].

```js
// This solution uses the 'runner method' mentioned in CTCI

/**
 * @param {ListNode} head
 * @return {ListNode}
 */
export default function middleNode(head) {
  if (!head) return null;
  let next = head;
  let nextNext = head;

  while (next.next && nextNext && nextNext.next && nextNext.next.next) {
    next = next.next;
    nextNext = nextNext.next.next;
  }

  if (nextNext.next) {
    return next.next;
  }

  return next;
}
```

### [905].æŒ‰å¥‡å¶æ’åºæ•°ç»„

```js
/*
 * @lc app=leetcode.cn id=905 lang=javascript
 *
 * [905] æŒ‰å¥‡å¶æ’åºæ•°ç»„
 */
/**
 * @param {number[]} A
 * @return {number[]}
 */
var sortArrayByParity = function(nums) {
  // å¥½åƒä¸å…³æ’åºçš„äº‹æƒ…ã€‚ã€‚ã€‚ã€‚
  const result = [];
  let length = nums.length,
    start = 0,
    end = length - 1;
  for (let i = 0; i < length; i++) {
    if (nums[i] % 2 === 0) {
      result[start] = nums[i];
      start++;
    } else {
      result[end] = nums[i];
      end--;
    }
  }
  return result;
};

console.log(sortArrayByParity([4, 2, 5, 7]));
console.log(sortArrayByParity([3, 1, 2, 4]));
```

### [912].æ’åºæ•°ç»„

```js
/*
 * @lc app=leetcode.cn id=912 lang=javascript
 *
 * [912] æ’åºæ•°ç»„
 */
/**
 * @param {number[]} nums
 * @return {number[]}
 */
var sortArray = function(nums) {
  if (nums.length < 2) return nums;
  return quickSort(nums);
};

const quickSort = (arr, start = 0, end = arr.length - 1) => {
  if (start >= end) return;
  let i = start,
    j = end,
    target = arr[start];

  while (i < j) {
    while (i < j && arr[j] >= target) j--;
    while (i < j && arr[i] <= target) i++;

    if (i < j) {
      [arr[i], arr[j]] = [arr[j], arr[i]];
    }
  }

  [arr[start], arr[j]] = [arr[j], arr[start]];
  quickSort(arr, start, i - 1);
  quickSort(arr, i + 1, end);

  return arr;
};

console.log(sortArray([5, 2, 3, 1]));
console.log(sortArray([5, 1, 1, 2, 0, 0]));
```

### [914].å¡ç‰Œåˆ†ç»„

```js
/*
 * @lc app=leetcode.cn id=914 lang=javascript
 *
 * [914] å¡ç‰Œåˆ†ç»„
 */
/**
 * @param {number[]} deck
 * @return {boolean}
 */
var hasGroupsSizeX = function(deck) {
  // ç»Ÿè®¡æ•°å­—ä¸ªæ•°
  const numMap = {};
  for (let i = 0; i < deck.length; i++) {
    if (!numMap[deck[i]]) {
      numMap[deck[i]] = 1;
    } else {
      numMap[deck[i]]++;
    }
  }
  const valuesArr = Object.values(numMap).sort((a, b) => (a > b ? 1 : -1));
  // console.log('valuesArr', valuesArr)
  // ä¹Ÿå°±æ˜¯è¯´æœ€å¤§å…¬çº¦æ•°å¾—å¤§äº 1
  return !valuesArr.find(value => gcd(value, valuesArr[0]) === 1 || value < 2);
};

// æ¬§é‡Œå‡ å¾·ç®—æ³•ï¼Œè¾—è½¬ç›¸é™¤æ³•ã€‚
function gcd(a, b) {
  if (b == 0) {
    return a;
  }
  var r = parseInt(a % b);
  return gcd(b, r);
}

console.log(hasGroupsSizeX([1, 2, 3, 4, 4, 3, 2, 1]));
console.log(hasGroupsSizeX([1, 1, 1, 2, 2, 2, 3, 3]));
console.log(hasGroupsSizeX([1]));
console.log(hasGroupsSizeX([1, 1]));
console.log(hasGroupsSizeX([1, 1, 2, 2, 2, 2]));
console.log(hasGroupsSizeX([1, 1, 1, 1, 2, 2, 2, 2, 2, 2]));
```

### [917].ä»…ä»…åè½¬å­—æ¯

```js
/*
 * @lc app=leetcode.cn id=917 lang=javascript
 *
 * [917] ä»…ä»…åè½¬å­—æ¯
 *
 * ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸² Sï¼Œè¿”å› â€œåè½¬åçš„â€ å­—ç¬¦ä¸²ï¼Œå…¶ä¸­ä¸æ˜¯å­—æ¯çš„å­—ç¬¦éƒ½ä¿ç•™åœ¨åŸåœ°ï¼Œè€Œæ‰€æœ‰å­—æ¯çš„ä½ç½®å‘ç”Ÿåè½¬ã€‚



ç¤ºä¾‹ 1ï¼š

è¾“å…¥ï¼š"ab-cd"
è¾“å‡ºï¼š"dc-ba"
ç¤ºä¾‹ 2ï¼š

è¾“å…¥ï¼š"a-bC-dEf-ghIj"
è¾“å‡ºï¼š"j-Ih-gfE-dCba"
ç¤ºä¾‹ 3ï¼š

è¾“å…¥ï¼š"Test1ng-Leet=code-Q!"
è¾“å‡ºï¼š"Qedo1ct-eeLg=ntse-T!"


æç¤ºï¼š

S.length <= 100
33 <= S[i].ASCIIcode <= 122
S ä¸­ä¸åŒ…å« \ or "
 */
/**
 * @param {string} S
 * @return {string}
 */
var reverseOnlyLetters = function(S) {
  S = S.split('');
  let left = 0,
    right = S.length - 1,
    temp;
  const reg = /[a-zA-Z]/;
  while (left < right) {
    while (!reg.test(S[left])) left++;
    while (!reg.test(S[right])) right--;
    if (left < right) {
      [S[left], S[right]] = [S[right], S[left]];
      left++;
      right--;
    }
  }
  return S.join('');
};

// console.log(reverseOnlyLetters('ab-cd'))
// console.log(reverseOnlyLetters('ab'))
console.log(reverseOnlyLetters('a-bC-dEf-ghIj'));
// console.log(reverseOnlyLetters('Test1ng-Leet=code-Q!'))
// console.log(reverseOnlyLetters(''))
```

### [922].æŒ‰å¥‡å¶æ’åºæ•°ç»„-ii

```js
/*
 * @lc app=leetcode.cn id=922 lang=javascript
 *
 * [922] æŒ‰å¥‡å¶æ’åºæ•°ç»„ II
 */
/**
 * @param {number[]} A
 * @return {number[]}
 */
var sortArrayByParityII = function(nums) {
  // å¥½åƒä¸å…³æ’åºçš„äº‹æƒ…ã€‚ã€‚ã€‚ã€‚
  const result = [];
  let even = 0,
    odd = 1;
  for (let i = 0; i < nums.length; i++) {
    if (nums[i] % 2 === 0) {
      result[even] = nums[i];
      even += 2;
    } else {
      result[odd] = nums[i];
      odd += 2;
    }
  }
  return result;
};

console.log(sortArrayByParityII([4, 2, 5, 7]));
```

### [958].check-completeness-of-a-binary-tree

```js
/*
 * @lc app=leetcode id=958 lang=javascript
 *
 * [958] Check Completeness of a Binary Tree
 */
/**
 * Definition for a binary tree node.
 * function TreeNode(val) {
 *     this.val = val;
 *     this.left = this.right = null;
 * }
 */
/**
 * @param {TreeNode} root
 * @return {boolean}
 */
var isCompleteTree = function(root) {
  if (root === null) return root;
  let cur = root;
  const queue = [];

  while (cur !== null) {
    queue.push(cur.left);
    queue.push(cur.right);
    cur = queue.shift();
  }

  return queue.filter(Boolean).length === 0;
};
```

### [977].æœ‰åºæ•°ç»„çš„å¹³æ–¹

```js
/*
 * @lc app=leetcode.cn id=977 lang=javascript
 *
 * [977] æœ‰åºæ•°ç»„çš„å¹³æ–¹
 */
/**
 * @param {number[]} A
 * @return {number[]}
 */

// ä½¿ç”¨åŒæŒ‡é’ˆï¼Œä¸€ä¸ªç”¨æ¥ç§»åŠ¨è´Ÿæ•°ï¼Œ ä¸€ä¸ªç”¨æ¥ç§»åŠ¨æ­£æ•°
var sortedSquares = function(A) {
  let i = 0;
  while (i < A.length && A[i] < 0) {
    i++;
  }
  let j = i--,
    resp = [];
  while (i >= 0 && j < A.length) {
    if (Math.abs(A[i]) < Math.abs(A[j])) {
      resp.push(A[i] * A[i]);
      i--;
    } else {
      resp.push(A[j] * A[j]);
      j++;
    }
  }
  while (i >= 0) {
    resp.push(A[i] * A[i]);
    i--;
  }
  while (j < A.length) {
    resp.push(A[j] * A[j]);
    j++;
  }
  return resp;
};

// console.log(sortedSquares([-4, -1, 0, 3, 10]))
// console.log(sortedSquares([-1
```

### [912].

```js
// [912]. Sort an Array

// Given an array of integers nums, sort the array in ascending order.

// Example 1:

// Input: [5,2,3,1]
// Output: [1,2,3,5]
// Example 2:

// Input: [5,1,1,2,0,0]
// Output: [0,0,1,1,2,5]

// Note:

// 1 <= A.length <= 10000
// -50000 <= A[i] <= 50000

const merge = (left, right) => {
  const merged = [];
  let leftI = 0;
  let rightI = 0;

  while (merged.length < left.length + right.length) {
    if (leftI === left.length) {
      merged.push(right[rightI]);
      rightI++;
    } else if (rightI === right.length) {
      merged.push(left[leftI]);
      leftI++;
    } else if (left[leftI] < right[rightI]) {
      merged.push(left[leftI]);
      leftI++;
    } else {
      merged.push(right[rightI]);
      rightI++;
    }
  }

  return merged;
};

const mergeSort = arr => {
  // console.log(arr)
  if (arr.length <= 1) return arr;
  const mid = Math.floor(arr.length / 2);
  const left = mergeSort(arr.slice(0, mid));
  const right = mergeSort(arr.slice(mid));

  return merge(left, right);
};

/**
 * @param {number[]} nums
 * @return {number[]}
 */
export default function sortArray(nums) {
  return mergeSort(nums);
}
```

### [961].é‡å¤äº† N æ¬¡çš„å…ƒç´ 

```js
var repeatedNTimes = function(A) {
  let mySet = new Set();
  for (let i = 0; i <= A.length / 2 + 1; i++) {
    if (mySet.has(A[i])) {
      return A[i];
    }
    mySet.add(A[i]);
  }
};
```

### [987].

```js
/**
 * Definition for a binary tree node.
 * function TreeNode(val) {
 *     this.val = val;
 *     this.left = this.right = null;
 * }
 */

const verticalTraversalAux = (root, map, mat) => {
  if (!root) return;
  const queue = [];
  queue.push([root, 0]);
  while (queue.length) {
    const [node, x] = queue.shift();
    if (map.has(x)) {
      const a = map.get(x);
      a.push(node.val);
    } else {
      map.set(x, [node.val]);
    }
    if (node.left) queue.push([node.left, x - 1]);
    if (node.right) queue.push([node.right, x + 1]);
  }
};

/**
 * @param {TreeNode} root
 * @return {number[][]}
 */
const verticalTraversal = function(root) {
  const map = new Map();
  const mat = new Array().fill(new Array());
  verticalTraversalAux(root, map, mat);
  const keys = Array.from(map.keys()).sort((a, b) => a - b);
  const res = [];
  for (const key of keys) {
    res.push(map.get(key));
  }
  return res;
};
```

### [875].koko-eating-bananas

```
Koko loves to eat bananas.  There are N piles of bananas, the i-th pile has piles[i] bananas.  The guards have gone and will come back in H hours.

Koko can decide her bananas-per-hour eating speed of K.  Each hour, she chooses some pile of bananas, and eats K bananas from that pile.  If the pile has less than K bananas, she eats all of them instead, and won't eat any more bananas during this hour.

Koko likes to eat slowly, but still wants to finish eating all the bananas before the guards come back.

Return the minimum integer K such that she can eat all the bananas within H hours.



Example 1:

Input: piles = [3,6,7,11], H = 8
Output: 4
Example 2:

Input: piles = [30,11,23,4,20], H = 5
Output: 30
Example 3:

Input: piles = [30,11,23,4,20], H = 6
Output: 23


Note:

1 <= piles.length <= 10^4
piles.length <= H <= 10^9
1 <= piles[i] <= 10^9

```

#### æ€è·¯

ç¬¦åˆç›´è§‰çš„åšæ³•æ˜¯ï¼Œé€‰æ‹©æœ€å¤§çš„å †çš„é¦™è•‰æ•°ï¼Œç„¶åè¯•ä¸€ä¸‹èƒ½ä¸èƒ½è¡Œï¼Œå¦‚æœä¸è¡Œåˆ™ç›´æ¥è¿”å›ä¸Šæ¬¡è®¡ç®—çš„ç»“æœï¼Œ
å¦‚æœè¡Œï¼Œæˆ‘ä»¬å‡å°‘ 1 ä¸ªé¦™è•‰ï¼Œè¯•è¯•è¡Œä¸è¡Œï¼Œä¾æ¬¡ç±»æ¨ã€‚è®¡ç®—å‡ºåˆšå¥½ä¸è¡Œçš„å³å¯ã€‚è¿™ç§è§£æ³•çš„æ—¶é—´å¤æ‚åº¦æ˜¯ O(n)ã€‚

è¿™é“é¢˜å¦‚æœèƒ½çœ‹å‡ºæ¥æ˜¯äºŒåˆ†æ³•è§£å†³ï¼Œé‚£ä¹ˆå…¶å®å¾ˆç®€å•ã€‚ä¸ºä»€ä¹ˆå®ƒæ˜¯äºŒåˆ†é—®é¢˜å‘¢ï¼Ÿ
æˆ‘è¿™é‡Œç”»äº†ä¸ªå›¾ï¼Œæˆ‘ç›¸ä¿¡ä½ çœ‹äº†å°±æ˜ç™½äº†ã€‚

#### å…³é”®ç‚¹è§£æ

- äºŒåˆ†æŸ¥æ‰¾

#### ä»£ç 

```js
/*
 * @lc app=leetcode id=875 lang=javascript
 *
 * [875] Koko Eating Bananas
 *
 * https://leetcode.com/problems/koko-eating-bananas/description/
 *
 * algorithms
 * Medium (44.51%)
 * Total Accepted:    11.3K
 * Total Submissions: 24.8K
 * Testcase Example:  '[3,6,7,11]\n8'
 *
 * Koko loves to eat bananas.Â  There are NÂ piles of bananas, the i-thÂ pile has
 * piles[i] bananas.Â  The guards have gone and will come back in H hours.
 *
 * Koko can decide her bananas-per-hour eating speed of K.Â  Each hour, she
 * chooses some pile of bananas, and eats K bananas from that pile.Â  If the
 * pile has less than K bananas, she eats all of them instead, and won't eat
 * any more bananas during this hour.
 *
 * Koko likes to eat slowly, but still wants to finish eating all the bananas
 * before the guards come back.
 *
 * Return the minimum integer K such that she can eat all the bananas within H
 * hours.
 *
 *
 *
 *
 *
 *
 *
 * Example 1:
 *
 *
 * Input: piles = [3,6,7,11], H = 8
 * Output: 4
 *
 *
 *
 * Example 2:
 *
 *
 * Input: piles = [30,11,23,4,20], H = 5
 * Output: 30
 *
 *
 *
 * Example 3:
 *
 *
 * Input: piles = [30,11,23,4,20], H = 6
 * Output: 23
 *
 *
 *
 *
 * Note:
 *
 *
 * 1 <= piles.length <= 10^4
 * piles.length <= H <= 10^9
 * 1 <= piles[i] <= 10^9
 *
 *
 *
 *
 *
 */

function canEatAllBananas(piles, H, mid) {
  let h = 0;
  for (let pile of piles) {
    h += Math.ceil(pile / mid);
  }

  return h <= H;
}
/**
 * @param {number[]} piles
 * @param {number} H
 * @return {number}
 */
var minEatingSpeed = function(piles, H) {
  let lo = 1,
    hi = Math.max(...piles);

  while (lo <= hi) {
    let mid = lo + ((hi - lo) >> 1);
    if (canEatAllBananas(piles, H, mid)) {
      hi = mid - 1;
    } else {
      lo = mid + 1;
    }
  }

  return lo; //  ä¸èƒ½é€‰æ‹©hi
};
```

### [877].stone-game

```
Alex and Lee play a game with piles of stones.  There are an even number of piles arranged in a row, and each pile has a positive integer number of stones piles[i].

The objective of the game is to end with the most stones.  The total number of stones is odd, so there are no ties.

Alex and Lee take turns, with Alex starting first.  Each turn, a player takes the entire pile of stones from either the beginning or the end of the row.  This continues until there are no more piles left, at which point the person with the most stones wins.

Assuming Alex and Lee play optimally, return True if and only if Alex wins the game.



Example 1:

Input: [5,3,4,5]
Output: true
Explanation:
Alex starts first, and can only take the first 5 or the last 5.
Say he takes the first 5, so that the row becomes [3, 4, 5].
If Lee takes 3, then the board is [4, 5], and Alex takes 5 to win with 10 points.
If Lee takes the last 5, then the board is [3, 4], and Alex takes 4 to win with 9 points.
This demonstrated that taking the first 5 was a winning move for Alex, so we return true.


Note:

2 <= piles.length <= 500
piles.length is even.
1 <= piles[i] <= 500
sum(piles) is odd.

```

#### æ€è·¯

ç”±äº piles æ˜¯å¶æ•°çš„ï¼Œå¹¶ä¸” piles çš„æ€»å’Œæ˜¯å¥‡æ•°çš„ã€‚

å› æ­¤ Alex`å¯ä»¥åšåˆ°`è¦ä¸æ‹¿çš„å…¨éƒ¨æ˜¯å¥‡æ•°ï¼Œè¦ä¹ˆå…¨éƒ¨æ˜¯å¶æ•°ã€‚

ä¸¾ä¸ªä¾‹å­ï¼š æ¯”å¦‚ Alex ç¬¬ä¸€æ¬¡å…ˆæ‹¿ç¬¬ä¸€ä¸ª

è¿™é‡Œæœ‰ä¸¤ç§æƒ…å†µï¼š

1. Lee å¦‚æœæ‹¿äº†ç¬¬äºŒå—(å¶æ•°)ï¼Œé‚£ä¹ˆ Alex ç»§ç»­æ‹¿ç¬¬ä¸‰å—ï¼Œä»¥æ­¤ç±»æ¨ã€‚ã€‚ã€‚

2. Lee å¦‚æœæ‹¿äº†æœ€åä¸€å—(å¶æ•°)ï¼Œé‚£ä¹ˆ Alex ç»§ç»­æ‹¿å€’æ•°ç¬¬äºŒå—ï¼Œä»¥æ­¤ç±»æ¨ã€‚ã€‚ã€‚

å› æ­¤ Alex`å¯ä»¥`åšåˆ°åªæ‹¿å¥‡æ•°æˆ–è€…å¶æ•°ï¼Œåªæ˜¯ä»–å¯ä»¥æ§åˆ¶çš„ï¼Œå› æ­¤ä»–è¦åšçš„å°±æ˜¯æ•°ä¸€ä¸‹ï¼Œå¥‡æ•°åŠ èµ·æ¥å¤šè¿˜æ˜¯å¶æ•°åŠ èµ·æ¥å¤šå°±å¥½äº†ã€‚
å¥‡æ•°å¤šå°±å…¨éƒ¨é€‰å¥‡æ•°ï¼Œå¶æ•°å°±å…¨éƒ¨é€‰å¶æ•°ã€‚ Lee æ˜¯æ²¡æœ‰è¿™ç§è‡ªç”±æƒçš„ã€‚

#### å…³é”®ç‚¹è§£æ

- å¯ä»¥ç”¨ DP(åŠ¨æ€è§„åˆ’)

- å¯ä»¥ä»æ•°å­¦çš„è§’åº¦å»åˆ†æ

> ......(ğŸ˜…)

#### ä»£ç 

```js
/*
 * @lc app=leetcode id=877 lang=javascript
 *
 * [877] Stone Game
 *
 * https://leetcode.com/problems/stone-game/description/
 *
 * algorithms
 * Medium (60.46%)
 * Total Accepted:    21.4K
 * Total Submissions: 35.3K
 * Testcase Example:  '[5,3,4,5]'
 *
 * Alex and Lee play a game with piles of stones.Â  There are an even number of
 * piles arranged in a row, and each pile has a positive integer number of
 * stones piles[i].
 *
 * The objective of the game is to end with the mostÂ stones.Â  The total number
 * of stones is odd, so there are no ties.
 *
 * Alex and Lee take turns, with Alex starting first.Â  Each turn, a player
 * takes the entire pile of stones from either the beginning or the end of the
 * row.Â  This continues until there are no more piles left, at which point the
 * person with the most stones wins.
 *
 * Assuming Alex and Lee play optimally, return TrueÂ if and only if Alex wins
 * the game.
 *
 *
 *
 * Example 1:
 *
 *
 * Input: [5,3,4,5]
 * Output: true
 * Explanation:
 * Alex starts first, and can only take the first 5 or the last 5.
 * Say he takes the first 5, so that the row becomes [3, 4, 5].
 * If Lee takes 3, then the board is [4, 5], and Alex takes 5 to win with 10
 * points.
 * If Lee takes the last 5, then the board is [3, 4], and Alex takes 4 to win
 * with 9 points.
 * This demonstrated that taking the first 5 was a winning move for Alex, so we
 * return true.
 *
 *
 *
 *
 * Note:
 *
 *
 * 2 <= piles.length <= 500
 * piles.length is even.
 * 1 <= piles[i] <= 500
 * sum(piles) is odd.
 *
 *
 *
 */
/**
 * @param {number[]} piles
 * @return {boolean}
 */
var stoneGame = function(piles) {
  return true;
};
```

#### æ‰©å±•

è…¾è®¯é¢è¯•é¢˜ï¼šä¸€å…± 100 åªå¼“ç®­ ä½ å’Œä½ çš„å¯¹æ‰‹å…±ç”¨ã€‚ä½ ä»¬æ¯æ¬¡åªèƒ½å°„å‡ºä¸€æ”¯ç®­æˆ–è€…ä¸¤æ”¯ç®­ï¼Œå°„å‡»äº¤æ›¿è¿›è¡Œï¼Œè®¾è®¡ä¸€ä¸ªç®—æ³•ï¼Œä¿è¯è‡ªå·±è·èƒœã€‚

ç­”æ¡ˆï¼š å…ˆæ‰‹ï¼Œå‰©ä¸‹çš„æ˜¯ 3 çš„å€æ•°å°±è¡Œ(100-1=99)ï¼Œç„¶åæŒ‰ç…§ 3 çš„å€æ•°å°„ç®­å¿…èµ¢ã€‚
æ¯”å¦‚ä½ å…ˆæ‹¿äº† 1ï¼Œå‰©ä¸‹ 99 ä¸ªã€‚ å¯¹æ‰‹æ‹¿äº† 1ï¼Œä½ å°±æ‹¿ 2ã€‚è¿™æ ·æŒç»­ 33 æ¬¡å°±èµ¢äº†ã€‚å¦‚æœå¯¹æ‰‹æ‹¿äº† 2 ä¸ªï¼Œä½ å°±æ‹¿ 1 ä¸ªï¼Œè¿™æ ·æŒç»­ 33 æ¬¡ä½ ä¹Ÿæ˜¯èµ¢çš„ã€‚

> è¿™æ˜¯ä¸€ç§å…¸å‹çš„åšå¼ˆé—®é¢˜ï¼Œ ä½ å’Œå¯¹æ‰‹äº¤æ›¿è¿›è¡Œï¼Œå¯¹æ‰‹çš„è¡ŒåŠ¨å½±å“ä½ æ¥ä¸‹æ¥çš„ç­–ç•¥ã€‚ è¿™ç®—æ˜¯ä¸€ç§æœ€ç®€å•çš„åšå¼ˆé—®é¢˜äº†

### [887].super-egg-drop

```
You are given K eggs, and you have access to a building with N floors from 1 to N.

Each egg is identical in function, and if an egg breaks, you cannot drop it again.

You know that there exists a floor F with 0 <= F <= N such that any egg dropped at a floor higher than F will break, and any egg dropped at or below floor F will not break.

Each move, you may take an egg (if you have an unbroken one) and drop it from any floor X (with 1 <= X <= N).

Your goal is to know with certainty what the value of F is.

What is the minimum number of moves that you need to know with certainty what F is, regardless of the initial value of F?



Example 1:

Input: K = 1, N = 2
Output: 2
Explanation:
Drop the egg from floor 1.  If it breaks, we know with certainty that F = 0.
Otherwise, drop the egg from floor 2.  If it breaks, we know with certainty that F = 1.
If it didn't break, then we know with certainty F = 2.
Hence, we needed 2 moves in the worst case to know what F is with certainty.
Example 2:

Input: K = 2, N = 6
Output: 3
Example 3:

Input: K = 3, N = 14
Output: 4


Note:

1 <= K <= 100
1 <= N <= 10000


```

#### æ€è·¯

è¿™æ˜¯ä¸€é“å…¸å‹çš„åŠ¨æ€è§„åˆ’é¢˜ç›®ï¼Œä½†æ˜¯åˆå’Œä¸€èˆ¬çš„åŠ¨æ€è§„åˆ’ä¸ä¸€æ ·ã€‚

æ‹¿é¢˜ç›®ç»™çš„ä¾‹å­ä¸ºä¾‹ï¼Œä¸¤ä¸ªé¸¡è›‹ï¼Œå…­å±‚æ¥¼ï¼Œæˆ‘ä»¬æœ€å°‘æ‰”å‡ æ¬¡ï¼Ÿ

ä¸€ä¸ªç¬¦åˆç›´è§‰çš„åšæ³•æ˜¯ï¼Œå»ºç«‹ dp[i][j], ä»£è¡¨ i ä¸ªé¸¡è›‹ï¼Œj å±‚æ¥¼æœ€å°‘æ‰”å‡ æ¬¡ï¼Œç„¶åæˆ‘ä»¬å– dp[K][n]å³å¯ã€‚

ä»£ç å¤§æ¦‚è¿™æ ·çš„ï¼š

```js
const dp = Array(K + 1);
dp[0] = Array(N + 1).fill(0);
for (let i = 1; i < K + 1; i++) {
  dp[i] = [0];
  for (let j = 1; j < N + 1; j++) {
    // åªæœ‰ä¸€ä¸ªé¸¡è›‹
    if (i === 1) {
      dp[i][j] = j;
      continue;
    }
    // åªæœ‰ä¸€å±‚æ¥¼
    if (j === 1) {
      dp[i][j] = 1;
      continue;
    }

    // æ¯ä¸€å±‚æˆ‘ä»¬éƒ½æ¨¡æ‹Ÿä¸€é
    const all = [];
    for (let k = 1; k < j + 1; k++) {
      const brokenCount = dp[i - 1][k - 1]; // å¦‚æœç¢äº†
      const notBrokenCount = dp[i][j - k]; // å¦‚æœæ²¡ç¢
      all.push(Math.max(brokenCount, notBrokenCount)); // æœ€åçš„å¯èƒ½
    }
    dp[i][j] = Math.min(...all) + 1; // æœ€åçš„é›†åˆä¸­æˆ‘ä»¬å–æœ€å¥½çš„æƒ…å†µ
  }
}

return dp[K][N];
```

æœä¸å…¶ç„¶ï¼Œå½“æˆ‘æäº¤çš„æ—¶å€™ï¼Œè¶…æ—¶äº†ã€‚ è¿™ä¸ªçš„æ—¶å¤æ‚åº¦æ˜¯å¾ˆé«˜çš„ï¼Œå¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬å†…å±‚æš´åŠ›çš„æ±‚è§£æ‰€æœ‰å¯èƒ½ï¼Œç„¶å
å–æœ€å¥½çš„ï¼Œè¿™ä¸ªè¿‡ç¨‹éå¸¸è€—æ—¶ï¼Œå¤§æ¦‚æ˜¯ O(N^2 \* K).

ç„¶åæˆ‘çœ‹äº†ä¸€ä½ leetcode[ç½‘å‹](https://leetcode.com/lee215/)çš„å›ç­”,
ä»–çš„æƒ³æ³•æ˜¯`dp[M][K]means that, given K eggs and M movesï¼Œwhat is the maximum number of floor that we can check.`

æˆ‘ä»¬æŒ‰ç…§ä»–çš„æ€è·¯é‡æ–°å»ºæ¨¡ï¼š

å¯ä»¥çœ‹åˆ°å³ä¸‹è§’çš„éƒ¨åˆ†æ ¹æœ¬å°±ä¸éœ€è¦è®¡ç®—ï¼Œä»è€ŒèŠ‚çœå¾ˆå¤šæ—¶é—´

#### å…³é”®ç‚¹è§£æ

- dp å»ºæ¨¡æ€è·¯è¦å‘ç”Ÿå˜åŒ–, å³
  `dp[M][K]means that, given K eggs and M movesï¼Œwhat is the maximum number of floor that we can check.`

#### ä»£ç 

```js
/*
 * @lc app=leetcode id=887 lang=javascript
 *
 * [887] Super Egg Drop
 *
 * https://leetcode.com/problems/super-egg-drop/description/
 *
 * algorithms
 * Hard (24.64%)
 * Total Accepted:    6.2K
 * Total Submissions: 24.9K
 * Testcase Example:  '1\n2'
 *
 * You are given K eggs, and you have access to a building with N floors from 1
 * to N.
 *
 * Each egg is identical in function, and if an egg breaks, you cannot drop it
 * again.
 *
 * You know that there exists a floor F with 0 <= F <= N such that any egg
 * dropped at a floor higher than F will break, and any egg dropped at or below
 * floor F will not break.
 *
 * Each move, you may take an egg (if you have an unbroken one) and drop it
 * from any floor X (withÂ 1 <= X <= N).
 *
 * Your goal is to knowÂ with certaintyÂ what the value of F is.
 *
 * What is the minimum number of moves that you need to know with certainty
 * what F is, regardless of the initial value of F?
 *
 *
 *
 *
 *
 *
 *
 * Example 1:
 *
 *
 * Input: K = 1, N = 2
 * Output: 2
 * Explanation:
 * Drop the egg from floor 1.  If it breaks, we know with certainty that F = 0.
 * Otherwise, drop the egg from floor 2.  If it breaks, we know with certainty
 * that F = 1.
 * If it didn't break, then we know with certainty F = 2.
 * Hence, we needed 2 moves in the worst case to know what F is with
 * certainty.
 *
 *
 *
 * Example 2:
 *
 *
 * Input: K = 2, N = 6
 * Output: 3
 *
 *
 *
 * Example 3:
 *
 *
 * Input: K = 3, N = 14
 * Output: 4
 *
 *
 *
 *
 * Note:
 *
 *
 * 1 <= K <= 100
 * 1 <= N <= 10000
 *
 *
 *
 *
 *
 */
/**
 * @param {number} K
 * @param {number} N
 * @return {number}
 */
var superEggDrop = function(K, N) {
  // ä¸é€‰æ‹©dp[K][M]çš„åŸå› æ˜¯dp[M][K]å¯ä»¥ç®€åŒ–æ“ä½œ
  const dp = Array(N + 1)
    .fill(0)
    .map(_ => Array(K + 1).fill(0));

  let m = 0;
  while (dp[m][K] < N) {
    m++;
    for (let k = 1; k <= K; ++k) dp[m][k] = dp[m - 1][k - 1] + 1 + dp[m - 1][k];
  }
  console.log(dp);
  return m;
};
```

### [900].rle-iterator

```
Write an iterator that iterates through a run-length encoded sequence.

The iterator is initialized by RLEIterator(int[] A), where A is a run-length encoding of some sequence.  More specifically, for all even i, A[i] tells us the number of times that the non-negative integer value A[i+1] is repeated in the sequence.

The iterator supports one function: next(int n), which exhausts the next n elements (n >= 1) and returns the last element exhausted in this way.  If there is no element left to exhaust, next returns -1 instead.

For example, we start with A = [3,8,0,9,2,5], which is a run-length encoding of the sequence [8,8,8,5,5].  This is because the sequence can be read as "three eights, zero nines, two fives".



Example 1:

Input: ["RLEIterator","next","next","next","next"], [[[3,8,0,9,2,5]],[2],[1],[1],[2]]
Output: [null,8,8,5,-1]
Explanation:
RLEIterator is initialized with RLEIterator([3,8,0,9,2,5]).
This maps to the sequence [8,8,8,5,5].
RLEIterator.next is then called 4 times:

.next(2) exhausts 2 terms of the sequence, returning 8.  The remaining sequence is now [8, 5, 5].

.next(1) exhausts 1 term of the sequence, returning 8.  The remaining sequence is now [5, 5].

.next(1) exhausts 1 term of the sequence, returning 5.  The remaining sequence is now [5].

.next(2) exhausts 2 terms, returning -1.  This is because the first term exhausted was 5,
but the second term did not exist.  Since the last term exhausted does not exist, we return -1.

Note:

0 <= A.length <= 1000
A.length is an even integer.
0 <= A[i] <= 10^9
There are at most 1000 calls to RLEIterator.next(int n) per test case.
Each call to RLEIterator.next(int n) will have 1 <= n <= 10^9.

```

#### æ€è·¯

è¿™æ˜¯ä¸€ä¸ªæ¸¸ç¨‹ç¼–ç çš„å…¸å‹é¢˜ç›®ã€‚

è¯¥ç®—æ³•åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ï¼Œä¸€ä¸ªæ˜¯åˆå§‹åŒ–ï¼Œä¸€ä¸ªæ˜¯è°ƒç”¨`next(n)`.

æˆ‘ä»¬éœ€è¦åšçš„å°±æ˜¯åˆå§‹åŒ–çš„æ—¶å€™ï¼Œè®°ä½è¿™ä¸ª Aã€‚ ç„¶åæ¯æ¬¡è°ƒç”¨`next(n)`çš„æ—¶å€™åªéœ€è¦

åˆ¤æ–­ n æ˜¯å¦å¤§äº A[i](iä»0å¼€å§‹)

- å¦‚æœå¤§äº A[i], é‚£å°±è¯´æ˜ä¸å¤Ÿï¼Œæˆ‘ä»¬ç§»é™¤æ•°ç»„å‰ä¸¤é¡¹ï¼Œæ›´æ–° nï¼Œé‡å¤ 1

- å¦‚æœå°äº A[i], åˆ™è¯´æ˜å¤Ÿäº†ï¼Œæ›´æ–° A[i]

è¿™æ ·åšï¼Œæˆ‘ä»¬æ¯æ¬¡éƒ½è¦æ›´æ–° Aï¼Œè¿˜æœ‰ä¸€ç§åšæ³•å°±æ˜¯ä¸æ›´æ–° Aï¼Œè€Œæ˜¯`ä¼ªæ›´æ–°`ï¼Œå³ç”¨ä¸€ä¸ªå˜é‡è®°å½•ï¼Œå½“å‰è®¿é—®åˆ°çš„æ•°ç»„ä½ç½®ã€‚

> å¾ˆå¤šæ—¶å€™æˆ‘ä»¬éœ€è¦åŸå§‹çš„ï¼Œé‚£ä¹ˆå°±å¿…é¡»è¿™ç§æ”¾äº†ï¼Œæˆ‘çš„è§£æ³•å°±æ˜¯è¿™ç§æ–¹æ³•ã€‚

#### å…³é”®ç‚¹è§£æ

#### ä»£ç 

```js
/*
 * @lc app=leetcode id=900 lang=javascript
 *
 * [900] RLE Iterator
 *
 * https://leetcode.com/problems/rle-iterator/description/
 *
 * algorithms
 * Medium (49.03%)
 * Total Accepted:    11.6K
 * Total Submissions: 23.5K
 * Testcase Example:  '["RLEIterator","next","next","next","next"]\n[[[3,8,0,9,2,5]],[2],[1],[1],[2]]'
 *
 * Write an iterator that iterates through a run-length encoded sequence.
 *
 * The iterator is initialized by RLEIterator(int[] A), where A is a run-length
 * encoding of someÂ sequence.Â  More specifically,Â for all even i,Â A[i] tells us
 * the number of times that the non-negative integer value A[i+1] is repeated
 * in the sequence.
 *
 * The iterator supports one function:Â next(int n), which exhausts the next n
 * elementsÂ (n >= 1) and returns the last element exhausted in this way.Â  If
 * there is no element left to exhaust, nextÂ returns -1 instead.
 *
 * For example, we start with A = [3,8,0,9,2,5], which is a run-length encoding
 * of the sequence [8,8,8,5,5].Â  This is because the sequence can be read as
 * "three eights, zero nines, two fives".
 *
 *
 *
 * Example 1:
 *
 *
 * Input: ["RLEIterator","next","next","next","next"],
 * [[[3,8,0,9,2,5]],[2],[1],[1],[2]]
 * Output: [null,8,8,5,-1]
 * Explanation:
 * RLEIterator is initialized with RLEIterator([3,8,0,9,2,5]).
 * This maps to the sequence [8,8,8,5,5].
 * RLEIterator.next is then called 4 times:
 *
 * .next(2) exhausts 2 terms of the sequence, returning 8.  The remaining
 * sequence is now [8, 5, 5].
 *
 * .next(1) exhausts 1 term of the sequence, returning 8.  The remaining
 * sequence is now [5, 5].
 *
 * .next(1) exhausts 1 term of the sequence, returning 5.  The remaining
 * sequence is now [5].
 *
 * .next(2) exhausts 2 terms, returning -1.  This is because the first term
 * exhausted was 5,
 * but the second term did not exist.  Since the last term exhausted does not
 * exist, we return -1.
 *
 *
 *
 * Note:
 *
 *
 * 0 <= A.length <= 1000
 * A.lengthÂ is an even integer.
 * 0 <= A[i] <= 10^9
 * There are at most 1000 calls to RLEIterator.next(int n) per test case.
 * Each call toÂ RLEIterator.next(int n)Â will have 1 <= n <= 10^9.
 *
 *
 */
/**
 * @param {number[]} A
 */
var RLEIterator = function(A) {
  this.A = A;
  this.current = 0;
};

/**
 * @param {number} n
 * @return {number}
 */
RLEIterator.prototype.next = function(n) {
  const A = this.A;
  while (this.current < A.length && A[this.current] < n) {
    n = n - A[this.current];
    this.current += 2;
  }

  if (this.current >= A.length) {
    return -1;
  }

  A[this.current] = A[this.current] - n; // æ›´æ–°Count
  return A[this.current + 1]; // è¿”å›element
};

/**
 * Your RLEIterator object will be instantiated and called as such:
 * var obj = new RLEIterator(A)
 * var param_1 = obj.next(n)
 */
```

### [950].reveal-cards-in-increasing-order

```js
/*
 * @lc app=leetcode id=950 lang=javascript
 *
 * [950] Reveal Cards In Increasing Order
 */
/**
 * @param {number[]} deck
 * @return {number[]}
 */
var deckRevealedIncreasing = function(deck) {
  const hand = [];
  const table = deck.sort((a, b) => a - b);

  let handTurn = true;
  while (table.length > 0) {
    if (handTurn) {
      hand.unshift(table.pop());
    } else {
      hand.unshift(hand.pop());
    }
    handTurn = !handTurn;
  }
  return hand;
};
```

### [1031].maximum-sum-of-two-non-overlapping-subarrays

```
Given an array A of non-negative integers, return the maximum sum of elements in two non-overlapping (contiguous) subarrays, which have lengths L and M.  (For clarification, the L-length subarray could occur before or after the M-length subarray.)

Formally, return the largest V for which V = (A[i] + A[i+1] + ... + A[i+L-1]) + (A[j] + A[j+1] + ... + A[j+M-1]) and either:

0 <= i < i + L - 1 < j < j + M - 1 < A.length, or
0 <= j < j + M - 1 < i < i + L - 1 < A.length.


Example 1:

Input: A = [0,6,5,2,2,5,1,9,4], L = 1, M = 2
Output: 20
Explanation: One choice of subarrays is [9] with length 1, and [6,5] with length 2.
Example 2:

Input: A = [3,8,1,3,2,1,8,9,0], L = 3, M = 2
Output: 29
Explanation: One choice of subarrays is [3,8,1] with length 3, and [8,9] with length 2.
Example 3:

Input: A = [2,1,5,6,0,9,5,0,3,8], L = 4, M = 3
Output: 31
Explanation: One choice of subarrays is [5,6,0,9] with length 4, and [3,8] with length 3.


Note:

L >= 1
M >= 1
L + M <= A.length <= 1000
0 <= A[i] <= 1000
```

#### æ€è·¯(åŠ¨æ€è§„åˆ’)

é¢˜ç›®ä¸­è¦æ±‚åœ¨å‰ N(æ•°ç»„é•¿åº¦)ä¸ªæ•°ä¸­æ‰¾å‡ºé•¿åº¦åˆ†åˆ«ä¸º L å’Œ M çš„éé‡å å­æ•°ç»„ä¹‹å’Œçš„æœ€å¤§å€¼, å› æ­¤, æˆ‘ä»¬å¯ä»¥å®šä¹‰æ•°ç»„ A ä¸­å‰ i ä¸ªæ•°å¯æ„æˆçš„éé‡å å­æ•°ç»„ L å’Œ M çš„æœ€å¤§å€¼ä¸º SUMM[i], å¹¶æ‰¾åˆ° SUMM[i]å’Œ SUMM[i-1]çš„å…³ç³», é‚£ä¹ˆæœ€ç»ˆè§£å°±æ˜¯ SUMM[N]. ä»¥ä¸‹ä¸ºå›¾è§£:

#### å…³é”®ç‚¹è§£æ

1. æ³¨æ„å›¾ä¸­æè¿°çš„éƒ½æ˜¯ A[i-1], è€Œä¸æ˜¯ A[i], å› ä¸º base case ä¸ºç©ºæ•°ç»„, è€Œä¸æ˜¯ A[0];
2. æ±‚è§£å›¾ä¸­ ASUM æ•°ç»„çš„æ—¶å€™, æ³¨æ„å®šä¹‰çš„æ˜¯ ASUM[i] = sum(A[0:i]), å› æ­¤å½“ i ç­‰äº 0 æ—¶, A[0:0]ä¸ºç©ºæ•°ç»„, å³: ASUM[0]ä¸º 0, è€Œ ASUM[1]æ‰ç­‰äº A[0];
3. æ±‚è§£å›¾ä¸­ MAXL æ•°ç»„æ—¶, æ³¨æ„ i < L æ—¶, æ²¡æœ‰æ„ä¹‰, å› ä¸ºé•¿åº¦ä¸å¤Ÿ, æ‰€ä»¥ä» i = L æ—¶æ‰å¼€å§‹æ±‚è§£;
4. æ±‚è§£å›¾ä¸­ MAXM æ•°ç»„æ—¶, ä¹Ÿä¸€æ ·, è¦ä» i = M æ—¶æ‰å¼€å§‹æ±‚è§£;
5. æ±‚è§£å›¾ä¸­ SUMM æ•°ç»„æ—¶, å› ä¸ºæˆ‘ä»¬éœ€è¦ä¸€ä¸ª L å­æ•°ç»„å’Œä¸€ä¸ª M å­æ•°ç»„, å› æ­¤é•¿åº¦è¦å¤§äºç­‰äº L+M æ‰æœ‰æ„ä¹‰, æ‰€ä»¥è¦ä» i = L + M æ—¶å¼€å§‹æ±‚è§£.

#### ä»£ç 

- è¯­è¨€æ”¯æŒ: Python

Python Code:

```python
class Solution:
    def maxSumTwoNoOverlap(self, a: List[int], l: int, m: int) -> int:
        """

        define asum[i] as the sum of subarray, a[0:i]
        define maxl[i] as the maximum sum of l-length subarray in a[0:i]
        define maxm[i] as the maximum sum of m-length subarray in a[0:i]
        define msum[i] as the maximum sum of non-overlap l-length subarray and m-length subarray

        case 1: a[i] is both not in l-length subarray and m-length subarray, then msum[i] = msum[i - 1]
        case 2: a[i] is in l-length subarray, then msum[i] = asum[i] - asum[i-l] + maxm[i-l]
        case 3: a[i] is in m-length subarray, then msum[i] = asum[i] - asum[i-m] + maxl[i-m]

        so, msum[i] = max(msum[i - 1], asum[i] - asum[i-l] + maxl[i-l], asum[i] - asum[i-m] + maxm[i-m])
        """

        alen, tlen = len(a), l + m
        asum = [0] * (alen + 1)
        maxl = [0] * (alen + 1)
        maxm = [0] * (alen + 1)
        msum = [0] * (alen + 1)

        for i in range(tlen):
            if i == 1:
                asum[i] = a[i - 1]
            elif i > 1:
                asum[i] = asum[i - 1] + a[i - 1]
            if i >= l:
                maxl[i] = max(maxl[i - 1], asum[i] - asum[i - l])
            if i >= m:
                maxm[i] = max(maxm[i - 1], asum[i] - asum[i - m])

        for i in range(tlen, alen + 1):
            asum[i] = asum[i - 1] + a[i - 1]
            suml = asum[i] - asum[i - l]
            summ = asum[i] - asum[i - m]
            maxl[i] = max(maxl[i - 1], suml)
            maxm[i] = max(maxm[i - 1], summ)
            msum[i] = max(msum[i - 1], suml + maxm[i - l], summ + maxl[i - m])

        return msum[-1]
```

#### æ‰©å±•

1. ä»£ç ä¸­, æ±‚è§£äº† 4 ä¸ªåŠ¨æ€è§„åˆ’æ•°ç»„æ¥æ±‚è§£æœ€ç»ˆå€¼, æœ‰æ²¡æœ‰å¯èƒ½åªç”¨ä¸¤ä¸ªæ•°ç»„æ¥æ±‚è§£è¯¥é¢˜, å¯ä»¥çš„è¯, éœ€è¦ä¿ç•™çš„åˆæ˜¯å“ªä¸¤ä¸ªæ•°ç»„?
2. ä»£ç ä¸­, æ±‚è§£çš„ 4 åŠ¨æ€è§„åˆ’æ•°ç»„çš„é¡ºåºèƒ½å¦æ”¹å˜, å“ªäº›èƒ½æ”¹, å“ªäº›ä¸èƒ½æ”¹?

### [958].check-completeness-of-a-binary-tree

```js
/*
 * @lc app=leetcode id=958 lang=javascript
 *
 * [958] Check Completeness of a Binary Tree
 */
/**
 * Definition for a binary tree node.
 * function TreeNode(val) {
 *     this.val = val;
 *     this.left = this.right = null;
 * }
 */
/**
 * @param {TreeNode} root
 * @return {boolean}
 */
var isCompleteTree = function(root) {
  if (root === null) return root;
  let cur = root;
  const queue = [];

  while (cur !== null) {
    queue.push(cur.left);
    queue.push(cur.right);
    cur = queue.shift();
  }

  return queue.filter(Boolean).length === 0;
};
```

### [1123].æœ€æ·±å¶èŠ‚ç‚¹çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ

#### ä¿¡æ¯å¡ç‰‡

- é¢˜ç›®é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/lowest-common-ancestor-of-deepest-leaves/

* tagï¼š`DFS` `Tree`

ç»™ä½ ä¸€ä¸ªæœ‰æ ¹èŠ‚ç‚¹çš„äºŒå‰æ ‘ï¼Œæ‰¾åˆ°å®ƒæœ€æ·±çš„å¶èŠ‚ç‚¹çš„æœ€è¿‘å…¬å…±ç¥–å…ˆã€‚

å›æƒ³ä¸€ä¸‹ï¼š

- å¶èŠ‚ç‚¹æ˜¯äºŒå‰æ ‘ä¸­æ²¡æœ‰å­èŠ‚ç‚¹çš„èŠ‚ç‚¹
- æ ‘çš„æ ¹èŠ‚ç‚¹çš„æ·±åº¦ä¸º 0ï¼Œå¦‚æœæŸä¸€èŠ‚ç‚¹çš„æ·±åº¦ä¸º dï¼Œé‚£å®ƒçš„å­èŠ‚ç‚¹çš„æ·±åº¦å°±æ˜¯ d+1
- å¦‚æœæˆ‘ä»¬å‡å®š A æ˜¯ä¸€ç»„èŠ‚ç‚¹ S çš„æœ€è¿‘å…¬å…±ç¥–å…ˆï¼Œ`<font color="#c7254e" face="Menlo, Monaco, Consolas, Courier New, monospace">S</font>`ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹éƒ½åœ¨ä»¥ A ä¸ºæ ¹èŠ‚ç‚¹çš„å­æ ‘ä¸­ï¼Œä¸” A çš„æ·±åº¦è¾¾åˆ°æ­¤æ¡ä»¶ä¸‹å¯èƒ½çš„æœ€å¤§å€¼ã€‚

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šroot = [1,2,3]
è¾“å‡ºï¼š[1,2,3]
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šroot = [1,2,3,4]
è¾“å‡ºï¼š[4]
```

**ç¤ºä¾‹ 3ï¼š**

```
è¾“å…¥ï¼šroot = [1,2,3,4,5]
è¾“å‡ºï¼š[2,4,5]
```

æç¤ºï¼š

- ç»™ä½ çš„æ ‘ä¸­å°†æœ‰ 1 åˆ° 1000 ä¸ªèŠ‚ç‚¹ã€‚
- æ ‘ä¸­æ¯ä¸ªèŠ‚ç‚¹çš„å€¼éƒ½åœ¨ 1 åˆ° 1000 ä¹‹é—´ã€‚

#### å‚è€ƒç­”æ¡ˆ

æ·±åº¦ä¼˜å…ˆæœç´¢

> å…ˆæ¥è§£é‡Šä¸€ä¸‹é¢˜ç›®æ„æ€ï¼Œç»™ä½ ä¸€ä¸ªæ ‘æ ¹ï¼Œè¿”å›æœ€æ·±å¶èŠ‚ç‚¹çš„æœ€è¿‘å…¬å…±ç¥–å…ˆï¼Œå­˜åœ¨ä»¥ä¸‹ä¿©ç§æƒ…å†µï¼š

- æœ€æ·±å¶èŠ‚ç‚¹åªæœ‰ä¸€ä¸ªï¼Œé‚£ä¹ˆè¿™ä¸ªå¶èŠ‚ç‚¹æœ¬èº«å°±æ˜¯å®ƒçš„æœ€è¿‘å…¬å…±ç¥–å…ˆ
- æœ€æ·±å¶èŠ‚ç‚¹ä¸æ­¢ä¸€ä¸ªï¼Œé‚£å°±ä¸æ–­æ·±æœæ‰¾åˆ°æœ€å¤§æ·±åº¦ï¼Œç„¶åå›æº¯ï¼Œå‡ºé€’å½’æ ˆæ—¶æœ€åä¸€ä¸ªå·¦å³å­æ ‘ç­‰é«˜çš„èŠ‚ç‚¹å°±æ˜¯è¯¥æ ‘çš„æœ€æ·±èŠ‚ç‚¹çš„æœ€è¿‘ç¥–å…ˆ
  > æ‰€ä»¥ä»£ç æ€è·¯åˆ†ä¿©æ¡è·¯:åªæœ‰ä¸€ä¸ªæœ€æ·±å¶èŠ‚ç‚¹æ‰¾åˆ°å¹¶æ›´æ–°è¿”å›å€¼;å­˜åœ¨å¤šä¸ªæœ€æ·±å¶èŠ‚ç‚¹ï¼Œæ‰¾åˆ°æœ€åä¸€ä¸ªå­èŠ‚ç‚¹ç­‰é«˜çš„èŠ‚ç‚¹æ›´æ–°è¿”å›å€¼ã€‚åè€…çš„å­˜åœ¨å¯ä»¥è¢«è¯æ˜ï¼Œæ‰€ä»¥åè€…å¯ä»¥æ›´æ”¹å‰è€…çš„ç»“æœã€‚

```
class Solution {
private:
    TreeNode *ans;
    int max_deep;
    int DFS(TreeNode *root, int nums){
        //å¶å­èŠ‚ç‚¹
        if(root->left == NULL && root->right == NULL){
            //æ›´æ–°æœ€å¤§æ·±åº¦ï¼Œè®°å½•æœ€å¤§æ·±åº¦çš„å¶èŠ‚ç‚¹
            if(nums>max_deep){
                ans = root;
                max_deep = nums;
            }
            return nums;
        }
        int num_l=0, num_r=0;
        //é€’å½’å·¦å³å­æ ‘
        if(root->left) num_l = DFS(root->left, nums+1);
        if(root->right) num_r = DFS(root->right, nums+1);
        //å­˜å‚¨å¤šä¸ªæœ€æ·±å¶èŠ‚ç‚¹ï¼Œé€’å½’å‡ºæœ€è¿‘å…¬å…±ç¥–å…ˆ
        if(num_l == num_r && num_l>=max_deep){
            ans = root;
            max_deep = num_l;
        }
        //è¿”å›æœ€å¤§æ·±åº¦
        return max(num_l, num_r);
    }
public:
    TreeNode* lcaDeepestLeaves(TreeNode* root) {
        //åˆå§‹åŒ–æ ¹ã€æœ€å¤§æ·±åº¦
        ans = root;
        max_deep = INT_MIN;
        int deep_n = DFS(root, 1);
        return ans;
    }
};
```

### [1011].capacity-to-ship-packages-within-d-days

#### é¢˜ç›®åœ°å€(1011. åœ¨ D å¤©å†…é€è¾¾åŒ…è£¹çš„èƒ½åŠ›)

https://leetcode-cn.com/problems/capacity-to-ship-packages-within-d-days

ä¼ é€å¸¦ä¸Šçš„åŒ…è£¹å¿…é¡»åœ¨ D å¤©å†…ä»ä¸€ä¸ªæ¸¯å£è¿é€åˆ°å¦ä¸€ä¸ªæ¸¯å£ã€‚

ä¼ é€å¸¦ä¸Šçš„ç¬¬ iÂ  ä¸ªåŒ…è£¹çš„é‡é‡ä¸º Â weights[i]ã€‚æ¯ä¸€å¤©ï¼Œæˆ‘ä»¬éƒ½ä¼šæŒ‰ç»™å‡ºé‡é‡çš„é¡ºåºå¾€ä¼ é€å¸¦ä¸Šè£…è½½åŒ…è£¹ã€‚æˆ‘ä»¬è£…è½½çš„é‡é‡ä¸ä¼šè¶…è¿‡èˆ¹çš„æœ€å¤§è¿è½½é‡é‡ã€‚

è¿”å›èƒ½åœ¨ D å¤©å†…å°†ä¼ é€å¸¦ä¸Šçš„æ‰€æœ‰åŒ…è£¹é€è¾¾çš„èˆ¹çš„æœ€ä½è¿è½½èƒ½åŠ›ã€‚

ç¤ºä¾‹ 1ï¼š

è¾“å…¥ï¼šweights = [1,2,3,4,5,6,7,8,9,10], D = 5
è¾“å‡ºï¼š15
è§£é‡Šï¼š
èˆ¹èˆ¶æœ€ä½è½½é‡ 15 å°±èƒ½å¤Ÿåœ¨ 5 å¤©å†…é€è¾¾æ‰€æœ‰åŒ…è£¹ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š
ç¬¬ 1 å¤©ï¼š1, 2, 3, 4, 5
ç¬¬ 2 å¤©ï¼š6, 7
ç¬¬ 3 å¤©ï¼š8
ç¬¬ 4 å¤©ï¼š9
ç¬¬ 5 å¤©ï¼š10

è¯·æ³¨æ„ï¼Œè´§ç‰©å¿…é¡»æŒ‰ç…§ç»™å®šçš„é¡ºåºè£…è¿ï¼Œå› æ­¤ä½¿ç”¨è½½é‡èƒ½åŠ›ä¸º 14 çš„èˆ¹èˆ¶å¹¶å°†åŒ…è£…åˆ†æˆ (2, 3, 4, 5), (1, 6, 7), (8), (9), (10) æ˜¯ä¸å…è®¸çš„ã€‚
ç¤ºä¾‹ 2ï¼š

è¾“å…¥ï¼šweights = [3,2,2,4,1,4], D = 3
è¾“å‡ºï¼š6
è§£é‡Šï¼š
èˆ¹èˆ¶æœ€ä½è½½é‡ 6 å°±èƒ½å¤Ÿåœ¨ 3 å¤©å†…é€è¾¾æ‰€æœ‰åŒ…è£¹ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š
ç¬¬ 1 å¤©ï¼š3, 2
ç¬¬ 2 å¤©ï¼š2, 4
ç¬¬ 3 å¤©ï¼š1, 4
ç¤ºä¾‹ 3ï¼š

è¾“å…¥ï¼šweights = [1,2,3,1,1], D = 4
è¾“å‡ºï¼š3
è§£é‡Šï¼š
ç¬¬ 1 å¤©ï¼š1
ç¬¬ 2 å¤©ï¼š2
ç¬¬ 3 å¤©ï¼š3
ç¬¬ 4 å¤©ï¼š1, 1

æç¤ºï¼š

1 <= D <= weights.length <= 50000
1 <= weights[i] <= 500

#### æ€è·¯

è¿™é“é¢˜å’Œ[çŒ´å­åƒé¦™è•‰](https://github.com/azl397985856/leetcode/blob/master/problems/875.koko-eating-bananas.md) ç®€ç›´ä¸€æ‘¸ä¸€æ ·ï¼Œæ²¡æœ‰çœ‹è¿‡çš„å»ºè®®çœ‹ä¸€ä¸‹é‚£é“é¢˜ã€‚

åƒè¿™ç§é¢˜å¦‚ä½•ä½ èƒ½å‘ç°æœ¬è´¨çš„è€ƒç‚¹ï¼Œé‚£ä¹ˆ AC æ˜¯ç¬é—´çš„äº‹æƒ…ã€‚ è¿™é“é¢˜æœ¬è´¨ä¸Šå°±æ˜¯ä» 1ï¼Œ2ï¼Œ3ï¼Œ4ï¼Œã€‚ã€‚ã€‚total(å…¶ä¸­ toal æ˜¯æ€»çš„è´§ç‰©é‡é‡)çš„æœ‰é™ç¦»æ•£æ•°æ®ä¸­æŸ¥æ‰¾ç»™å®šçš„æ•°ã€‚è¿™é‡Œæˆ‘ä»¬ä¸æ˜¯ç›´æ¥æŸ¥æ‰¾ targetï¼Œè€Œæ˜¯æŸ¥æ‰¾æ°å¥½èƒ½å¤Ÿåœ¨ D å¤©è¿å®Œçš„è½½è´§é‡ã€‚

- å®¹é‡æ˜¯ 1 å¯ä»¥è¿å®Œä¹ˆï¼Ÿ
- å®¹é‡æ˜¯ 2 å¯ä»¥è¿å®Œä¹ˆï¼Ÿ
- å®¹é‡æ˜¯ 3 å¯ä»¥è¿å®Œä¹ˆï¼Ÿ
- ã€‚ã€‚ã€‚
- å®¹é‡æ˜¯ total å¯ä»¥è¿å®Œä¹ˆï¼Ÿ(å½“ç„¶å¯ä»¥ï¼Œå› ä¸º D å¤§äºç­‰äº 1)

ä¸Šé¢ä¸æ–­è¯¢é—®çš„è¿‡ç¨‹å¦‚æœå›ç­”æ˜¯ yes æˆ‘ä»¬ç›´æ¥ return å³å¯ã€‚å¦‚æœå›ç­”æ˜¯ noï¼Œæˆ‘ä»¬ç»§ç»­å¾€ä¸‹è¯¢é—®ã€‚

è¿™æ˜¯ä¸€ä¸ªå…¸å‹çš„äºŒåˆ†é—®é¢˜ï¼Œåªä¸è¿‡æˆ‘ä»¬çš„åˆ¤æ–­æ¡ä»¶ç•¥æœ‰ä¸åŒï¼Œå¤§æ¦‚æ˜¯ï¼š

```python
def canShip(opacity):
    ### æŒ‡å®šèˆ¹çš„å®¹é‡æ˜¯å¦å¯ä»¥åœ¨Då¤©è¿å®Œ
lo = 0
hi = total
while lo < hi:
    mid = (lo + hi) // 2
    if canShip(mid):
        hi = mid
    else:
        lo = mid + 1

return lo

```

#### å…³é”®ç‚¹è§£æ

- èƒ½å¤Ÿè¯†åˆ«å‡ºæ˜¯ç»™å®šçš„æœ‰é™åºåˆ—æŸ¥æ‰¾ä¸€ä¸ªæ•°å­—(äºŒåˆ†æŸ¥æ‰¾)ï¼Œè¦æ±‚ä½ å¯¹äºŒåˆ†æŸ¥æ‰¾ä»¥åŠå˜ä½“ååˆ†ç†Ÿæ‚‰

#### ä»£ç 

```python
class Solution:
    def shipWithinDays(self, weights: List[int], D: int) -> int:
        lo = 0
        hi = 0

        def canShip(opacity):
            days = 1
            remain = opacity
            for weight in weights:
                if weight > opacity:
                    return False
                remain -= weight
                if remain < 0:
                    days += 1
                    remain = opacity - weight
            return days <= D

        for weight in weights:
            hi += weight
        while lo < hi:
            mid = (lo + hi) // 2
            if canShip(mid):
                hi = mid
            else:
                lo = mid + 1

        return lo
```

#### æ‰©å±•

#### å‚è€ƒ

### [1014].best-sightseeing-pair

#### é¢˜ç›®åœ°å€(1014. æœ€ä½³è§‚å…‰ç»„åˆ)

https://leetcode-cn.com/problems/best-sightseeing-pair/description/

ç»™å®šæ­£æ•´æ•°æ•°ç»„ Â Aï¼ŒA[i]Â  è¡¨ç¤ºç¬¬ i ä¸ªè§‚å…‰æ™¯ç‚¹çš„è¯„åˆ†ï¼Œå¹¶ä¸”ä¸¤ä¸ªæ™¯ç‚¹ Â i å’Œ Â jÂ  ä¹‹é—´çš„è·ç¦»ä¸º Â j - iã€‚

ä¸€å¯¹æ™¯ç‚¹(i < j)ç»„æˆçš„è§‚å…‰ç»„åˆçš„å¾—åˆ†ä¸º(A[i] + A[j] + iÂ - j)ï¼šæ™¯ç‚¹çš„è¯„åˆ†ä¹‹å’Œå‡å»å®ƒä»¬ä¸¤è€…ä¹‹é—´çš„è·ç¦»ã€‚

è¿”å›ä¸€å¯¹è§‚å…‰æ™¯ç‚¹èƒ½å–å¾—çš„æœ€é«˜åˆ†ã€‚

ç¤ºä¾‹ï¼š

è¾“å…¥ï¼š[8,1,5,2,6]
è¾“å‡ºï¼š11
è§£é‡Šï¼ši = 0, j = 2, A[i] + A[j] + i - j = 8 + 5 + 0 - 2 = 11

æç¤ºï¼š

2 <= A.length <= 50000
1 <= A[i] <= 1000

#### æ€è·¯

æœ€ç®€å•çš„æ€è·¯å°±æ˜¯ä¸¤ä¸¤ç»„åˆï¼Œæ‰¾å‡ºæœ€å¤§çš„ï¼Œå¦¥å¦¥è¶…æ—¶ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸‹ä»£ç ï¼š

```python
class Solution:
    def maxScoreSightseeingPair(self, A: List[int]) -> int:
        n = len(A)
        res = 0
        for i in range(n - 1):
            for j in range(i + 1, n):
                res = max(res, A[i] + A[j] + i - j)
        return res
```

æˆ‘ä»¬æ€è€ƒå¦‚ä½•ä¼˜åŒ–ã€‚ å…¶å®æˆ‘ä»¬å¯ä»¥éå†ä¸€éæ•°ç»„ï¼Œå¯¹äºæ•°ç»„çš„æ¯ä¸€é¡¹`A[j] - j` æˆ‘ä»¬éƒ½å»å‰é¢æ‰¾`æœ€å¤§`çš„ A[i] + i (è¿™æ ·æ‰èƒ½ä¿è¯ç»“æœæœ€å¤§)ã€‚

æˆ‘ä»¬è€ƒè™‘ä½¿ç”¨åŠ¨æ€è§„åˆ’æ¥è§£å†³, æˆ‘ä»¬ä½¿ç”¨ dp[i] æ¥è¡¨ç¤º æ•°ç»„ A å‰ i é¡¹çš„`A[i] + i`çš„æœ€å¤§å€¼ã€‚

```python
class Solution:
    def maxScoreSightseeingPair(self, A: List[int]) -> int:
        n = len(A)
        dp = [float('-inf')] * (n + 1)
        res = 0
        for i in range(n):
            dp[i + 1] = max(dp[i], A[i] + i)
            res = max(res, dp[i] + A[i] - i)
        return res
```

å¦‚ä¸Šå…¶å®æˆ‘ä»¬å‘ç°ï¼Œdp[i + 1] åªå’Œ dp[i] æœ‰å…³ï¼Œè¿™æ˜¯ä¸€ä¸ªç©ºé—´ä¼˜åŒ–çš„ä¿¡å·ã€‚æˆ‘ä»¬å…¶å®å¯ä»¥ä½¿ç”¨ä¸€ä¸ªå˜é‡æ¥è®°å½•ï¼Œè€Œä¸å¿…è¦ä½¿ç”¨ä¸€ä¸ªæ•°ç»„ï¼Œä»£ç è§ä¸‹æ–¹ã€‚

#### å…³é”®ç‚¹è§£æ

- ç©ºé—´æ¢æ—¶é—´
- dp ç©ºé—´ä¼˜åŒ–

#### ä»£ç 

```python
class Solution:
    def maxScoreSightseeingPair(self, A: List[int]) -> int:
        n = len(A)
        pre = A[0] + 0
        res = 0
        for i in range(1, n):
            res = max(res, pre + A[i] - i)
            pre = max(pre, A[i] + i)
        return res
```

#### å°æŠ€å·§

Python çš„ä»£ç å¦‚æœä¸ä½¿ç”¨ maxï¼Œè€Œæ˜¯ä½¿ç”¨ if else æ•ˆç‡ç›®æµ‹ä¼šæ›´é«˜ï¼Œå¤§å®¶å¯ä»¥è¯•ä¸€ä¸‹ã€‚

```python
class Solution:
    def maxScoreSightseeingPair(self, A: List[int]) -> int:
        n = len(A)
        pre = A[0] + 0
        res = 0
        for i in range(1, n):
            ### res = max(res, pre + A[i] - i)
            ### pre = max(pre, A[i] + i)
            res = res if res > pre + A[i] - i else pre + A[i] - i
            pre = pre if pre > A[i] + i else A[i] + i
        return res
```

### [1015].smallest-integer-divisible-by-k

```
ç»™å®šæ­£æ•´æ•°Â Kï¼Œä½ éœ€è¦æ‰¾å‡ºå¯ä»¥è¢« K æ•´é™¤çš„ã€ä»…åŒ…å«æ•°å­— 1 çš„æœ€å°æ­£æ•´æ•° Nã€‚

è¿”å›Â NÂ çš„é•¿åº¦ã€‚å¦‚æœä¸å­˜åœ¨è¿™æ ·çš„Â Nï¼Œå°±è¿”å› -1ã€‚



ç¤ºä¾‹ 1ï¼š

è¾“å…¥ï¼š1
è¾“å‡ºï¼š1
è§£é‡Šï¼šæœ€å°çš„ç­”æ¡ˆæ˜¯ N = 1ï¼Œå…¶é•¿åº¦ä¸º 1ã€‚
ç¤ºä¾‹ 2ï¼š

è¾“å…¥ï¼š2
è¾“å‡ºï¼š-1
è§£é‡Šï¼šä¸å­˜åœ¨å¯è¢« 2 æ•´é™¤çš„æ­£æ•´æ•° N ã€‚
ç¤ºä¾‹ 3ï¼š

è¾“å…¥ï¼š3
è¾“å‡ºï¼š3
è§£é‡Šï¼šæœ€å°çš„ç­”æ¡ˆæ˜¯ N = 111ï¼Œå…¶é•¿åº¦ä¸º 3ã€‚


æç¤ºï¼š

1 <= K <= 10^5

```

#### æ€è·¯

è¿™é“é¢˜æ˜¯è¯´ç»™å®šä¸€ä¸ª K å€¼ï¼Œèƒ½å¦æ‰¾åˆ°ä¸€ä¸ªå½¢å¦‚ 1ï¼Œ11ï¼Œ111ï¼Œ1111 ã€‚ã€‚ã€‚ è¿™æ ·çš„æ•°å­— n ä½¿å¾— n % K == 0ã€‚

é¦–å…ˆå®¹æ˜“æƒ³åˆ°çš„æ˜¯å¦‚æœ K æ˜¯ 2ï¼Œ4ï¼Œ5ï¼Œ 6ï¼Œ8 ç»“å°¾çš„è¯ï¼Œä¸€å®šæ˜¯ä¸è¡Œçš„ã€‚ç›´è§‚çš„è§£æ³•æ˜¯ä» 1ï¼Œ11ï¼Œ111ï¼Œ1111 ã€‚ã€‚ã€‚ è¿™æ ·ä¸€ç›´é™¤ä¸‹å»ï¼Œç›´åˆ°ç¢°åˆ°å¯ä»¥æ•´é™¤çš„ï¼Œæˆ‘ä»¬è¿”å›å³å¯ã€‚ ä½†æ˜¯å¦‚æœè¿™ä¸ªæ•°å­—æ ¹æœ¬å°±æ— æ³•æ•´é™¤æ€ä¹ˆåŠï¼Ÿæ²¡é”™ï¼Œæˆ‘ä»¬ä¼šæ— é™å¾ªç¯ä¸‹å»ã€‚æˆ‘ä»¬åº”è¯¥åœ¨ä»€ä¹ˆæ—¶åˆ»è·³å‡ºå¾ªç¯ï¼Œè¿”å› - 1 (è¡¨ç¤ºä¸èƒ½æ•´é™¤)å‘¢ï¼Ÿ

æˆ‘ä»¬æ‹¿é¢˜ç›®ç»™å‡ºçš„ä¸èƒ½æ•´é™¤çš„ 2 æ¥è¯´ã€‚

- 1 // 2 ç­‰äº 1
- 11 // 2 ç­‰äº 1
- 111 // 2 ç­‰äº 1
- ...

æˆ‘ä»¬å†æ¥ä¸€ä¸ªä¸èƒ½æ•´é™¤çš„ä¾‹å­ 6:

- 1 // 6 ç­‰äº 1
- 11 // 6 ç­‰äº 5
- 111 // 6 ç­‰äº 3
- 1111 // 6 ç­‰äº 1
- 11111 // 6 ç­‰äº 5
- ...

é€šè¿‡è§‚å¯Ÿæˆ‘ä»¬å‘ç°ä¸æ–­æ•´é™¤çš„è¿‡ç¨‹ï¼Œä¼šé™·å…¥æ— é™å¾ªç¯ï¼Œå¯¹äº 2 æ¥è¯´ï¼Œå…¶å¾ªç¯èŠ‚å°±æ˜¯ 1ã€‚å¯¹äº 6 æ¥è¯´ï¼Œå…¶å¾ªç¯èŠ‚æ¥è¯´å°±æ˜¯ 153ã€‚è€Œä¸”ç”±äºæˆ‘ä»¬çš„åˆ†æ¯æ˜¯ 6ï¼Œä¹Ÿå°±æ˜¯è¯´ä½™æ•°çš„å¯èƒ½æ€§ä¸€å…±åªæœ‰å…­ç§æƒ…å†µ 0,1,2,3,4,5ã€‚

ä¸Šé¢æ˜¯æ„Ÿæ€§çš„è®¤è¯†ï¼Œ æ¥ä¸‹æ¥æˆ‘ä»¬ä»æ•°å­¦ä¸Šäºˆä»¥è¯æ˜ã€‚ä¸Šé¢çš„ç®—æ³•ç”¨å…¬å¼æ¥è¡¨ç¤ºå°±æ˜¯`mod = (10 \* mod + 1) % K`ã€‚å‡å¦‚å‡ºç°äº†ç›¸åŒçš„æ•°ï¼Œæˆ‘ä»¬å¯ä»¥è‚¯å®šä¹‹åä¼šæ— é™å¾ªç¯ã€‚æ¯”å¦‚ 153 ä¹‹åå‡ºç°äº† 1ï¼Œæˆ‘ä»¬å¯ä»¥è‚¯å®šä¹‹åä¸€å®šæ˜¯ 35ã€‚ã€‚ã€‚ å› ä¸ºæˆ‘ä»¬çš„ mod åªæ˜¯å’Œå‰ä¸€ä¸ª mod æœ‰å…³ï¼Œä¸Šé¢çš„å…¬å¼æ˜¯ä¸€ä¸ª`çº¯å‡½æ•°`ã€‚

#### å…³é”®ç‚¹è§£æ

- æ•°å­¦(æ— é™å¾ªç¯ä¸å¾ªç¯èŠ‚)

#### ä»£ç 

```python
#
### @lc app=leetcode.cn id=1015 lang=python3
#
### [1015] å¯è¢« K æ•´é™¤çš„æœ€å°æ•´æ•°
### ### @lc code=start


class Solution:
    def smallestRepunitDivByK(self, K: int) -> int:
        if K % 10 in [2, 4, 5, 6, 8]:
            return - 1
        seen = set()
        mod = 0
        for i in range(1, K + 1):
            mod = (mod * 10 + 1) % K
            if mod in seen:
                return -1
            if mod == 0:
                return ix
            seen.add(mod)

        ### @lc code=end


```

### [1019].next-greater-node-in-linked-list

```
ç»™å‡ºä¸€ä¸ªä»¥å¤´èŠ‚ç‚¹Â headÂ ä½œä¸ºç¬¬ä¸€ä¸ªèŠ‚ç‚¹çš„é“¾è¡¨ã€‚é“¾è¡¨ä¸­çš„èŠ‚ç‚¹åˆ†åˆ«ç¼–å·ä¸ºï¼šnode_1, node_2, node_3, ... ã€‚

æ¯ä¸ªèŠ‚ç‚¹éƒ½å¯èƒ½æœ‰ä¸‹ä¸€ä¸ªæ›´å¤§å€¼(next larger value)ï¼šå¯¹äºÂ node_iï¼Œå¦‚æœå…¶Â next_larger(node_i)Â æ˜¯Â node_j.valï¼Œé‚£ä¹ˆå°±æœ‰Â j > iÂ ä¸”Â Â node_j.val > node_i.valï¼Œè€ŒÂ jÂ æ˜¯å¯èƒ½çš„é€‰é¡¹ä¸­æœ€å°çš„é‚£ä¸ªã€‚å¦‚æœä¸å­˜åœ¨è¿™æ ·çš„Â jï¼Œé‚£ä¹ˆä¸‹ä¸€ä¸ªæ›´å¤§å€¼ä¸ºÂ 0Â ã€‚

è¿”å›æ•´æ•°ç­”æ¡ˆæ•°ç»„Â answerï¼Œå…¶ä¸­Â answer[i] = next_larger(node_{i+1})Â ã€‚

æ³¨æ„ï¼šåœ¨ä¸‹é¢çš„ç¤ºä¾‹ä¸­ï¼Œè¯¸å¦‚ [2,1,5] è¿™æ ·çš„è¾“å…¥(ä¸æ˜¯è¾“å‡º)æ˜¯é“¾è¡¨çš„åºåˆ—åŒ–è¡¨ç¤ºï¼Œå…¶å¤´èŠ‚ç‚¹çš„å€¼ä¸ºÂ 2ï¼Œç¬¬äºŒä¸ªèŠ‚ç‚¹å€¼ä¸º 1ï¼Œç¬¬ä¸‰ä¸ªèŠ‚ç‚¹å€¼ä¸ºÂ 5 ã€‚



ç¤ºä¾‹ 1ï¼š

è¾“å…¥ï¼š[2,1,5]
è¾“å‡ºï¼š[5,5,0]
ç¤ºä¾‹ 2ï¼š

è¾“å…¥ï¼š[2,7,4,3,5]
è¾“å‡ºï¼š[7,0,5,5,0]
ç¤ºä¾‹ 3ï¼š

è¾“å…¥ï¼š[1,7,5,1,9,2,5,1]
è¾“å‡ºï¼š[7,9,9,9,0,5,0,0]


æç¤ºï¼š

å¯¹äºé“¾è¡¨ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹ï¼Œ1 <= node.valÂ <= 10^9
ç»™å®šåˆ—è¡¨çš„é•¿åº¦åœ¨ [0, 10000]Â èŒƒå›´å†…
```

#### æ€è·¯

çœ‹å®Œé¢˜ç›®å°±åº”è¯¥æƒ³åˆ°å•è°ƒæ ˆæ‰è¡Œï¼ŒLeetCode ä¸Šå…³äºå•è°ƒæ ˆçš„é¢˜ç›®è¿˜ä¸å°‘ï¼Œéš¾åº¦éƒ½ä¸å°ã€‚ä½†æ˜¯ä¸€æ—¦ä½ æŒæ¡äº†è¿™ä¸ªç®—æ³•ï¼Œé‚£ä¹ˆè¿™äº›é¢˜ç›®å¯¹ä½ æ¥è¯´éƒ½ä¸æ˜¯é—®é¢˜äº†ã€‚

å¦‚æœä½ ä¸ç”¨å•è°ƒæ ˆï¼Œé‚£ä¹ˆå¯ä»¥æš´åŠ›$O(N^2)$çš„æ—¶é—´å¤æ‚åº¦è§£å†³ï¼Œåªéœ€è¦åŒå±‚å¾ªç¯å³å¯ã€‚ä½†æ˜¯è¿™ç§åšæ³•åº”è¯¥æ˜¯è¿‡ä¸äº†å…³çš„ã€‚ä½¿ç”¨å•è°ƒæ ˆå¯ä»¥å°†æ—¶é—´å¤æ‚åº¦é™ä½åˆ°çº¿æ€§ï¼Œå½“ç„¶éœ€è¦é¢å¤–çš„$O(N)$çš„ç©ºé—´å¤æ‚åº¦ã€‚

é¡¾åæ€ä¹‰ï¼Œå•è°ƒæ ˆå³æ»¡è¶³å•è°ƒæ€§çš„æ ˆç»“æ„ã€‚ä¸å•è°ƒé˜Ÿåˆ—ç›¸æ¯”ï¼Œå…¶åªåœ¨ä¸€ç«¯è¿›è¡Œè¿›å‡ºã€‚ä¸ºäº†æè¿°æ–¹ä¾¿ï¼Œä»¥ä¸‹ä¸¾ä¾‹åŠä»£ç ä»¥ç»´æŠ¤ä¸€ä¸ªæ•´æ•°çš„å•è°ƒé€’å‡æ ˆä¸ºä¾‹ã€‚å°†ä¸€ä¸ªå…ƒç´ æ’å…¥å•è°ƒæ ˆæ—¶ï¼Œä¸ºäº†ç»´æŠ¤æ ˆçš„å•è°ƒæ€§ï¼Œéœ€è¦åœ¨ä¿è¯å°†è¯¥å…ƒç´ æ’å…¥åˆ°æ ˆé¡¶åæ•´ä¸ªæ ˆæ»¡è¶³å•è°ƒæ€§çš„å‰æä¸‹å¼¹å‡ºæœ€å°‘çš„å…ƒç´ ã€‚

ä¾‹å¦‚ï¼Œæ ˆä¸­è‡ªé¡¶å‘ä¸‹çš„å…ƒç´ ä¸º 1ï¼Œ2ï¼Œ4ï¼Œ5 ï¼Œæ’å…¥å…ƒç´  3 æ—¶ä¸ºäº†ä¿è¯å•è°ƒæ€§éœ€è¦ä¾æ¬¡å¼¹å‡ºå…ƒç´  :

- æœ€å¼€å§‹æ ˆæ˜¯è¿™æ ·çš„ï¼š [5,4,2,1]
- ä¸ºäº†ç»´æŠ¤é€’å‡ç‰¹æ€§ï¼Œ1,2 éœ€è¦è¢«ç§»é™¤ã€‚æ­¤æ—¶æ ˆæ˜¯è¿™æ ·çš„ï¼š [5,4]
- æˆ‘ä»¬å°† 3 push åˆ°æ ˆé¡¶å³å¯
- æ­¤æ—¶æ ˆæ˜¯è¿™æ ·çš„ï¼š [5,4,3]

ç”¨ä»£ç æè¿°å¦‚ä¸‹ï¼š

Python Code:

```python
def monoStack(list):
    st = []
    for v in list:
        while len(st) > 0 and v > st[-1]:
            st.pop()
        st.append(v)
    return st
monoStack([5, 4, 2, 1, 3]) ### output: [5, 4, 3]
```

#### å…³é”®ç‚¹

- å•è°ƒæ ˆ(å•è°ƒé€’å‡æ ˆ)
- å•è°ƒæ ˆçš„ä»£ç æ¨¡æ¿

#### ä»£ç 

Python Code:

```python
### Definition for singly-linked list.
### class ListNode:
###     def __init__(self, x):
###         self.val = x
###         self.next = None

class Solution:
     def nextLargerNodes(self, head):
        res, st = [], []
        while head:
            while len(st) > 0 and head.val > st[-1][1]:
                res[st.pop()[0]] = head.val
            st.append((len(res), head.val))
            res.append(0)
            head = head.next
        return res
```

#### æ‰©å±•

ç”šè‡³å¯ä»¥åšåˆ° O(1)çš„ç©ºé—´å¤æ‚åº¦ï¼Œè¯·å‚è€ƒ[C### O(n) time O(1) space](<https://leetcode.com/problems/next-greater-node-in-linked-list/discuss/267090/C-O(n)-time-O(1)-space>)

### [1020].number-of-enclaves

```
ç»™å‡ºä¸€ä¸ªäºŒç»´æ•°ç»„Â Aï¼Œæ¯ä¸ªå•å…ƒæ ¼ä¸º 0(ä»£è¡¨æµ·)æˆ– 1(ä»£è¡¨é™†åœ°)ã€‚

ç§»åŠ¨æ˜¯æŒ‡åœ¨é™†åœ°ä¸Šä»ä¸€ä¸ªåœ°æ–¹èµ°åˆ°å¦ä¸€ä¸ªåœ°æ–¹(æœå››ä¸ªæ–¹å‘ä¹‹ä¸€)æˆ–ç¦»å¼€ç½‘æ ¼çš„è¾¹ç•Œã€‚

è¿”å›ç½‘æ ¼ä¸­æ— æ³•åœ¨ä»»æ„æ¬¡æ•°çš„ç§»åŠ¨ä¸­ç¦»å¼€ç½‘æ ¼è¾¹ç•Œçš„é™†åœ°å•å…ƒæ ¼çš„æ•°é‡ã€‚



ç¤ºä¾‹ 1ï¼š

è¾“å…¥ï¼š[[0,0,0,0],[1,0,1,0],[0,1,1,0],[0,0,0,0]]
è¾“å‡ºï¼š3
è§£é‡Šï¼š
æœ‰ä¸‰ä¸ª 1 è¢« 0 åŒ…å›´ã€‚ä¸€ä¸ª 1 æ²¡æœ‰è¢«åŒ…å›´ï¼Œå› ä¸ºå®ƒåœ¨è¾¹ç•Œä¸Šã€‚
ç¤ºä¾‹ 2ï¼š

è¾“å…¥ï¼š[[0,1,1,0],[0,0,1,0],[0,0,1,0],[0,0,0,0]]
è¾“å‡ºï¼š0
è§£é‡Šï¼š
æ‰€æœ‰ 1 éƒ½åœ¨è¾¹ç•Œä¸Šæˆ–å¯ä»¥åˆ°è¾¾è¾¹ç•Œã€‚


æç¤ºï¼š

1 <= A.length <= 500
1 <= A[i].length <= 500
0 <= A[i][j] <= 1
æ‰€æœ‰è¡Œçš„å¤§å°éƒ½ç›¸åŒ

```

#### è§£æ³•ä¸€ (æš´åŠ›æ³•)

##### æ€è·¯

è¿™æ˜¯ä¸€ä¸ªå…¸å‹çš„å¯ä»¥ä½¿ç”¨ DFS è¿›è¡Œè§£å†³çš„ä¸€ç±»é¢˜ç›®ï¼Œ LeetCode ç›¸å…³çš„é¢˜ç›®æœ‰å¾ˆå¤šã€‚

å¯¹äºè¿™ç§é¢˜ç›®ä¸ç®¡æ˜¯æ€è·¯è¿˜æ˜¯ä»£ç éƒ½æœ‰å¾ˆå¤§çš„ç›¸ä¼¼æ€§ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸‹ã€‚

æš´åŠ›æ³•çš„æ€è·¯å¾ˆç®€å•ï¼Œæˆ‘ä»¬éå†æ•´ä¸ªçŸ©é˜µï¼š

- å¦‚æœéå†åˆ° 0ï¼Œæˆ‘ä»¬ä¸äºˆç†ä¼š
- å¦‚æœéå†åˆ° 1. æˆ‘ä»¬å°†å…¶åŠ åˆ° temp
- æˆ‘ä»¬ä¸æ–­æ‹“å±•è¾¹ç•Œ(ä¸Šä¸‹å·¦å³)
- å¦‚æœ dfs è¿‡ç¨‹ä¸­ç¢°åˆ°äº†è¾¹ç•Œï¼Œè¯´æ˜æˆ‘ä»¬å¯ä»¥é€ƒè„±ï¼Œæˆ‘ä»¬å°†ç´¯åŠ çš„ temp æ¸…ç©º
- å¦‚æœ dfs è¿‡ç¨‹ä¹‹åæ²¡æœ‰ç¢°åˆ°è¾¹ç•Œï¼Œè¯´æ˜æˆ‘ä»¬æ— æ³•é€ƒè„±ã€‚æˆ‘ä»¬å°† temp åŠ åˆ° cnt
- æœ€ç»ˆè¿”å› cnt å³å¯

##### å…³é”®ç‚¹è§£æ

- visited è®°å½•è®¿é—®è¿‡çš„èŠ‚ç‚¹ï¼Œé˜²æ­¢é‡å¤è®¡ç®—

##### ä»£ç 

Python Code:

```python
class Solution:
    temp = 0
    meetEdge = False

    def numEnclaves(self, A: List[List[int]]) -> int:
        cnt = 0
        m = len(A)
        n = len(A[0])
        visited = set()

        def dfs(i, j):
            if i < 0 or i >= m or j < 0 or j >= n or (i, j) in visited:
                return
            visited.add((i, j))
            if A[i][j] == 1:
                self.temp += 1
            else:
                return
            if i == 0 or i == m - 1 or j == 0 or j == n - 1:
                self.meetEdge = True
            dfs(i + 1, j)
            dfs(i - 1, j)
            dfs(i, j + 1)
            dfs(i, j - 1)
        for i in range(m):
            for j in range(n):
                dfs(i, j)
                if not self.meetEdge:
                    cnt += self.temp
                self.meetEdge = False
                self.temp = 0
        return cnt

```

#### è§£æ³•äºŒ (æ¶ˆé™¤æ³•)

##### æ€è·¯

ä¸Šé¢çš„è§£æ³•æ—¶é—´å¤æ‚åº¦å’Œç©ºé—´å¤æ‚åº¦éƒ½å¾ˆå·®ï¼Œæˆ‘ä»¬è€ƒè™‘è¿›è¡Œä¼˜åŒ–ï¼Œ è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨æ¶ˆé™¤æ³•ã€‚

- ä»çŸ©é˜µè¾¹ç•Œå¼€å§‹ dfs
- å¦‚æœç¢°åˆ° 1 å°±å°†å…¶å˜æˆ 0
- å¦‚æœç¢°åˆ° 0 åˆ™ä»€ä¹ˆéƒ½ä¸åš
- æœ€åæˆ‘ä»¬éå†æ•´ä¸ªçŸ©é˜µï¼Œæ•°ä¸€ä¸‹ 1 çš„ä¸ªæ•°å³å¯ã€‚

##### å…³é”®ç‚¹è§£æ

- dfs æ¶ˆé™¤æ³•

##### ä»£ç 

Python Code:

```python
#
### @lc app=leetcode.cn id=1020 lang=python3
#
### [1020] é£åœ°çš„æ•°é‡
### ### @lc code=start


class Solution:

    def numEnclaves(self, A: List[List[int]]) -> int:
        cnt = 0
        m = len(A)
        n = len(A[0])

        def dfs(i, j):
            if i < 0 or i >= m or j < 0 or j >= n or A[i][j] == 0:
                return
            A[i][j] = 0

            dfs(i + 1, j)
            dfs(i - 1, j)
            dfs(i, j + 1)
            dfs(i, j - 1)
        for i in range(m):
            dfs(i, 0)
            dfs(i, n - 1)
        for j in range(1, n - 1):
            dfs(0, j)
            dfs(m - 1, j)
        for i in range(m):
            for j in range(n):
                if A[i][j] == 1:
                    cnt += 1
        return cnt

        ### @lc code=end

```

### [1023].camelcase-matching

```
å¦‚æœæˆ‘ä»¬å¯ä»¥å°†å°å†™å­—æ¯æ’å…¥æ¨¡å¼ä¸²Â patternÂ å¾—åˆ°å¾…æŸ¥è¯¢é¡¹Â queryï¼Œé‚£ä¹ˆå¾…æŸ¥è¯¢é¡¹ä¸ç»™å®šæ¨¡å¼ä¸²åŒ¹é…ã€‚(æˆ‘ä»¬å¯ä»¥åœ¨ä»»ä½•ä½ç½®æ’å…¥æ¯ä¸ªå­—ç¬¦ï¼Œä¹Ÿå¯ä»¥æ’å…¥ 0 ä¸ªå­—ç¬¦ã€‚)

ç»™å®šå¾…æŸ¥è¯¢åˆ—è¡¨Â queriesï¼Œå’Œæ¨¡å¼ä¸²Â patternï¼Œè¿”å›ç”±å¸ƒå°”å€¼ç»„æˆçš„ç­”æ¡ˆåˆ—è¡¨Â answerã€‚åªæœ‰åœ¨å¾…æŸ¥é¡¹Â queries[i] ä¸æ¨¡å¼ä¸²Â pattern åŒ¹é…æ—¶ï¼ŒÂ answer[i]Â æ‰ä¸º trueï¼Œå¦åˆ™ä¸º falseã€‚



ç¤ºä¾‹ 1ï¼š

è¾“å…¥ï¼šqueries = ["FooBar","FooBarTest","FootBall","FrameBuffer","ForceFeedBack"], pattern = "FB"
è¾“å‡ºï¼š[true,false,true,true,false]
ç¤ºä¾‹ï¼š
"FooBar" å¯ä»¥è¿™æ ·ç”Ÿæˆï¼š"F" + "oo" + "B" + "ar"ã€‚
"FootBall" å¯ä»¥è¿™æ ·ç”Ÿæˆï¼š"F" + "oot" + "B" + "all".
"FrameBuffer" å¯ä»¥è¿™æ ·ç”Ÿæˆï¼š"F" + "rame" + "B" + "uffer".
ç¤ºä¾‹ 2ï¼š

è¾“å…¥ï¼šqueries = ["FooBar","FooBarTest","FootBall","FrameBuffer","ForceFeedBack"], pattern = "FoBa"
è¾“å‡ºï¼š[true,false,true,false,false]
è§£é‡Šï¼š
"FooBar" å¯ä»¥è¿™æ ·ç”Ÿæˆï¼š"Fo" + "o" + "Ba" + "r".
"FootBall" å¯ä»¥è¿™æ ·ç”Ÿæˆï¼š"Fo" + "ot" + "Ba" + "ll".
ç¤ºä¾‹ 3ï¼š

è¾“å‡ºï¼šqueries = ["FooBar","FooBarTest","FootBall","FrameBuffer","ForceFeedBack"], pattern = "FoBaT"
è¾“å…¥ï¼š[false,true,false,false,false]
è§£é‡Šï¼š
"FooBarTest" å¯ä»¥è¿™æ ·ç”Ÿæˆï¼š"Fo" + "o" + "Ba" + "r" + "T" + "est".


æç¤ºï¼š

1 <= queries.length <= 100
1 <= queries[i].length <= 100
1 <= pattern.length <= 100
æ‰€æœ‰å­—ç¬¦ä¸²éƒ½ä»…ç”±å¤§å†™å’Œå°å†™è‹±æ–‡å­—æ¯ç»„æˆã€‚

```

#### æ€è·¯

è¿™é“é¢˜æ˜¯ä¸€é“å…¸å‹çš„åŒæŒ‡é’ˆé¢˜ç›®ã€‚ä¸è¿‡è¿™é‡Œçš„åŒæŒ‡é’ˆå¹¶ä¸æ˜¯æŒ‡å‘åŒä¸€ä¸ªæ•°ç»„æˆ–è€…å­—ç¬¦ä¸²ï¼Œè€Œæ˜¯æŒ‡å‘å¤šä¸ªï¼Œè¿™é“é¢˜æ˜¯æŒ‡å‘ä¸¤ä¸ªï¼Œåˆ†åˆ«æ˜¯ query å’Œ patternï¼Œè¿™ç§é¢˜ç›®éå¸¸å¸¸è§ï¼Œèƒ½å¤Ÿè¯†åˆ«å’ŒæŒæ¡è¿™ç§é¢˜ç›®çš„è§£é¢˜æ¨¡æ¿éå¸¸é‡è¦ã€‚å¯¹ queries çš„æ¯ä¸€é¡¹æˆ‘ä»¬çš„é€»è¾‘æ˜¯ä¸€æ ·çš„ï¼Œè¿™é‡Œå°±ä»¥å…¶ä¸­ä¸€é¡¹ä¸ºä¾‹è¿›è¡Œè®²è§£ã€‚

ä»¥ query ä¸º FooBarï¼Œpattern ä¸º FB ä¸ºä¾‹ã€‚

é¦–å…ˆæˆ‘ä»¬æ¥ç®€åŒ–ä¸€ä¸‹é—®é¢˜ï¼Œå‡å¦‚æˆ‘ä»¬æ²¡æœ‰`å¯ä»¥åœ¨ä»»ä½•ä½ç½®æ’å…¥æ¯ä¸ªå­—ç¬¦ï¼Œä¹Ÿå¯ä»¥æ’å…¥ 0 ä¸ªå­—ç¬¦ã€‚`è¿™ä¸ªè§„åˆ™ã€‚æˆ‘ä»¬çš„é—®é¢˜ä¼šæ¯”è¾ƒç®€å•ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬çš„ç®—æ³•æ˜¯ä»€ä¹ˆæ ·çš„å‘¢ï¼Ÿä¸€èµ·æ¥çœ‹ä¸‹ï¼š

1. é¦–å…ˆæˆ‘ä»¬å»ºç«‹ä¸¤ä¸ªæŒ‡é’ˆ i å’Œ j åˆ†åˆ«æŒ‡å‘ query å’Œ pattern çš„é¦–å­—æ¯ã€‚
2. å½“ i å’Œ j æŒ‡å‘çš„å­—æ¯ç›¸åŒçš„æ—¶å€™ï¼Œæˆ‘ä»¬åŒæ—¶å‘åç§»åŠ¨ä¸¤ä¸ªæŒ‡é’ˆä¸€ä¸ªå•ä½ã€‚
3. å½“ i å’Œ j æŒ‡å‘çš„å­—æ¯ä¸åŒçš„æ—¶å€™ï¼Œæˆ‘ä»¬ç›´æ¥è¿”å› False

å‡å¦‚æˆ‘ä»¬è¦æ‰¾åˆ°çš„ä¸æ˜¯å­ä¸²ï¼Œè€Œæ˜¯å­åºåˆ—æ€ä¹ˆåŠï¼Ÿæˆ‘ä»¬ä¸å¦¨å‡è®¾åˆ¤æ–­ pattern æ˜¯å¦æ˜¯ query çš„å­åºåˆ—ã€‚ å…¶å® LeetCode å®é™…ä¸Šä¹Ÿæœ‰è¿™æ ·çš„é¢˜ç›®ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸‹ï¼š

1. é¦–å…ˆæˆ‘ä»¬å»ºç«‹ä¸¤ä¸ªæŒ‡é’ˆ i å’Œ j åˆ†åˆ«æŒ‡å‘ query å’Œ pattern çš„é¦–å­—æ¯ã€‚
2. å½“ i å’Œ j æŒ‡å‘çš„å­—æ¯ç›¸åŒçš„æ—¶å€™ï¼Œæˆ‘ä»¬åŒæ—¶å‘åç§»åŠ¨ä¸¤ä¸ªæŒ‡é’ˆä¸€ä¸ªå•ä½ã€‚
3. å½“ i å’Œ j æŒ‡å‘çš„å­—æ¯ä¸åŒçš„æ—¶å€™ï¼Œæˆ‘ä»¬ç§»åŠ¨ i æŒ‡é’ˆã€‚
4. å½“ i è¶…å‡º query èŒƒå›´çš„æ—¶å€™ï¼Œæˆ‘ä»¬åªéœ€è¦åˆ¤æ–­ pattern æ˜¯å¦è¾¾åˆ°äº†ç»ˆç‚¹å³å¯ã€‚å½“ç„¶æˆ‘ä»¬ä¹Ÿå¯ä»¥æå‰é€€å‡ºã€‚

æˆ‘ä»¬ç›´æ¥å‚è€ƒä¸‹ LeetCode [392. åˆ¤æ–­å­åºåˆ—](https://leetcode-cn.com/problems/is-subsequence/)ã€‚

ä»£ç ï¼š

> ç»™å®šå­—ç¬¦ä¸² s å’Œ t ï¼Œåˆ¤æ–­ s æ˜¯å¦ä¸º t çš„å­åºåˆ—

Python Code:

```python
class Solution:
    def isSubsequence(self, s: str, t: str) -> bool:
        i = 0
        j = 0
        while j < len(t):
            if i < len(s) and s[i] == t[j]:
                i += 1
                j += 1
            else:
                j += 1
            if i >= len (s):
                return True
        return i == len(s)
```

ç„¶åæˆ‘ä»¬åŠ ä¸Š`å¯ä»¥åœ¨ä»»ä½•ä½ç½®æ’å…¥æ¯ä¸ªå­—ç¬¦ï¼Œä¹Ÿå¯ä»¥æ’å…¥ 0 ä¸ªå­—ç¬¦ã€‚`è¿™ä¸ªè§„åˆ™ã€‚æ¥çœ‹ä¸‹æœ‰ä»€ä¹ˆä¸åŒï¼š

1. é¦–å…ˆæˆ‘ä»¬å»ºç«‹ä¸¤ä¸ªæŒ‡é’ˆ i å’Œ j åˆ†åˆ«æŒ‡å‘ query å’Œ pattern çš„é¦–å­—æ¯ã€‚
2. å½“ i å’Œ j æŒ‡å‘çš„å­—æ¯ç›¸åŒçš„æ—¶å€™ï¼Œæˆ‘ä»¬åŒæ—¶å‘åç§»åŠ¨ä¸¤ä¸ªæŒ‡é’ˆä¸€ä¸ªå•ä½ã€‚
3. å½“ i å’Œ j æŒ‡å‘çš„å­—æ¯ä¸åŒçš„æ—¶å€™ï¼Œæˆ‘ä»¬ç»§ç»­åˆ¤æ–­ i æŒ‡å‘çš„å…ƒç´ æ˜¯å¦æ˜¯å°å†™ã€‚
4. å¦‚æœæ˜¯å°å†™æˆ‘ä»¬åªæŠŠ i å‘åç§»åŠ¨ä¸€ä¸ªå•ä½ã€‚
5. å¦‚æœä¸æ˜¯å°å†™æˆ‘ä»¬ç›´æ¥è¿”å› False

#### å…³é”®ç‚¹è§£æ

- åŒæŒ‡é’ˆ
- å­—ç¬¦ä¸²åŒ¹é…
- å­åºåˆ—
- å­ä¸²

#### ä»£ç 

Python Code:

```python
class Solution:
    def camelMatch(self, queries: List[str], pattern: str) -> List[bool]:
        res = []
        for query in queries:
            i = 0
            j = 0
            while i < len(query):
                if j < len(pattern) and query[i] == pattern[j]:
                    i += 1
                    j += 1
                elif query[i].islower():
                    i += 1
                else:
                    break
            if i == len(query) and j == len(pattern):
                res.append(True)
            else:
                res.append(False)
        return res
```

#### æ‰©å±•

è¿™æ˜¯ä¸€ä¸ªç¬¦åˆç›´è§‰çš„è§£æ³•ï¼Œä½†æ˜¯å´ä¸æ˜¯ä¸€ä¸ªå¾ˆä¼˜ç§€çš„è§£æ³•ï¼Œé‚£ä¹ˆä½ æœ‰æƒ³åˆ°ä»€ä¹ˆä¼˜ç§€çš„è§£æ³•ä¹ˆï¼Ÿ

### [1104].path-in-zigzag-labelled-binary-tree

åœ¨ä¸€æ£µæ— é™çš„äºŒå‰æ ‘ä¸Šï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½æœ‰ä¸¤ä¸ªå­èŠ‚ç‚¹ï¼Œæ ‘ä¸­çš„èŠ‚ç‚¹ é€è¡Œ ä¾æ¬¡æŒ‰ â€œä¹‹â€ å­—å½¢è¿›è¡Œæ ‡è®°ã€‚

å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œåœ¨å¥‡æ•°è¡Œ(å³ï¼Œç¬¬ä¸€è¡Œã€ç¬¬ä¸‰è¡Œã€ç¬¬äº”è¡Œâ€¦â€¦)ä¸­ï¼ŒæŒ‰ä»å·¦åˆ°å³çš„é¡ºåºè¿›è¡Œæ ‡è®°ï¼›

è€Œå¶æ•°è¡Œ(å³ï¼Œç¬¬äºŒè¡Œã€ç¬¬å››è¡Œã€ç¬¬å…­è¡Œâ€¦â€¦)ä¸­ï¼ŒæŒ‰ä»å³åˆ°å·¦çš„é¡ºåºè¿›è¡Œæ ‡è®°ã€‚

![](https://tva1.sinaimg.cn/large/006tNbRwgy1gaihhb1ysbj310p0gu3zx.jpg)

ç»™ä½ æ ‘ä¸ŠæŸä¸€ä¸ªèŠ‚ç‚¹çš„æ ‡å· labelï¼Œè¯·ä½ è¿”å›ä»æ ¹èŠ‚ç‚¹åˆ°è¯¥æ ‡å·ä¸º label èŠ‚ç‚¹çš„è·¯å¾„ï¼Œè¯¥è·¯å¾„æ˜¯ç”±é€”ç»çš„èŠ‚ç‚¹æ ‡å·æ‰€ç»„æˆçš„ã€‚

ç¤ºä¾‹ 1ï¼š

è¾“å…¥ï¼šlabel = 14
è¾“å‡ºï¼š[1,3,4,14]
ç¤ºä¾‹ 2ï¼š

è¾“å…¥ï¼šlabel = 26
è¾“å‡ºï¼š[1,2,6,10,26]

æç¤ºï¼š

1 <= label <= 10^6

#### æ€è·¯

å‡å¦‚è¿™é“é¢˜ä¸æ˜¯ä¹‹å­—å½¢ï¼Œé‚£ä¹ˆå°±ä¼šéå¸¸ç®€å•ã€‚ æˆ‘ä»¬å¯ä»¥æ ¹æ®å­èŠ‚ç‚¹çš„ label è½»æ¾åœ°æ±‚å‡ºçˆ¶èŠ‚ç‚¹çš„ labelï¼Œå…¬ç¤ºæ˜¯ label // 2(å…¶ä¸­ label ä¸ºå­èŠ‚ç‚¹çš„ label)ã€‚

å¦‚æœæ˜¯è¿™æ ·çš„è¯ï¼Œè¿™é“é¢˜åº”è¯¥æ˜¯ easy éš¾åº¦ï¼Œä»£ç ä¹Ÿä¸éš¾å†™å‡ºã€‚æˆ‘ä»¬ç»§ç»­è€ƒè™‘ä¹‹å­—å½¢ã€‚æˆ‘ä»¬ä¸å¦¨å…ˆè§‚å¯Ÿä¸€ä¸‹ï¼Œæ‰¾ä¸‹è§„å¾‹ã€‚

![](https://tva1.sinaimg.cn/large/006tNbRwly1gaihn0ktanj30lu093gme.jpg)

ä»¥ä¸Šå›¾æœ€åä¸€è¡Œä¸ºä¾‹ï¼Œå¯¹äº 15 èŠ‚ç‚¹ï¼Œä¹‹å­—å˜æ¢ä¹‹å‰å¯¹åº”çš„åº”è¯¥æ˜¯ 8 èŠ‚ç‚¹ã€‚14 èŠ‚ç‚¹å¯¹åº”çš„æ˜¯ 9 èŠ‚ç‚¹ã€‚ã€‚ã€‚

å…¨éƒ¨åˆ—ä¸¾å‡ºæ¥æ˜¯è¿™æ ·çš„ï¼š

![](https://tva1.sinaimg.cn/large/006tNbRwly1gaihota82cj30mk0b6wfp.jpg)

æˆ‘ä»¬å‘ç°ä¹‹å­—å˜æ¢å‰åçš„ label ç›¸åŠ æ˜¯ä¸€ä¸ªå®šå€¼ã€‚

![](https://tva1.sinaimg.cn/large/006tNbRwly1gaihpnlpicj309b08dmxl.jpg)

å› æ­¤æˆ‘ä»¬åªéœ€è¦æ±‚è§£å‡ºæ¯ä¸€å±‚çš„è¿™ä¸ªå®šå€¼ï¼Œç„¶åå‡å»å½“å‰å€¼å°±å¥½äº†ã€‚(æ³¨æ„æˆ‘ä»¬ä¸éœ€è¦åŒºåˆ†å¶æ•°è¡Œå’Œå¥‡æ•°è¡Œ)
é—®é¢˜çš„å…³é”®è½¬åŒ–ä¸ºæ±‚è§£è¿™ä¸ªå®šå€¼ï¼Œè¿™ä¸ªå®šå€¼å…¶å®å¾ˆå¥½æ±‚ï¼Œå› ä¸ºæ¯ä¸€å±‚çš„æœ€å¤§å€¼å’Œæœ€å°å€¼æˆ‘ä»¬å¾ˆå®¹æ˜“æ±‚ï¼Œè€Œæœ€å¤§å€¼å’Œæœ€å°å€¼çš„å’Œæ­£æ˜¯æˆ‘ä»¬è¦æ±‚çš„è¿™ä¸ªæ•°å­—ã€‚

æœ€å¤§å€¼å’Œæœ€å°å€¼è¿™ä¹ˆæ±‚å‘¢ï¼Ÿç”±æ»¡äºŒå‰æ ‘çš„æ€§è´¨ï¼Œæˆ‘ä»¬çŸ¥é“æ¯ä¸€å±‚çš„æœ€å°å€¼å°±æ˜¯`2 ** (level - 1)`ï¼Œè€Œæœ€å¤§å€¼æ˜¯`2 ** level - 1`ã€‚ å› æ­¤æˆ‘ä»¬åªè¦çŸ¥é“ level å³å¯ï¼Œlevel éå¸¸å®¹æ˜“æ±‚å‡ºï¼Œå…·ä½“å¯ä»¥çœ‹ä¸‹é¢ä»£ç ã€‚

#### å…³é”®ç‚¹

- æ»¡äºŒå‰æ ‘çš„æ€§è´¨ï¼š

1. æœ€å°å€¼æ˜¯`2 ** (level - 1)`ï¼Œæœ€å¤§å€¼æ˜¯`2 ** level - 1`ï¼Œå…¶ä¸­ level æ˜¯æ ‘çš„æ·±åº¦ã€‚
2. å‡å¦‚çˆ¶èŠ‚ç‚¹çš„ç´¢å¼•ä¸º iï¼Œé‚£ä¹ˆå·¦å­èŠ‚ç‚¹å°±æ˜¯ 2\*iï¼Œ å³è¾¹å­èŠ‚ç‚¹å°±æ˜¯ 2\*i + 1ã€‚
3. å‡å¦‚å­èŠ‚ç‚¹çš„ç´¢å¼•æ˜¯ iï¼Œé‚£ä¹ˆçˆ¶èŠ‚ç‚¹çš„ç´¢å¼•å°±æ˜¯ i // 2ã€‚

- å…ˆæ€è€ƒä¸€èˆ¬æƒ…å†µ(ä¸æ˜¯ä¹‹å­—å½¢)ï¼Œ ç„¶åé€šè¿‡è§‚å¯Ÿæ‰¾å‡ºè§„å¾‹

#### ä»£ç 

```python
class Solution:
    def pathInZigZagTree(self, label: int) -> List[int]:
        level = 0
        res = []
        ### for each level, ranged from 2 ** (level - 1) to 2 ** level - 1
        while 2 ** level - 1 < label:
            level += 1

        while level > 0:
            res.insert(0, label)
            label = 2 ** (level - 1) + 2 ** level - 1 - label
            label //= 2
            level -= 1
        return res
```

### [1131].maximum-of-absolute-value-expression

#### é¢˜ç›®åœ°å€(1131. ç»å¯¹å€¼è¡¨è¾¾å¼çš„æœ€å¤§å€¼)

https://leetcode-cn.com/problems/maximum-of-absolute-value-expression/description/

ç»™ä½ ä¸¤ä¸ªé•¿åº¦ç›¸ç­‰çš„æ•´æ•°æ•°ç»„ï¼Œè¿”å›ä¸‹é¢è¡¨è¾¾å¼çš„æœ€å¤§å€¼ï¼š

|arr1[i] - arr1[j]| + |arr2[i] - arr2[j]| + |i - j|

å…¶ä¸­ä¸‹æ ‡ iï¼Œj æ»¡è¶³ 0 <= i, j < arr1.lengthã€‚

ç¤ºä¾‹ 1ï¼š

è¾“å…¥ï¼šarr1 = [1,2,3,4], arr2 = [-1,4,5,6]
è¾“å‡ºï¼š13
ç¤ºä¾‹ 2ï¼š

è¾“å…¥ï¼šarr1 = [1,-2,-5,0,10], arr2 = [0,-2,-1,-7,-4]
è¾“å‡ºï¼š20

æç¤ºï¼š

2 <= arr1.length == arr2.length <= 40000
-10^6 <= arr1[i], arr2[i] <= 10^6

#### è§£æ³•ä¸€(æ•°å­¦åˆ†æ)

##### æ€è·¯

å¦‚å›¾æˆ‘ä»¬è¦æ±‚çš„æ˜¯è¿™æ ·ä¸€ä¸ªè¡¨è¾¾å¼çš„æœ€å¤§å€¼ã€‚arr1 å’Œ arr2 ä¸ºä¸¤ä¸ªä¸åŒçš„æ•°ç»„ï¼Œä¸”äºŒè€…é•¿åº¦ç›¸åŒã€‚i å’Œ j æ˜¯ä¸¤ä¸ªåˆæ³•çš„ç´¢å¼•ã€‚

> çº¢è‰²ç«–çº¿è¡¨ç¤ºçš„æ˜¯ç»å¯¹å€¼çš„ç¬¦å·

![](https://tva1.sinaimg.cn/large/006tNbRwly1gamo3dx1bej30q003y74f.jpg)

æˆ‘ä»¬å¯¹å…¶è¿›è¡Œåˆ†ç±»è®¨è®ºï¼Œæœ‰å¦‚ä¸‹å…«ç§æƒ…å†µï¼š

> |arr1[i] -arr1[j]| ä¸¤ç§æƒ…å†µ
> |arr2[i] -arr2[j]| ä¸¤ç§æƒ…å†µ
> |i - j| ä¸¤ç§æƒ…å†µ
> å› æ­¤ä¸€å…±æ˜¯ 2 \* 2 \* 2 = 8 ç§

![](https://tva1.sinaimg.cn/large/006tNbRwgy1gamosnsknej30tg0viq6w.jpg)

ç”±äº i å’Œ j ä¹‹å‰æ²¡æœ‰å¤§å°å…³ç³»ï¼Œä¹Ÿå°±è¯´äºŒè€…å¯ä»¥ç›¸äº’æ›¿ä»£ã€‚å› æ­¤ï¼š

- 1 ç­‰ä»·äº 8
- 2 ç­‰ä»·äº 7
- 3 ç­‰ä»·äº 6
- 4 ç­‰ä»·äº 5

ä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬åªéœ€è¦è®¡ç®— 1ï¼Œ2ï¼Œ3ï¼Œ4 çš„æœ€å¤§å€¼å°±å¯ä»¥äº†ã€‚(å½“ç„¶ä½ å¯ä»¥é€‰æ‹©å…¶ä»–ç»„åˆï¼Œåªè¦å®Œå¤‡å°±è¡Œ)

ä¸ºäº†æ–¹ä¾¿ï¼Œæˆ‘ä»¬å°† i å’Œ j éƒ½æå–åˆ°ä¸€èµ·ï¼š

![](https://tva1.sinaimg.cn/large/006tNbRwly1gamp5sizefj30qs0g6gmx.jpg)

å®¹æ˜“çœ‹å‡ºç­‰å¼çš„æœ€å¤§å€¼å°±æ˜¯å‰é¢çš„æœ€å¤§å€¼ï¼Œå’Œåé¢æœ€å°å€¼çš„å·®å€¼ã€‚å¦‚å›¾ï¼š

![](https://tva1.sinaimg.cn/large/006tNbRwly1gamp9c3g9lj30r20kcabx.jpg)

å†ä»”ç»†è§‚å¯Ÿï¼Œä¼šå‘ç°å‰é¢éƒ¨åˆ†å’Œåé¢éƒ¨åˆ†æ˜¯ä¸€æ ·çš„ï¼ŒåŸå› è¿˜æ˜¯ä¸Šé¢æ‰€è¯´çš„ i å’Œ j å¯ä»¥äº’æ¢ã€‚å› æ­¤æˆ‘ä»¬è¦åšçš„å°±æ˜¯ï¼š

- éå†ä¸€éæ•°ç»„ï¼Œç„¶åè®¡ç®—å››ä¸ªè¡¨è¾¾å¼ï¼Œ arr1[i] + arr2[i] + iï¼Œarr1[i] - arr2[i] + iï¼Œarr2[i] - arr1[i] + i å’Œ -1 \* arr2[i] - arr1[i] + i çš„ æœ€å¤§å€¼å’Œæœ€å°å€¼ã€‚
- ç„¶ååˆ†åˆ«å–å‡ºå››ä¸ªè¡¨è¾¾å¼æœ€å¤§å€¼å’Œæœ€å°å€¼çš„å·®å€¼(å°±æ˜¯è¿™ä¸ªè¡¨è¾¾å¼çš„æœ€å¤§å€¼)
- å››ä¸ªè¡¨è¾¾å¼æœ€å¤§å€¼å†å–å‡ºæœ€å¤§å€¼

##### å…³é”®ç‚¹

- æ•°å­¦åˆ†æ

##### ä»£ç 

```python
class Solution:
    def maxAbsValExpr(self, arr1: List[int], arr2: List[int]) -> int:
        A = []
        B = []
        C = []
        D = []
        for i in range(len(arr1)):
            a, b, c, d = arr1[i] + arr2[i] + i, arr1[i] - arr2[i] + \
                i, arr2[i] - arr1[i] + i, -1 * arr2[i] - arr1[i] + i
            A.append(a)
            B.append(b)
            C.append(c)
            D.append(d)
        return max(max(A) - min(A), max(B) - min(B), max(C) - min(C), max(D) - min(D))
```

#### è§£æ³•äºŒ(æ›¼å“ˆé¡¿è·ç¦»)

##### æ€è·¯

![](https://tva1.sinaimg.cn/large/006tNbRwly1gampnn032tj308l0a8mxl.jpg)

(å›¾æ¥è‡ªï¼š https://zh.wikipedia.org/wiki/%E6%9B%BC%E5%93%88%E9%A0%93%E8%B7%9D%E9%9B%A2)

ä¸€ç»´æ›¼å“ˆé¡¿è·ç¦»å¯ä»¥ç†è§£ä¸ºä¸€æ¡çº¿ä¸Šä¸¤ç‚¹ä¹‹é—´çš„è·ç¦»: |x1 - x2|ï¼Œå…¶å€¼ä¸º max(x1 - x2, x2 - x1)

![](https://tva1.sinaimg.cn/large/006tNbRwgy1gampr362oaj30l004mdfv.jpg)

åœ¨å¹³é¢ä¸Šï¼Œåæ ‡(x1, y1)çš„ç‚¹ P1 ä¸åæ ‡(x2, y2)çš„ç‚¹ P2 çš„æ›¼å“ˆé¡¿è·ç¦»ä¸ºï¼š|x1-x2| + |y1 - y2|,å…¶å€¼ä¸º max(x1 - x2 + y1 - y2, x2 - x1 + y1 - y2, x1 - x2 + y2 - y1, x2 -x1 + y2 - y1)

![](https://tva1.sinaimg.cn/large/006tNbRwgy1gampwhua9fj30rq0lmdgl.jpg)

ç„¶åè¿™é“é¢˜ç›®æ˜¯æ›´å¤æ‚çš„ä¸‰ç»´æ›¼å“ˆé¡¿è·ç¦»ï¼Œå…¶ä¸­(i, arr[i], arr[j])å¯ä»¥çœ‹ä½œä¸‰ä½ç©ºé—´ä¸­çš„ä¸€ä¸ªç‚¹ï¼Œé—®é¢˜è½¬åŒ–ä¸ºæ›¼å“ˆé¡¿è·ç¦»æœ€è¿œçš„ä¸¤ä¸ªç‚¹çš„è·ç¦»ã€‚
å»¶ç»­ä¸Šé¢çš„æ€è·¯ï¼Œ|x1-x2| + |y1 - y2| + |z1 - z2|,å…¶å€¼ä¸º :

max(

x1 - x2 + y1 - y2 + z1 - z2,

x1 - x2 + y1 - y2 + z2 - z1,

x2 - x1 + y1 - y2 + z1 - z2,

x2 - x1 + y1 - y2 + z2 - z1,

x1 - x2 + y2 - y1 + z1 - z2,

x1 - x2 + y2 - y1 + z2- z1,

x2 -x1 + y2 - y1 + z1 - z2ï¼Œ

x2 -x1 + y2 - y1 + z2 - z1

)

æˆ‘ä»¬å¯ä»¥å°† 1 å’Œ 2 æ”¾åœ¨ä¸€èµ·æ–¹ä¾¿è®¡ç®—ï¼š

max(

x1 + y1 + z1 - (x2 + y2 + z2)ï¼Œ

x1 + y1 - z1 - (x2 + y2 - z2)

...

)

æˆ‘ä»¬ç”šè‡³å¯ä»¥æ‰©å±•åˆ° n ç»´ï¼Œå…·ä½“ä»£ç è§ä¸‹æ–¹ã€‚

##### å…³é”®ç‚¹

- æ›¼å“ˆé¡¿è·ç¦»
- æ›¼å“ˆé¡¿è·ç¦»ä»£ç æ¨¡æ¿

> è§£é¢˜æ¨¡æ¿å¯ä»¥å¸®åŠ©ä½ å¿«é€Ÿå¹¶ä¸”æ›´å°‘é”™è¯¯çš„è§£é¢˜ï¼Œæ›´å¤šè§£é¢˜æ¨¡æ¿è¯·æœŸå¾…æˆ‘çš„[æ–°ä¹¦](https://lucifer.ren/blog/2019/12/11/draft/)(æœªå®Œæˆ)

##### ä»£ç 

```python
class Solution:
    def maxAbsValExpr(self, arr1: List[int], arr2: List[int]) -> int:
        ### æ›¼å“ˆé¡¿è·ç¦»æ¨¡æ¿ä»£ç 
        sign = [1, -1]
        n = len(arr1)
        dists = []
        ### ä¸‰ç»´æ¨¡æ¿
        for a in sign:
            for b in sign:
                for c in sign:
                    maxDist = float('-inf')
                    minDist = float('inf')
                    ### åˆ†åˆ«è®¡ç®—æ‰€æœ‰ç‚¹çš„æ›¼å“ˆé¡¿è·ç¦»
                    for i in range(n):
                        dist = arr1[i] * a + arr2[i] * b + i * c
                        maxDist = max(maxDist, dist)
                        minDist = min(minDist, dist)
                    ### å°†æ‰€æœ‰çš„ç‚¹çš„æ›¼å“ˆé¡¿è·ç¦»æ”¾åˆ°distsä¸­
                    dists.append(maxDist - minDist)
        return max(dists)
```

#### æ€»ç»“

å¯ä»¥çœ‹å‡ºå…¶å®ä¸¤ç§è§£æ³•éƒ½æ˜¯ä¸€æ ·çš„ï¼Œåªæ˜¯æ€è€ƒè§’åº¦ä¸ä¸€æ ·ã€‚

### [1168].optimize-water-distribution-in-a-village-cn

```
There are n houses in a village. We want to supply water for all the houses by building wells and laying pipes.

For each house i, we can either build a well inside it directly with cost wells[i], or pipe in water from another well to it. The costs to lay pipes between houses are given by the array pipes, where each pipes[i] = [house1, house2, cost] represents the cost to connect house1 and house2 together using a pipe. Connections are bidirectional.

Find the minimum total cost to supply water to all houses.

Example 1:

Input: n = 3, wells = [1,2,2], pipes = [[1,2,1],[2,3,1]]
Output: 3
Explanation:
The image shows the costs of connecting houses using pipes.
The best strategy is to build a well in the first house with cost 1 and connect the other houses to it with cost 2 so the total cost is 3.

Constraints:

1 <= n <= 10000
wells.length == n
0 <= wells[i] <= 10^5
1 <= pipes.length <= 10000
1 <= pipes[i][0], pipes[i][1] <= n
0 <= pipes[i][2] <= 10^5
pipes[i][0] != pipes[i][1]
```

example 1 pic:

#### æ€è·¯

é¢˜æ„ï¼Œåœ¨æ¯ä¸ªåŸå¸‚æ‰“äº•éœ€è¦ä¸€å®šçš„èŠ±è´¹ï¼Œä¹Ÿå¯ä»¥ç”¨å…¶ä»–åŸå¸‚çš„äº•æ°´ï¼ŒåŸå¸‚ä¹‹é—´å»ºç«‹è¿æ¥ç®¡é“éœ€è¦ä¸€å®šçš„èŠ±è´¹ï¼Œæ€ä¹ˆæ ·å®‰æ’å¯ä»¥èŠ±è´¹æœ€å°‘çš„å‰çŒæº‰æ‰€æœ‰åŸå¸‚ã€‚

è¿™æ˜¯ä¸€é“è¿é€šæ‰€æœ‰ç‚¹çš„æœ€çŸ­è·¯å¾„/æœ€å°ç”Ÿæˆæ ‘é—®é¢˜ï¼ŒæŠŠåŸå¸‚çœ‹æˆå›¾ä¸­çš„ç‚¹ï¼Œç®¡é“è¿æ¥åŸå¸‚çœ‹æˆæ˜¯è¿æ¥ä¸¤ä¸ªç‚¹ä¹‹é—´çš„è¾¹ã€‚è¿™é‡Œæ‰“äº•çš„èŠ±è´¹æ˜¯ç›´æ¥åœ¨ç‚¹ä¸Šï¼Œè€Œä¸”å¹¶ä¸æ˜¯æ‰€æœ‰
ç‚¹ä¹‹é—´éƒ½æœ‰è¾¹è¿æ¥ï¼Œä¸ºäº†æ–¹ä¾¿ï¼Œæˆ‘ä»¬å¯ä»¥å‡æƒ³ä¸€ä¸ªç‚¹`(root)0`ï¼Œè¿™é‡Œè‡ªèº«ç‚¹çš„èŠ±è´¹å¯ä»¥ä¸ `0` è¿æ¥ï¼ŒèŠ±è´¹å¯ä»¥æ˜¯ `0-i` ä¹‹é—´çš„èŠ±è´¹ã€‚è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥æ„å»ºä¸€ä¸ªè¿é€šå›¾åŒ…å«æ‰€æœ‰çš„ç‚¹å’Œè¾¹ã€‚
é‚£åœ¨ä¸€ä¸ªè¿é€šå›¾ä¸­æ±‚æœ€çŸ­è·¯å¾„/æœ€å°ç”Ÿæˆæ ‘çš„é—®é¢˜.

å‚è€ƒå»¶ä¼¸é˜…è¯»ä¸­ï¼Œç»´åŸºç™¾ç§‘é’ˆå¯¹è¿™ç±»é¢˜ç»™å‡ºçš„å‡ ç§è§£æ³•ã€‚

è§£é¢˜æ­¥éª¤ï¼š

1. åˆ›å»º `POJO EdgeCost(node1, node2, cost) - èŠ‚ç‚¹1 å’Œ èŠ‚ç‚¹2 è¿æ¥è¾¹çš„èŠ±è´¹`ã€‚
2. å‡æƒ³ä¸€ä¸ª`root` ç‚¹ `0`ï¼Œæ„å»ºå›¾
3. è¿é€šæ‰€æœ‰èŠ‚ç‚¹å’Œ `0`ï¼Œ`[0,i] - i æ˜¯èŠ‚ç‚¹ [1,n]`ï¼Œ`0-1` æ˜¯èŠ‚ç‚¹ `0` å’Œ `1` çš„è¾¹ï¼Œè¾¹çš„å€¼æ˜¯èŠ‚ç‚¹ `i` ä¸Šæ‰“äº•çš„èŠ±è´¹ `wells[i]`;
4. æŠŠæ‰“äº•èŠ±è´¹å’ŒåŸå¸‚è¿æ¥ç‚¹è½¬æ¢æˆå›¾çš„èŠ‚ç‚¹å’Œè¾¹ã€‚
5. å¯¹å›¾çš„è¾¹çš„å€¼æ’åº(ä»å°åˆ°å¤§)
6. éå†å›¾çš„è¾¹ï¼Œåˆ¤æ–­ä¸¤ä¸ªèŠ‚ç‚¹æœ‰æ²¡æœ‰è¿é€š (`Union-Find`)ï¼Œ
   - å·²è¿é€šå°±è·³è¿‡ï¼Œç»§ç»­è®¿é—®ä¸‹ä¸€æ¡è¾¹
   - æ²¡æœ‰è¿é€šï¼Œè®°å½•èŠ±è´¹ï¼Œè¿é€šèŠ‚ç‚¹
7. è‹¥æ‰€æœ‰èŠ‚ç‚¹å·²è¿é€šï¼Œæ±‚å¾—çš„æœ€å°è·¯å¾„å³ä¸ºæœ€å°èŠ±è´¹ï¼Œè¿”å›
8. å¯¹äºæ¯æ¬¡`union`, èŠ‚ç‚¹æ•° `n-1`, å¦‚æœ `n==0` è¯´æ˜æ‰€æœ‰èŠ‚ç‚¹éƒ½å·²è¿é€šï¼Œå¯ä»¥æå‰é€€å‡ºï¼Œä¸éœ€è¦ç»§ç»­è®¿é—®å‰©ä½™çš„è¾¹ã€‚

> è¿™é‡Œç”¨åŠ æƒ Union-Find åˆ¤æ–­ä¸¤ä¸ªèŠ‚ç‚¹æ˜¯å¦è¿é€šï¼Œå’Œè¿é€šæœªè¿é€šçš„èŠ‚ç‚¹ã€‚

ä¸¾ä¾‹ï¼š`n = 5, wells=[1,2,2,3,2], pipes=[[1,2,1],[2,3,1],[4,5,7]]`

å¦‚å›¾ï¼š

ä»å›¾ä¸­å¯ä»¥çœ‹åˆ°ï¼Œæœ€åæ‰€æœ‰çš„èŠ‚ç‚¹éƒ½æ˜¯è¿é€šçš„ã€‚

###### å¤æ‚åº¦åˆ†æ

- _æ—¶é—´å¤æ‚åº¦:_ `O(ElogE) - E æ˜¯å›¾çš„è¾¹çš„ä¸ªæ•°`
- _ç©ºé—´å¤æ‚åº¦:_ `O(E)`

> ä¸€ä¸ªå›¾æœ€å¤šæœ‰ `n(n-1)/2 - n æ˜¯å›¾ä¸­èŠ‚ç‚¹ä¸ªæ•°` æ¡è¾¹ (å®Œå…¨è¿é€šå›¾)

#### å…³é”®ç‚¹åˆ†æ

1. æ„å»ºå›¾ï¼Œå¾—å‡ºæ‰€æœ‰è¾¹
2. å¯¹æ‰€æœ‰è¾¹æ’åº
3. éå†æ‰€æœ‰çš„è¾¹(ä»å°åˆ°å¤§)
4. å¯¹äºæ¯æ¡è¾¹ï¼Œæ£€æŸ¥æ˜¯å¦å·²ç»è¿é€šï¼Œè‹¥æ²¡æœ‰è¿é€šï¼ŒåŠ ä¸Šè¾¹ä¸Šçš„å€¼ï¼Œè¿é€šä¸¤ä¸ªèŠ‚ç‚¹ã€‚è‹¥å·²è¿é€šï¼Œè·³è¿‡ã€‚

#### ä»£ç 

```java
  class OptimizeWaterDistribution {
    public int minCostToSupplyWater(int n, int[] wells, int[][] pipes) {
      List<EdgeCost> costs = new ArrayList<>();
      for (int i = 1; i <= n; i++) {
        costs.add(new EdgeCost(0, i, wells[i - 1]));
      }
      for (int[] p : pipes) {
        costs.add(new EdgeCost(p[0], p[1], p[2]));
      }
      Collections.sort(costs);
      int minCosts = 0;
      UnionFind uf = new UnionFind(n);
      for (EdgeCost edge : costs) {
        int rootX = uf.find(edge.node1);
        int rootY = uf.find(edge.node2);
        if (rootX == rootY) continue;
        minCosts += edge.cost;
        uf.union(edge.node1, edge.node2);
        // for each union, we connnect one node
        n--;
        // if all nodes already connected, terminate early
        if (n == 0) {
          return minCosts;
        }
      }
      return minCosts;
    }

    class EdgeCost implements Comparable<EdgeCost> {
      int node1;
      int node2;
      int cost;
      public EdgeCost(int node1, int node2, int cost) {
        this.node1 = node1;
        this.node2 = node2;
        this.cost = cost;
      }

      @Override
      public int compareTo(EdgeCost o) {
        return this.cost - o.cost;
      }
    }

    class UnionFind {
      int[] parent;
      int[] rank;
      public UnionFind(int n) {
        parent = new int[n + 1];
        for (int i = 0; i <= n; i++) {
          parent[i] = i;
        }
        rank = new int[n + 1];
      }
      public int find(int x) {
        return x == parent[x] ? x : find(parent[x]);
      }
      public void union(int x, int y) {
        int px = find(x);
        int py = find(y);
        if (px == py) return;
        if (rank[px] >= rank[py]) {
          parent[py] = px;
          rank[px] += rank[py];
        } else {
          parent[px] = py;
          rank[py] += rank[px];
        }
      }
    }
  }
```

### [1186].maximum-subarray-sum-with-one-deletion

```

ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ï¼Œè¿”å›å®ƒçš„æŸä¸ªÂ éç©º å­æ•°ç»„(è¿ç»­å…ƒç´ )åœ¨æ‰§è¡Œä¸€æ¬¡å¯é€‰çš„åˆ é™¤æ“ä½œåï¼Œæ‰€èƒ½å¾—åˆ°çš„æœ€å¤§å…ƒç´ æ€»å’Œã€‚

æ¢å¥è¯è¯´ï¼Œä½ å¯ä»¥ä»åŸæ•°ç»„ä¸­é€‰å‡ºä¸€ä¸ªå­æ•°ç»„ï¼Œå¹¶å¯ä»¥å†³å®šè¦ä¸è¦ä»ä¸­åˆ é™¤ä¸€ä¸ªå…ƒç´ (åªèƒ½åˆ ä¸€æ¬¡å“¦)ï¼Œ(åˆ é™¤å)å­æ•°ç»„ä¸­è‡³å°‘åº”å½“æœ‰ä¸€ä¸ªå…ƒç´ ï¼Œç„¶åè¯¥å­æ•°ç»„(å‰©ä¸‹)çš„å…ƒç´ æ€»å’Œæ˜¯æ‰€æœ‰å­æ•°ç»„ä¹‹ä¸­æœ€å¤§çš„ã€‚

æ³¨æ„ï¼Œåˆ é™¤ä¸€ä¸ªå…ƒç´ åï¼Œå­æ•°ç»„ ä¸èƒ½ä¸ºç©ºã€‚

è¯·çœ‹ç¤ºä¾‹ï¼š

ç¤ºä¾‹ 1ï¼š

è¾“å…¥ï¼šarr = [1,-2,0,3]
è¾“å‡ºï¼š4
è§£é‡Šï¼šæˆ‘ä»¬å¯ä»¥é€‰å‡º [1, -2, 0, 3]ï¼Œç„¶ååˆ æ‰ -2ï¼Œè¿™æ ·å¾—åˆ° [1, 0, 3]ï¼Œå’Œæœ€å¤§ã€‚
ç¤ºä¾‹ 2ï¼š

è¾“å…¥ï¼šarr = [1,-2,-2,3]
è¾“å‡ºï¼š3
è§£é‡Šï¼šæˆ‘ä»¬ç›´æ¥é€‰å‡º [3]ï¼Œè¿™å°±æ˜¯æœ€å¤§å’Œã€‚
ç¤ºä¾‹ 3ï¼š

è¾“å…¥ï¼šarr = [-1,-1,-1,-1]
è¾“å‡ºï¼š-1
è§£é‡Šï¼šæœ€åå¾—åˆ°çš„å­æ•°ç»„ä¸èƒ½ä¸ºç©ºï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸èƒ½é€‰æ‹© [-1] å¹¶ä»ä¸­åˆ å» -1 æ¥å¾—åˆ° 0ã€‚
     æˆ‘ä»¬åº”è¯¥ç›´æ¥é€‰æ‹© [-1]ï¼Œæˆ–è€…é€‰æ‹© [-1, -1] å†ä»ä¸­åˆ å»ä¸€ä¸ª -1ã€‚


æç¤ºï¼š

1 <= arr.length <= 10^5
-10^4 <= arr[i] <= 10^4

```

#### æ€è·¯

##### æš´åŠ›æ³•

ç¬¦åˆçŸ¥è§‰çš„åšæ³•æ˜¯æ±‚å‡ºæ‰€æœ‰çš„æƒ…å†µï¼Œç„¶åå–å‡ºæœ€å¤§çš„ã€‚ æˆ‘ä»¬åªéœ€è¦ä¸¤å±‚å¾ªç¯æ¥å£ï¼Œå¤–å¾ªç¯ç”¨äºç¡®å®šæˆ‘ä»¬ä¸¢å¼ƒçš„å…ƒç´ ï¼Œå†…å¾ªç¯ç”¨äºè®¡ç®— subArraySumã€‚

```python
  class Solution:
    def maximumSum(self, arr: List[int]) -> int:
        res = arr[0]
        def maxSubSum(arr, skip):
            res = maxSub = float("-inf")

            for i in range(len(arr)):
                if i == skip:
                    continue
                maxSub = max(arr[i], maxSub + arr[i])
                res = max(res, maxSub)
            return res
		### è¿™é‡Œå¾ªç¯åˆ°äº†len(arr)é¡¹ï¼Œè¡¨ç¤ºçš„æ˜¯ä¸€ä¸ªéƒ½ä¸åˆ é™¤çš„æƒ…å†µ
        for i in range(len(arr) + 1):
            res = max(res, maxSubSum(arr, i))
        return res
```

##### ç©ºé—´æ¢æ—¶é—´

ä¸Šé¢çš„åšæ³•åœ¨ LC ä¸Šä¼š TLEï¼Œ å› æ­¤æˆ‘ä»¬éœ€è¦æ¢ä¸€ç§æ€è·¯ï¼Œæ—¢ç„¶è¶…æ—¶äº†ï¼Œæˆ‘ä»¬æ˜¯å¦å¯ä»¥ä»ç©ºé—´æ¢æ—¶é—´çš„è§’åº¦æ€è€ƒå‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥åˆ†åˆ«ä»å¤´å°¾éå†ï¼Œå»ºç«‹ä¸¤ä¸ª subArraySub çš„æ•°ç»„ l å’Œ rã€‚ å…¶å®è¿™ä¸ªä¸éš¾æƒ³åˆ°ï¼Œå¾ˆå¤šé¢˜ç›®éƒ½ç”¨åˆ°äº†è¿™ä¸ªæŠ€å·§ã€‚

å…·ä½“åšæ³•ï¼š

- ä¸€å±‚éå†ï¼Œ å»ºç«‹ l æ•°ç»„ï¼Œl[i]è¡¨ç¤ºä»å·¦è¾¹å¼€å§‹çš„ä»¥ arr[i]ç»“å°¾çš„ subArraySum çš„æœ€å¤§å€¼
- ä¸€å±‚éå†ï¼Œ å»ºç«‹ r æ•°ç»„ï¼Œr[i]è¡¨ç¤ºä»å³è¾¹å¼€å§‹çš„ä»¥ arr[i]ç»“å°¾çš„ subArraySum çš„æœ€å¤§å€¼
- ä¸€å±‚éå†ï¼Œ è®¡ç®— l[i - 1] + r[i + 1] çš„æœ€å¤§å€¼
  > l[i - 1] + r[i + 1]çš„å«ä¹‰å°±æ˜¯åˆ é™¤ arr[i]çš„å­æ•°ç»„æœ€å¤§å€¼
- ä¸Šé¢çš„è¿™ä¸ªæ­¥éª¤å¾—åˆ°äº†åˆ é™¤ä¸€ä¸ªçš„å­æ•°ç»„æœ€å¤§å€¼ï¼Œ ä¸åˆ é™¤çš„åªéœ€è¦åœ¨ä¸Šé¢å¾ªç¯é¡ºä¾¿è®¡ç®—ä¸€ä¸‹å³å¯

```python
class Solution:
    def maximumSum(self, arr: List[int]) -> int:
        n = len(arr)
        l = [arr[0]] * n
        r = [arr[n - 1]] * n
        if n == 1:
            return arr[0]
        res = arr[0]
        for i in range(1, n):
            l[i] = max(l[i - 1] + arr[i], arr[i])
            res = max(res, l[i])
        for i in range(n - 2, -1, -1):
            r[i] = max(r[i + 1] + arr[i], arr[i])
            res = max(res, r[i])
        for i in range(1, n - 1):
            res = max(res, l[i - 1] + r[i + 1])

        return res

```

##### åŠ¨æ€è§„åˆ’

ä¸Šé¢çš„ç®—æ³•è™½ç„¶æ—¶é—´ä¸Šæœ‰æ‰€æ”¹å–„ï¼Œä½†æ˜¯æ­£å¦‚æ ‡é¢˜æ‰€è¯´ï¼Œç©ºé—´å¤æ‚åº¦æ˜¯ O(n),æœ‰æ²¡æœ‰åŠæ³•æ”¹è¿›å‘¢ï¼Ÿç­”æ¡ˆæ˜¯ä½¿ç”¨åŠ¨æ€è§„åˆ’ã€‚

å…·ä½“è¿‡ç¨‹ï¼š

- å®šä¹‰ max0ï¼Œè¡¨ç¤ºä»¥ arr[i]ç»“å°¾ä¸”ä¸€ä¸ªéƒ½ä¸æ¼çš„æœ€å¤§å­æ•°ç»„å’Œ
- å®šä¹‰ max1ï¼Œè¡¨ç¤ºä»¥ arr[i]æˆ–è€… arr[i - 1]ç»“å°¾ï¼Œå¯ä»¥æ¼ä¸€ä¸ªçš„æœ€å¤§å­æ•°ç»„å’Œ
- éå†æ•°ç»„ï¼Œæ›´æ–° max1 å’Œ max0(æ³¨æ„å…ˆæ›´æ–° max1ï¼Œå› ä¸º max1 ç”¨åˆ°äº†ä¸Šä¸€ä¸ª max0)
- å…¶ä¸­`max1 = max(max1 + arr[i], max0)`, å³åˆ é™¤ arr[i - 1]æˆ–è€…åˆ é™¤ arr[i]
- å…¶ä¸­`max0 = max(max0 + arr[i], arr[i])`ï¼Œ ä¸€ä¸ªéƒ½ä¸åˆ é™¤

```python
#
### @lc app=leetcode.cn id=1186 lang=python3
#
### [1186] åˆ é™¤ä¸€æ¬¡å¾—åˆ°å­æ•°ç»„æœ€å¤§å’Œ
### ### @lc code=start


class Solution:
    def maximumSum(self, arr: List[int]) -> int:
        ### DP
        max0 = arr[0]
        max1 = arr[0]
        res = arr[0]
        n = len(arr)
        if n == 1:
            return max0

        for i in range(1, n):
            ### å…ˆæ›´æ–°max1ï¼Œå†æ›´æ–°max0ï¼Œå› ä¸ºmax1ç”¨åˆ°äº†ä¸Šä¸€ä¸ªmax0
            max1 = max(max1 + arr[i], max0)
            max0 = max(max0 + arr[i], arr[i])
            res = max(res, max0, max1)
        return res


### @lc code=end


```

#### å…³é”®ç‚¹è§£æ

- ç©ºé—´æ¢æ—¶é—´
- å¤´å°¾åŒæ•°ç»„
- åŠ¨æ€è§„åˆ’

### [1218].longest-arithmetic-subsequence-of-given-difference

```

ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„Â arrÂ å’Œä¸€ä¸ªæ•´æ•°Â differenceï¼Œè¯·ä½ æ‰¾å‡ºÂ arrÂ ä¸­æ‰€æœ‰ç›¸é‚»å…ƒç´ ä¹‹é—´çš„å·®ç­‰äºç»™å®šÂ differenceÂ çš„ç­‰å·®å­åºåˆ—ï¼Œå¹¶è¿”å›å…¶ä¸­æœ€é•¿çš„ç­‰å·®å­åºåˆ—çš„é•¿åº¦ã€‚



ç¤ºä¾‹ 1ï¼š

è¾“å…¥ï¼šarr = [1,2,3,4], difference = 1
è¾“å‡ºï¼š4
è§£é‡Šï¼šæœ€é•¿çš„ç­‰å·®å­åºåˆ—æ˜¯ [1,2,3,4]ã€‚
ç¤ºä¾‹Â 2ï¼š

è¾“å…¥ï¼šarr = [1,3,5,7], difference = 1
è¾“å‡ºï¼š1
è§£é‡Šï¼šæœ€é•¿çš„ç­‰å·®å­åºåˆ—æ˜¯ä»»æ„å•ä¸ªå…ƒç´ ã€‚
ç¤ºä¾‹ 3ï¼š

è¾“å…¥ï¼šarr = [1,5,7,8,5,3,4,2,1], difference = -2
è¾“å‡ºï¼š4
è§£é‡Šï¼šæœ€é•¿çš„ç­‰å·®å­åºåˆ—æ˜¯ [7,5,3,1]ã€‚


æç¤ºï¼š

1 <= arr.length <= 10^5
-10^4 <= arr[i], difference <= 10^4

```

#### æ€è·¯

æœ€ç›´è§‚çš„æ€è·¯æ˜¯åŒå±‚å¾ªç¯ï¼Œæˆ‘ä»¬æš´åŠ›çš„æšä¸¾å‡ºä»¥æ¯ä¸€ä¸ªå…ƒç´ ä¸ºå¼€å§‹å…ƒç´ ï¼Œä»¥æœ€åå…ƒç´ ç»“å°¾çš„çš„æ‰€æœ‰æƒ…å†µã€‚å¾ˆæ˜æ˜¾è¿™æ˜¯æ‰€æœ‰çš„æƒ…å†µï¼Œè¿™å°±æ˜¯æš´åŠ›æ³•çš„ç²¾é«“ï¼Œ å¾ˆæ˜æ˜¾è¿™ç§è§£æ³•ä¼š TLE(è¶…æ—¶)ï¼Œä¸è¿‡æˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸‹ä»£ç ï¼Œé¡ºç€è¿™ä¸ªæ€ç»´ç»§ç»­æ€è€ƒã€‚

##### æš´åŠ›æ³•

```python
  def longestSubsequence(self, arr: List[int], difference: int) -> int:
        n = len(arr)
        res = 1
        for i in range(n):
            count = 1
            for j in range(i + 1, n):
                if arr[i] + difference * count == arr[j]:
                    count += 1

                if count > res:
                    res = count

        return res
```

##### åŠ¨æ€è§„åˆ’

ä¸Šé¢çš„æ—¶é—´å¤æ‚åº¦æ˜¯ O(n^2)ï¼Œ æœ‰æ²¡æœ‰åŠæ³•é™ä½åˆ° O(n)å‘¢ï¼Ÿå¾ˆå®¹æ˜“æƒ³åˆ°çš„æ˜¯ç©ºé—´æ¢æ—¶é—´çš„è§£å†³æ–¹æ¡ˆã€‚

æˆ‘çš„æƒ³æ³•æ˜¯å°†`ä»¥æ¯ä¸€ä¸ªå…ƒç´ ç»“å°¾çš„æœ€é•¿ç­‰å·®å­åºåˆ—çš„é•¿åº¦`ç»Ÿç»Ÿå­˜èµ·æ¥ï¼Œå³`dp[num] = maxLen` è¿™æ ·æˆ‘ä»¬éå†åˆ°ä¸€ä¸ªæ–°çš„å…ƒç´ çš„æ—¶å€™ï¼Œå°±å»ä¹‹å‰çš„å­˜å‚¨ä¸­å»æ‰¾`dp[num - difference]`, å¦‚æœæ‰¾åˆ°äº†ï¼Œå°±æ›´æ–°å½“å‰çš„`dp[num] = dp[num - difference] + 1`, å¦åˆ™å°±æ˜¯ä¸è¿›è¡Œæ“ä½œ(è¿˜æ˜¯é»˜è®¤å€¼ 1)ã€‚

è¿™ç§ç©ºé—´æ¢æ—¶é—´çš„åšæ³•çš„æ—¶é—´å’Œç©ºé—´å¤æ‚åº¦éƒ½æ˜¯ O(n)ã€‚

#### å…³é”®ç‚¹è§£æ

- å°†`ä»¥æ¯ä¸€ä¸ªå…ƒç´ ç»“å°¾çš„æœ€é•¿ç­‰å·®å­åºåˆ—çš„é•¿åº¦`ç»Ÿç»Ÿå­˜èµ·æ¥

#### ä»£ç 

```python
#
### @lc app=leetcode.cn id=1218 lang=python3
#
### [1218] æœ€é•¿å®šå·®å­åºåˆ—
### ### @lc code=start


class Solution:

    ### åŠ¨æ€è§„åˆ’
    def longestSubsequence(self, arr: List[int], difference: int) -> int:
        n = len(arr)
        res = 1
        dp = {}
        for num in arr:
            dp[num] = 1
            if num - difference in dp:
                dp[num] = dp[num - difference] + 1

        return max(dp.values())

### @lc code=end
```

### [1227].airplane-seat-assignment-probability

#### é¢˜ç›®åœ°å€(1227. é£æœºåº§ä½åˆ†é…æ¦‚ç‡)

https://leetcode-cn.com/problems/airplane-seat-assignment-probability/description/

```

æœ‰ n ä½ä¹˜å®¢å³å°†ç™»æœºï¼Œé£æœºæ­£å¥½æœ‰ n ä¸ªåº§ä½ã€‚ç¬¬ä¸€ä½ä¹˜å®¢çš„ç¥¨ä¸¢äº†ï¼Œä»–éšä¾¿é€‰äº†ä¸€ä¸ªåº§ä½åä¸‹ã€‚

å‰©ä¸‹çš„ä¹˜å®¢å°†ä¼šï¼š

å¦‚æœä»–ä»¬è‡ªå·±çš„åº§ä½è¿˜ç©ºç€ï¼Œå°±ååˆ°è‡ªå·±çš„åº§ä½ä¸Šï¼Œ

å½“ä»–ä»¬è‡ªå·±çš„åº§ä½è¢«å ç”¨æ—¶ï¼Œéšæœºé€‰æ‹©å…¶ä»–åº§ä½
ç¬¬ nÂ ä½ä¹˜å®¢ååœ¨è‡ªå·±çš„åº§ä½ä¸Šçš„æ¦‚ç‡æ˜¯å¤šå°‘ï¼Ÿ



ç¤ºä¾‹ 1ï¼š

è¾“å…¥ï¼šn = 1
è¾“å‡ºï¼š1.00000
è§£é‡Šï¼šç¬¬ä¸€ä¸ªäººåªä¼šååœ¨è‡ªå·±çš„ä½ç½®ä¸Šã€‚
ç¤ºä¾‹ 2ï¼š

è¾“å…¥: n = 2
è¾“å‡º: 0.50000
è§£é‡Šï¼šåœ¨ç¬¬ä¸€ä¸ªäººé€‰å¥½åº§ä½åä¸‹åï¼Œç¬¬äºŒä¸ªäººååœ¨è‡ªå·±çš„åº§ä½ä¸Šçš„æ¦‚ç‡æ˜¯ 0.5ã€‚


æç¤ºï¼š

1 <= n <= 10^5


```

#### æš´åŠ›é€’å½’

è¿™æ˜¯ä¸€é“ LeetCode ä¸ºæ•°ä¸å¤šçš„æ¦‚ç‡é¢˜ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸‹ã€‚

##### æ€è·¯

æˆ‘ä»¬å®šä¹‰åŸé—®é¢˜ä¸º f(n)ã€‚å¯¹äºç¬¬ä¸€ä¸ªäººæ¥è¯´ï¼Œä»–æœ‰ n ä¸­é€‰æ‹©ï¼Œå°±æ˜¯åˆ†åˆ«é€‰æ‹© n ä¸ªåº§ä½ä¸­çš„ä¸€ä¸ªã€‚ç”±äºé€‰æ‹©æ¯ä¸ªä½ç½®çš„æ¦‚ç‡æ˜¯ç›¸åŒçš„ï¼Œé‚£ä¹ˆé€‰æ‹©æ¯ä¸ªä½ç½®çš„æ¦‚ç‡åº”è¯¥éƒ½æ˜¯ 1 / nã€‚

æˆ‘ä»¬åˆ†ä¸‰ç§æƒ…å†µæ¥è®¨è®ºï¼š

- å¦‚æœç¬¬ä¸€ä¸ªäººé€‰æ‹©äº†ç¬¬ä¸€ä¸ªäººçš„ä½ç½®(ä¹Ÿå°±æ˜¯é€‰æ‹©äº†è‡ªå·±çš„ä½ç½®)ï¼Œé‚£ä¹ˆå‰©ä¸‹çš„äººæŒ‰ç…§ç¥¨ä¸Šçš„åº§ä½åšå°±å¥½äº†ï¼Œè¿™ç§æƒ…å†µç¬¬ n ä¸ªäººä¸€å®šèƒ½åšåˆ°è‡ªå·±çš„ä½ç½®
- å¦‚æœç¬¬ä¸€ä¸ªäººé€‰æ‹©äº†ç¬¬ n ä¸ªäººçš„ä½ç½®ï¼Œé‚£ä¹ˆç¬¬ n ä¸ªäººè‚¯å®šåä¸åˆ°è‡ªå·±çš„ä½ç½®ã€‚
- å¦‚æœç¬¬ä¸€ä¸ªäººé€‰æ‹©äº†ç¬¬ i (1 < i < n)ä¸ªäººçš„ä½ç½®ï¼Œé‚£ä¹ˆç¬¬ i ä¸ªäººå°±ç›¸å½“äºå˜æˆäº†â€œç¥¨ä¸¢çš„äººâ€ï¼Œæ­¤æ—¶é—®é¢˜è½¬åŒ–ä¸º f(n - i + 1)ã€‚

æ­¤æ—¶çš„é—®é¢˜è½¬åŒ–å…³ç³»å¦‚å›¾ï¼š

![](https://tva1.sinaimg.cn/large/006tNbRwly1gb12n0omuuj31bc0ju405.jpg)
(çº¢è‰²è¡¨ç¤ºç¥¨ä¸¢çš„äºº)

æ•´ä¸ªè¿‡ç¨‹åˆ†æï¼š

![](https://tva1.sinaimg.cn/large/006tNbRwly1gb12nhestaj318u0bg76f.jpg)

##### ä»£ç 

ä»£ç æ”¯æŒ Python3:

Python3 Code:

```python
class Solution:
    def nthPersonGetsNthSeat(self, n: int) -> float:
        if n == 1:
            return 1
        if n == 2:
            return 0.5
        res = 1 / n
        for i in range(2, n):
            res += self.nthPersonGetsNthSeat(n - i + 1) * 1 / n
        return res
```

ä¸Šè¿°ä»£ç ä¼šæ ˆæº¢å‡ºã€‚

#### æš´åŠ›é€’å½’ + hashtable

##### æ€è·¯

æˆ‘ä»¬è€ƒè™‘ä½¿ç”¨è®°å¿†åŒ–é€’å½’æ¥å‡å°‘é‡å¤è®¡ç®—ï¼Œè™½ç„¶è¿™ç§åšæ³•å¯ä»¥å‡å°‘è¿è¡Œæ—¶é—´ï¼Œä½†æ˜¯å¯¹å‡å°‘é€’å½’æ·±åº¦æ²¡æœ‰å¸®åŠ©ã€‚è¿˜æ˜¯ä¼šæ ˆæº¢å‡ºã€‚

##### ä»£ç 

ä»£ç æ”¯æŒ Python3:

Python3 Code:

```python
class Solution:
    seen = {}

    def nthPersonGetsNthSeat(self, n: int) -> float:
        if n == 1:
            return 1
        if n == 2:
            return 0.5
        if n in self.seen:
            return self.seen[n]
        res = 1 / n
        for i in range(2, n):
            res += self.nthPersonGetsNthSeat(n - i + 1) * 1 / n
        self.seen[n] = res
        return res
```

#### åŠ¨æ€è§„åˆ’

##### æ€è·¯

ä¸Šé¢åšæ³•ä¼šæ ˆæº¢å‡ºã€‚å…¶å®æˆ‘ä»¬æ ¹æœ¬ä¸éœ€è¦è¿è¡Œå°±åº”è¯¥èƒ½åˆ¤æ–­å‡ºæ ˆæº¢å‡ºï¼Œé¢˜ç›®å·²ç»ç»™äº†æ•°æ®è§„æ¨¡æ˜¯ 1 <= n <= 10 \*\* 5ã€‚ è¿™ä¸ªé‡çº§ä¸ç®¡ä»€ä¹ˆè¯­è¨€ï¼Œé™¤éä½¿ç”¨å°¾é€’å½’ï¼Œä¸ç„¶ä¸€èˆ¬éƒ½ä¼šæ ˆæº¢å‡ºï¼Œå…·ä½“æ ˆæ·±åº¦å¤§å®¶å¯ä»¥æŸ¥é˜…ç›¸å…³èµ„æ–™ã€‚

æ—¢ç„¶æ˜¯æ ˆæº¢å‡ºï¼Œé‚£ä¹ˆæˆ‘ä»¬è€ƒè™‘ä½¿ç”¨è¿­ä»£æ¥å®Œæˆã€‚ å¾ˆå®¹æ˜“æƒ³åˆ°ä½¿ç”¨åŠ¨æ€è§„åˆ’æ¥å®Œæˆã€‚å…¶å®é€’å½’éƒ½å†™å‡ºæ¥ï¼Œå†™ä¸€ä¸ªæœ´ç´ ç‰ˆçš„åŠ¨æ€è§„åˆ’ä¹Ÿéš¾ä¸åˆ°å“ªå»ï¼Œæ¯•ç«ŸåŠ¨æ€è§„åˆ’å°±æ˜¯è®°å½•å­é—®é¢˜ï¼Œå¹¶å»ºç«‹å­é—®é¢˜ä¹‹é—´æ˜ å°„è€Œå·²ï¼Œè¿™å’Œé€’å½’å¹¶æ— æœ¬è´¨åŒºåˆ«ã€‚

##### ä»£ç 

ä»£ç æ”¯æŒ Python3:

Python3 Code:

```python
class Solution:
    def nthPersonGetsNthSeat(self, n: int) -> float:
        if n == 1:
            return 1
        if n == 2:
            return 0.5

        dp = [1, .5] * n

        for i in range(2, n):
            dp[i] = 1 / n
            for j in range(2, i):
                dp[i] += dp[i - j + 1] * 1 / n
        return dp[-1]
```

è¿™ç§æ€è·¯çš„ä»£ç è¶…æ—¶äº†ï¼Œå¹¶ä¸”ä»…ä»…æ‰§è¡Œäº† 35/100 testcase å°±è¶…æ—¶äº†ã€‚

#### æ•°å­¦åˆ†æ

##### æ€è·¯

æˆ‘ä»¬è¿˜éœ€è¦è¿›ä¸€æ­¥ä¼˜åŒ–æ—¶é—´å¤æ‚åº¦ï¼Œæˆ‘ä»¬éœ€è¦æ€è€ƒæ˜¯å¦å¯ä»¥åœ¨çº¿å½¢çš„æ—¶é—´å†…å®Œæˆã€‚

æˆ‘ä»¬ç»§ç»­å‰é¢çš„æ€è·¯è¿›è¡Œåˆ†æ, ä¸éš¾å¾—å‡ºï¼Œæˆ‘ä»¬ä¸å¦¨ç§°å…¶ä¸ºç­‰å¼ 1ï¼š

```
f(n)
= 1/n + 0 + 1/n * (f(n-1) + f(n-2) + ... + f(2))
= 1/n * (f(n-1) + f(n-2) + ... + f(2) + 1)
= 1/n * (f(n-1) + f(n-2) + ... + f(2) + f(1))
```

ä¼¼ä¹æ›´å¤æ‚äº†ï¼Ÿæ²¡å…³ç³»ï¼Œæˆ‘ä»¬ç»§ç»­å¾€ä¸‹çœ‹ï¼Œæˆ‘ä»¬çœ‹ä¸‹ f(n - 1)ï¼Œæˆ‘ä»¬ä¸å¦¨ç§°å…¶ä¸ºç­‰å¼ 2ã€‚

```
f(n-1) = 1/(n-1) * (f(n-2) + f(n-3) + ... + f(1))
```

æˆ‘ä»¬å°†ç­‰å¼ 1 å’Œç­‰å¼ 2 ä¸¤è¾¹åˆ†åˆ«åŒæ—¶ä¹˜ä»¥ n å’Œ n - 1

```
n * f(n) = f(n-1) + f(n-2) + f(n-3) + ... + f(1)
(n-1) * f(n-1) = f(n-2) + f(n-3) + ... + f(1)
```

æˆ‘ä»¬å°†ä¸¤è€…ç›¸å‡ï¼š

```
n * f(n) - (n-1)*f(n-1) = f(n-1)
```

æˆ‘ä»¬ç»§ç»­å°† (n-1)\*f(n-1) ç§»åˆ°ç­‰å¼å³è¾¹ï¼Œå¾—åˆ°ï¼š

```
n * f(n) = n * f(n-1)
```

ä¹Ÿå°±æ˜¯è¯´:

```
f(n) = f(n - 1)
```

å½“ç„¶å‰ææ˜¯ n å¤§äº 2ã€‚

æ—¢ç„¶å¦‚æ­¤ï¼Œæˆ‘ä»¬å°±å¯ä»¥å‡å°‘ä¸€å±‚å¾ªç¯ï¼Œ æˆ‘ä»¬ç”¨è¿™ä¸ªæ€è·¯æ¥ä¼˜åŒ–ä¸€ä¸‹ä¸Šé¢çš„ dp è§£æ³•ã€‚è¿™ç§è§£æ³•ç»ˆäºå¯ä»¥ AC äº†ã€‚

##### ä»£ç 

ä»£ç æ”¯æŒ Python3:

Python3 Code:

```python
class Solution:
    def nthPersonGetsNthSeat(self, n: int) -> float:
        if n == 1:
            return 1
        if n == 2:
            return 0.5

        dp = [1, .5] * n

        for i in range(2, n):
            dp[i] = 1/n+(n-2)/n * dp[n-1]
        return dp[-1]
```

#### ä¼˜åŒ–æ•°å­¦åˆ†æ

##### æ€è·¯

ä¸Šé¢æˆ‘ä»¬é€šè¿‡æ•°å­¦åˆ†æï¼Œå¾—å‡ºäº†å½“ n å¤§äº 2 æ—¶ï¼š

```
f(n) = f(n - 1)
```

é‚£ä¹ˆæ˜¯ä¸æ˜¯æ„å‘³ç€æˆ‘ä»¬éšä¾¿æ±‚å‡ºä¸€ä¸ª n å°±å¥½äº†ï¼Ÿ æ¯”å¦‚æˆ‘ä»¬æ±‚å‡º n = 2 çš„æ—¶å€™çš„å€¼ï¼Œæ˜¯ä¸æ˜¯å°±çŸ¥é“ n ä¸ºä»»æ„æ•°çš„å€¼äº†ã€‚ æˆ‘ä»¬ä¸éš¾æƒ³å‡º n = 2 æ—¶å€™ï¼Œæ¦‚ç‡æ˜¯ 0.5ï¼Œå› æ­¤åªè¦ n å¤§äº 1 å°±æ˜¯ 0.5 æ¦‚ç‡ï¼Œå¦åˆ™å°±æ˜¯ 1 æ¦‚ç‡ã€‚

##### ä»£ç 

ä»£ç æ”¯æŒ Python3:

Python3 Code:

```python
class Solution:
    def nthPersonGetsNthSeat(self, n: int) -> float:
        return 1 if n == 1 else .5

```

#### å…³é”®ç‚¹

- æ¦‚ç‡åˆ†æ
- æ•°å­¦æ¨å¯¼
- åŠ¨æ€è§„åˆ’
- é€’å½’ + mapper
- æ ˆé™åˆ¶å¤§å°
- å°¾é€’å½’

### [1260].shift-2d-grid

#### é¢˜ç›®åœ°å€(1260. äºŒç»´ç½‘æ ¼è¿ç§»)

https://leetcode-cn.com/problems/shift-2d-grid/description/

```

ç»™ä½ ä¸€ä¸ª n è¡Œ m åˆ—çš„äºŒç»´ç½‘æ ¼Â gridÂ å’Œä¸€ä¸ªæ•´æ•°Â kã€‚ä½ éœ€è¦å°†Â gridÂ è¿ç§»Â kÂ æ¬¡ã€‚

æ¯æ¬¡ã€Œè¿ç§»ã€æ“ä½œå°†ä¼šå¼•å‘ä¸‹è¿°æ´»åŠ¨ï¼š

ä½äº grid[i][j]Â çš„å…ƒç´ å°†ä¼šç§»åŠ¨åˆ°Â grid[i][j + 1]ã€‚
ä½äºÂ grid[i][m - 1] çš„å…ƒç´ å°†ä¼šç§»åŠ¨åˆ°Â grid[i + 1][0]ã€‚
ä½äº grid[n - 1][m - 1]Â çš„å…ƒç´ å°†ä¼šç§»åŠ¨åˆ°Â grid[0][0]ã€‚
è¯·ä½ è¿”å›Â k æ¬¡è¿ç§»æ“ä½œåæœ€ç»ˆå¾—åˆ°çš„ äºŒç»´ç½‘æ ¼ã€‚



ç¤ºä¾‹ 1ï¼š



è¾“å…¥ï¼šgrid = [[1,2,3],[4,5,6],[7,8,9]], k = 1
è¾“å‡ºï¼š[[9,1,2],[3,4,5],[6,7,8]]
ç¤ºä¾‹ 2ï¼š



è¾“å…¥ï¼šgrid = [[3,8,1,9],[19,7,2,5],[4,6,11,10],[12,0,21,13]], k = 4
è¾“å‡ºï¼š[[12,0,21,13],[3,8,1,9],[19,7,2,5],[4,6,11,10]]
ç¤ºä¾‹ 3ï¼š

è¾“å…¥ï¼šgrid = [[1,2,3],[4,5,6],[7,8,9]], k = 9
è¾“å‡ºï¼š[[1,2,3],[4,5,6],[7,8,9]]


æç¤ºï¼š

1 <= grid.length <= 50
1 <= grid[i].length <= 50
-1000 <= grid[i][j] <= 1000
0 <= k <= 100


```

#### æš´åŠ›æ³•

æˆ‘ä»¬ç›´æ¥ç¿»è¯‘é¢˜ç›®ï¼Œæ²¡æœ‰ä»»ä½• hack çš„åšæ³•ã€‚

##### ä»£ç 

```python
from copy import deepcopy

class Solution:
    def shiftGrid(self, grid: List[List[int]], k: int) -> List[List[int]]:
        n = len(grid)
        m = len(grid[0])
        for _ in range(k):
            old = deepcopy(grid)
            for i in range(n):
                for j in range(m):
                    if j == m - 1:
                            grid[(i + 1) % n][0] = old[i][j]
                    elif i == n - 1 and j == m - 1:
                        grid[0][0] = old[i][j]
                    else:
                        grid[i][j + 1] = old[i][j]
        return grid
```

ç”±äºæ˜¯ easyï¼Œä¸Šè¿°åšæ³•å‹‰å¼ºå¯ä»¥è¿‡ï¼Œæˆ‘ä»¬è€ƒè™‘ä¼˜åŒ–ã€‚

#### æ•°å­¦åˆ†æ

##### æ€è·¯

æˆ‘ä»¬ä»”ç»†è§‚å¯ŸçŸ©é˜µä¼šå‘ç°ï¼Œå…¶å®è¿™æ ·çš„çŸ©é˜µè¿ç§»æ˜¯æœ‰è§„å¾‹çš„ã€‚ å¦‚å›¾ï¼š
![image](https://user-images.githubusercontent.com/12479470/72203575-4f6e4c00-34a8-11ea-8765-03fc856d4ea6.png)

å› æ­¤è¿™ä¸ªé—®é¢˜å°±è½¬åŒ–ä¸ºæˆ‘ä»¬ä¸€ç›´çš„ä¸€ç»´çŸ©é˜µè½¬ç§»é—®é¢˜ï¼ŒLeetCode ä¹Ÿæœ‰åŸé¢˜[189. æ—‹è½¬æ•°ç»„](https://leetcode-cn.com/problems/rotate-array/)ï¼ŒåŒæ—¶æˆ‘ä¹Ÿå†™äº†ä¸€ç¯‡æ–‡ç« [æ–‡ç§‘ç”Ÿéƒ½èƒ½çœ‹æ‡‚çš„å¾ªç¯ç§»ä½ç®—æ³•](https://lucifer.ren/blog/2019/12/11/rotate-list/)ä¸“é—¨è®¨è®ºè¿™ä¸ªï¼Œæœ€ç»ˆæˆ‘ä»¬ä½¿ç”¨çš„æ˜¯ä¸‰æ¬¡æ—‹è½¬æ³•ï¼Œç›¸å…³æ•°å­¦è¯æ˜ä¹Ÿæœ‰å†™ï¼Œå¾ˆè¯¦ç»†ï¼Œè¿™é‡Œä¸å†èµ˜è¿°ã€‚

LeetCode çœŸçš„æ˜¯å–œæ¬¢æ¢æ±¤ä¸æ¢è¯å‘€ ğŸ˜‚

##### ä»£ç 

Python ä»£ç ï¼š

```python
#
### @lc app=leetcode.cn id=1260 lang=python3
#
### [1260] äºŒç»´ç½‘æ ¼è¿ç§»
### ### @lc code=start


class Solution:
    def shiftGrid(self, grid: List[List[int]], k: int) -> List[List[int]]:
        n = len(grid)
        m = len(grid[0])
        ### äºŒç»´åˆ°ä¸€ç»´
        arr = [grid[i][j] for i in range(n) for j in range(m)]
        ### å–æ¨¡ï¼Œç¼©å°kçš„èŒƒå›´ï¼Œé¿å…æ— æ„ä¹‰çš„è¿ç®—
        k %= m * n
        res = []
        ### é¦–å°¾äº¤æ¢æ³•

        def reverse(l, r):
            while l < r:
                t = arr[l]
                arr[l] = arr[r]
                arr[r] = t
                l += 1
                r -= 1
        ### ä¸‰æ¬¡æ—‹è½¬
        reverse(0, m * n - k - 1)
        reverse(m * n - k, m * n - 1)
        reverse(0, m * n - 1)
        ### ä¸€ç»´åˆ°äºŒç»´
        row = []
        for i in range(m * n):
            if i > 0 and i % m == 0:
                res.append(row)
                row = []
            row.append(arr[i])
        res.append(row)

        return res

### @lc code=end

```

### [1261].find-elements-in-a-contaminated-binary-tree (1261. åœ¨å—æ±¡æŸ“çš„äºŒå‰æ ‘ä¸­æŸ¥æ‰¾å…ƒç´ )

https://leetcode-cn.com/problems/find-elements-in-a-contaminated-binary-tree/submissions/

```
ç»™å‡ºä¸€ä¸ªæ»¡è¶³ä¸‹è¿°è§„åˆ™çš„äºŒå‰æ ‘ï¼š

root.val == 0
å¦‚æœ treeNode.val == x ä¸”Â treeNode.left != nullï¼Œé‚£ä¹ˆÂ treeNode.left.val == 2 * x + 1
å¦‚æœ treeNode.val == x ä¸” treeNode.right != nullï¼Œé‚£ä¹ˆÂ treeNode.right.val == 2 * x + 2
ç°åœ¨è¿™ä¸ªäºŒå‰æ ‘å—åˆ°ã€Œæ±¡æŸ“ã€ï¼Œæ‰€æœ‰çš„Â treeNode.valÂ éƒ½å˜æˆäº†Â -1ã€‚

è¯·ä½ å…ˆè¿˜åŸäºŒå‰æ ‘ï¼Œç„¶åå®ç°Â FindElementsÂ ç±»ï¼š

FindElements(TreeNode* root)Â ç”¨å—æ±¡æŸ“çš„äºŒå‰æ ‘åˆå§‹åŒ–å¯¹è±¡ï¼Œä½ éœ€è¦å…ˆæŠŠå®ƒè¿˜åŸã€‚
bool find(int target)Â åˆ¤æ–­ç›®æ ‡å€¼Â targetÂ æ˜¯å¦å­˜åœ¨äºè¿˜åŸåçš„äºŒå‰æ ‘ä¸­å¹¶è¿”å›ç»“æœã€‚


ç¤ºä¾‹ 1ï¼š

![](https://tva1.sinaimg.cn/large/006tNbRwgy1gasy4qroxoj308w03b3yi.jpg)

è¾“å…¥ï¼š
["FindElements","find","find"]
[[[-1,null,-1]],[1],[2]]
è¾“å‡ºï¼š
[null,false,true]
è§£é‡Šï¼š
FindElements findElements = new FindElements([-1,null,-1]);
findElements.find(1); // return False
findElements.find(2); // return True
ç¤ºä¾‹ 2ï¼š

![](https://tva1.sinaimg.cn/large/006tNbRwgy1gasy5mlo3mj30b405iwep.jpg)

è¾“å…¥ï¼š
["FindElements","find","find","find"]
[[[-1,-1,-1,-1,-1]],[1],[3],[5]]
è¾“å‡ºï¼š
[null,true,true,false]
è§£é‡Šï¼š
FindElements findElements = new FindElements([-1,-1,-1,-1,-1]);
findElements.find(1); // return True
findElements.find(3); // return True
findElements.find(5); // return False
ç¤ºä¾‹ 3ï¼š

![](https://tva1.sinaimg.cn/large/006tNbRwgy1gasy5sr25yj308i07maa8.jpg)

è¾“å…¥ï¼š
["FindElements","find","find","find","find"]
[[[-1,null,-1,-1,null,-1]],[2],[3],[4],[5]]
è¾“å‡ºï¼š
[null,true,false,false,true]
è§£é‡Šï¼š
FindElements findElements = new FindElements([-1,null,-1,-1,null,-1]);
findElements.find(2); // return True
findElements.find(3); // return False
findElements.find(4); // return False
findElements.find(5); // return True


æç¤ºï¼š

TreeNode.val == -1
äºŒå‰æ ‘çš„é«˜åº¦ä¸è¶…è¿‡Â 20
èŠ‚ç‚¹çš„æ€»æ•°åœ¨Â [1,Â 10^4]Â ä¹‹é—´
è°ƒç”¨Â find()Â çš„æ€»æ¬¡æ•°åœ¨Â [1,Â 10^4]Â ä¹‹é—´
0 <= target <= 10^6

```

#### æš´åŠ›æ³•

##### æ€è·¯

æœ€ç®€å•æƒ³æ³•å°±æ˜¯é€’å½’å»ºç«‹æ ‘ï¼Œç„¶å find çš„æ—¶å€™é€’å½’æŸ¥æ‰¾å³å¯ï¼Œä»£ç ä¹Ÿå¾ˆç®€å•ã€‚

##### ä»£ç 

Pythpn Code:

```python
### Definition for a binary tree node.
### class TreeNode:
###     def __init__(self, x):
###         self.val = x
###         self.left = None
###         self.right = None

class FindElements:
    node = None
    def __init__(self, root: TreeNode):
        def recover(node):
            if not node:
                return node;
            if node.left:
                node.left.val =  2 * node.val + 1
            if node.right:
                 node.right.val = 2 * node.val + 2
            recover(node.left)
            recover(node.right)
            return node
        root.val = 0
        self.node = recover(root)


    def find(self, target: int) -> bool:
        def findInTree(node, target):
            if not node:
                return False
            if node.val == target:
                return True
            return findInTree(node.left, target) or findInTree(node.right, target)
        return findInTree(self.node, target)




### Your FindElements object will be instantiated and called as such:
### obj = FindElements(root)
### param_1 = obj.find(target)
```

ä¸Šè¿°ä»£ç ä¼šè¶…æ—¶ï¼Œæˆ‘ä»¬æ¥è€ƒè™‘ä¼˜åŒ–ã€‚

#### ç©ºé—´æ¢æ—¶é—´

##### æ€è·¯

ä¸Šè¿°ä»£ç ä¼šè¶…æ—¶ï¼Œæˆ‘ä»¬è€ƒè™‘ä½¿ç”¨ç©ºé—´æ¢æ—¶é—´ã€‚ å»ºç«‹æ ‘çš„æ—¶å€™ï¼Œæˆ‘ä»¬å°†æ‰€æœ‰å€¼å­˜åˆ°ä¸€ä¸ªé›†åˆä¸­å»ã€‚å½“éœ€è¦ find çš„æ—¶å€™ï¼Œæˆ‘ä»¬ç›´æ¥æŸ¥æ‰¾ set å³å¯ï¼Œæ—¶é—´å¤æ‚åº¦ O(1)ã€‚

##### ä»£ç 

```python
### Definition for a binary tree node.
### class TreeNode:
###     def __init__(self, x):
###         self.val = x
###         self.left = None
###         self.right = None

class FindElements:
    def __init__(self, root: TreeNode):
        ### set ä¸èƒ½æ”¾åœ¨initå¤–ä¾§ã€‚ å› ä¸ºæµ‹è¯•ç”¨ä¾‹ä¹‹é—´ä¸ä¼šé”€æ¯FindElementsçš„å˜é‡
        self.seen = set()
        def recover(node):
            if not node:
                return node;
            if node.left:
                node.left.val =  2 * node.val + 1
                self.seen.add(node.left.val)
            if node.right:
                 node.right.val = 2 * node.val + 2
                 self.seen.add(node.right.val)
            recover(node.left)
            recover(node.right)
            return node
        root.val = 0
        self.seen.add(0)
        self.node = recover(root)


    def find(self, target: int) -> bool:
        return target in self.seen




### Your FindElements object will be instantiated and called as such:
### obj = FindElements(root)
### param_1 = obj.find(target)
```

è¿™ç§è§£æ³•å¯ä»¥ ACï¼Œä½†æ˜¯åœ¨æ•°æ®é‡éå¸¸å¤§çš„æ—¶å€™ï¼Œå¯èƒ½ MLEï¼Œæˆ‘ä»¬ç»§ç»­è€ƒè™‘ä¼˜åŒ–ã€‚

#### äºŒè¿›åˆ¶æ³•

##### æ€è·¯

è¿™æ˜¯ä¸€ç§éå¸¸å·§å¦™çš„åšæ³•ã€‚

å¦‚æœæˆ‘ä»¬æŠŠæ ‘ä¸­çš„æ•°å…¨éƒ¨åŠ  1 ä¼šæ€ä¹ˆæ ·ï¼Ÿ

![](https://tva1.sinaimg.cn/large/006tNbRwly1gasypfuvuvj30rs0kudjr.jpg)
(å›¾å‚è€ƒ https://leetcode.com/problems/find-elements-in-a-contaminated-binary-tree/discuss/431229/Python-Special-Way-for-find()-without-HashSet-O(1)-Space-O(logn)-Time)

ä»”ç»†è§‚å¯Ÿå‘ç°ï¼Œæ¯ä¸€è¡Œçš„å·¦å³å­æ ‘åˆ†åˆ«æœ‰ä¸åŒçš„å‰ç¼€ï¼š

![](https://tva1.sinaimg.cn/large/006tNbRwgy1gasz0x09koj312y0sgnnt.jpg)

Okï¼Œé‚£ä¹ˆç®—æ³•å°±æ¥äº†ã€‚ä¸ºäº†ä¾¿äºç†è§£ï¼Œæˆ‘ä»¬æ¥ä¸¾ä¸ªå…·ä½“çš„ä¾‹å­ï¼Œæ¯”å¦‚ target æ˜¯ 9ï¼Œæˆ‘ä»¬é¦–å…ˆå°†å…¶åŠ  1ï¼ŒäºŒè¿›åˆ¶è¡¨ç¤ºå°±æ˜¯ 1010ã€‚ä¸è€ƒè™‘ç¬¬ä¸€ä½ï¼Œå°±æ˜¯ 010ï¼Œæˆ‘ä»¬åªè¦ï¼š

- 0 å‘å·¦ ğŸ‘ˆ
- 1 å‘å³ ğŸ‘‰
- - 0 å‘å·¦ ğŸ‘ˆ

å°±å¯ä»¥æ‰¾åˆ° 9 äº†ã€‚

> 0 è¡¨ç¤ºå‘å·¦ ï¼Œ 1 è¡¨ç¤ºå‘å³

##### ä»£ç 

```python
### Definition for a binary tree node.
### class TreeNode:
###     def __init__(self, x):
###         self.val = x
###         self.left = None
###         self.right = None

class FindElements:
    node = None
    def __init__(self, root: TreeNode):
        def recover(node):
            if not node:
                return node;
            if node.left:
                node.left.val =  2 * node.val + 1
            if node.right:
                 node.right.val = 2 * node.val + 2
            recover(node.left)
            recover(node.right)
            return node
        root.val = 0
        self.node = recover(root)


    def find(self, target: int) -> bool:
        node = self.node
        for bit in bin(target+1)[3:]:
            node = node and (node.left, node.right)[int(bit)]
        return bool(node)




### Your FindElements object will be instantiated and called as such:
### obj = FindElements(root)
### param_1 = obj.find(target)
```

#### å…³é”®ç‚¹è§£æ

- ç©ºé—´æ¢æ—¶é—´
- äºŒè¿›åˆ¶æ€ç»´
- å°† target + 1

### [1262].greatest-sum-divisible-by-three (1262. å¯è¢«ä¸‰æ•´é™¤çš„æœ€å¤§å’Œ)

https://leetcode-cn.com/problems/greatest-sum-divisible-by-three/description/

```
ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„Â numsï¼Œè¯·ä½ æ‰¾å‡ºå¹¶è¿”å›èƒ½è¢«ä¸‰æ•´é™¤çš„å…ƒç´ æœ€å¤§å’Œã€‚



ç¤ºä¾‹ 1ï¼š

è¾“å…¥ï¼šnums = [3,6,5,1,8]
è¾“å‡ºï¼š18
è§£é‡Šï¼šé€‰å‡ºæ•°å­— 3, 6, 1 å’Œ 8ï¼Œå®ƒä»¬çš„å’Œæ˜¯ 18(å¯è¢« 3 æ•´é™¤çš„æœ€å¤§å’Œ)ã€‚
ç¤ºä¾‹ 2ï¼š

è¾“å…¥ï¼šnums = [4]
è¾“å‡ºï¼š0
è§£é‡Šï¼š4 ä¸èƒ½è¢« 3 æ•´é™¤ï¼Œæ‰€ä»¥æ— æ³•é€‰å‡ºæ•°å­—ï¼Œè¿”å› 0ã€‚
ç¤ºä¾‹ 3ï¼š

è¾“å…¥ï¼šnums = [1,2,3,4,4]
è¾“å‡ºï¼š12
è§£é‡Šï¼šé€‰å‡ºæ•°å­— 1, 3, 4 ä»¥åŠ 4ï¼Œå®ƒä»¬çš„å’Œæ˜¯ 12(å¯è¢« 3 æ•´é™¤çš„æœ€å¤§å’Œ)ã€‚


æç¤ºï¼š

1 <= nums.length <= 4 * 10^4
1 <= nums[i] <= 10^4

```

#### æš´åŠ›æ³•

##### æ€è·¯

ä¸€ç§æ–¹å¼æ˜¯æ‰¾å‡ºæ‰€æœ‰çš„èƒ½å¤Ÿè¢« 3 æ•´é™¤çš„å­é›†ï¼Œç„¶åæŒ‘é€‰å‡ºå’Œæœ€å¤§çš„ã€‚ç”±äºæˆ‘ä»¬é€‰å‡ºäº†æ‰€æœ‰çš„å­é›†ï¼Œé‚£ä¹ˆæ—¶é—´å¤æ‚åº¦å°±æ˜¯ $O(2^N)$ ï¼Œ æ¯«æ— ç–‘é—®ä¼šè¶…æ—¶ã€‚è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨å›æº¯æ³•æ‰¾å­é›†ï¼Œå¦‚æœä¸æ¸…æ¥šå›æº¯æ³•ï¼Œå¯ä»¥å‚è€ƒæˆ‘ä¹‹å‰çš„é¢˜è§£ï¼Œå¾ˆå¤šé¢˜ç›®éƒ½ç”¨åˆ°äº†ï¼Œæ¯”å¦‚[78.subsets](https://github.com/azl397985856/leetcode/blob/master/problems/78.subsets.md)ã€‚

æ›´å¤šå›æº¯é¢˜ç›®ï¼Œå¯ä»¥è®¿é—®ä¸Šæ–¹é“¾æ¥æŸ¥çœ‹(å¯ä»¥ä½¿ç”¨ä¸€å¥—æ¨¡æ¿æå®š)ï¼š

![](https://tva1.sinaimg.cn/large/006tNbRwly1gatuu0yfh8j30f60c4ab3.jpg)

##### ä»£ç 

```python
class Solution:
    def maxSumDivThree(self, nums: List[int]) -> int:
        self.res = 0
        def backtrack(temp, start):
            total = sum(temp)
            if total % 3 == 0:
                self.res = max(self.res, total)
            for i in range(start, len(nums)):
                temp.append(nums[i])
                backtrack(temp, i + 1)
                temp.pop(-1)


        backtrack([], 0)

        return self.res
```

#### å‡æ³• + æ’åº

å‡æ³•çš„æ ¸å¿ƒæ€æƒ³æ˜¯ï¼Œæˆ‘ä»¬æ±‚å‡ºæ€»å’Œã€‚å¦‚æœæ€»å’Œä¸æ»¡è¶³é¢˜æ„ï¼Œæˆ‘ä»¬å°è¯•å‡å»æœ€å°çš„æ•°ï¼Œä½¿ä¹‹æ»¡è¶³é¢˜æ„ã€‚

##### æ€è·¯

è¿™ç§ç®—æ³•çš„æ€æƒ³ï¼Œå…·ä½“æ¥è¯´å°±æ˜¯ï¼š

- æˆ‘ä»¬å°†æ‰€æœ‰çš„æ•°å­—åŠ èµ·æ¥ï¼Œæˆ‘ä»¬ä¸å¦¨è®¾ä¸º total
- total é™¤ä»¥ 3ï¼Œå¾—åˆ°ä¸€ä¸ªä½™æ•° modï¼Œ mod å¯èƒ½å€¼æœ‰ 0ï¼Œ1ï¼Œ2.
- åŒæ—¶æˆ‘ä»¬å»ºç«‹ä¸¤ä¸ªæ•°ç»„ï¼Œä¸€ä¸ªæ˜¯ä½™æ•°ä¸º 1 çš„æ•°ç»„ oneï¼Œä¸€ä¸ªæ˜¯ä½™æ•°ä¸º 2 çš„æ•°ç»„ two
- å¦‚æœ mod ä¸º 0ï¼Œæˆ‘ä»¬ç›´æ¥è¿”å›å³å¯ã€‚
- å¦‚æœ mod ä¸º 1ï¼Œæˆ‘ä»¬å¯ä»¥å‡å» one æ•°ç»„ä¸­æœ€å°çš„ä¸€ä¸ª(å¦‚æœæœ‰çš„è¯)ï¼Œæˆ–è€…å‡å»ä¸¤ä¸ª two æ•°ç»„ä¸­æœ€å°çš„(å¦‚æœæœ‰çš„è¯)ï¼Œç©¶ç«Ÿå‡å»è°å–å†³è°æ›´å°ã€‚
- å¦‚æœ mod ä¸º 2ï¼Œæˆ‘ä»¬å¯ä»¥å‡å» two æ•°ç»„ä¸­æœ€å°çš„ä¸€ä¸ª(å¦‚æœæœ‰çš„è¯)ï¼Œæˆ–è€…å‡å»ä¸¤ä¸ª one æ•°ç»„ä¸­æœ€å°çš„(å¦‚æœæœ‰çš„è¯)ï¼Œç©¶ç«Ÿå‡å»è°å–å†³è°æ›´å°ã€‚

ç”±äºæˆ‘ä»¬éœ€è¦å– one å’Œ two ä¸­æœ€å°çš„ä¸€ä¸ªæˆ–è€…ä¸¤ä¸ªï¼Œå› æ­¤å¯¹æ•°ç»„ one å’Œ two è¿›è¡Œæ’åºæ˜¯å¯è¡Œçš„ï¼Œå¦‚æœåŸºäºæ’åºçš„è¯ï¼Œæ—¶é—´å¤æ‚åº¦å¤§è‡´ä¸º $O(NlogN)$ï¼Œè¿™ç§ç®—æ³•å¯ä»¥é€šè¿‡ã€‚

ä»¥é¢˜ç›®ä¸­çš„ä¾‹ 1 ä¸ºä¾‹ï¼š

![](https://tva1.sinaimg.cn/large/006tNbRwly1gatvdy1zb1j30u00x2wgx.jpg)

ä»¥é¢˜ç›®ä¸­çš„ä¾‹ 2 ä¸ºä¾‹ï¼š

![](https://tva1.sinaimg.cn/large/006tNbRwgy1gatvem1xm4j30u00xvq59.jpg)

##### ä»£ç 

```python
class Solution:
    def maxSumDivThree(self, nums: List[int]) -> int:
        one = []
        two = []
        total = 0

        for num in nums:
            total += num
            if num % 3 == 1:
                one.append(num)
            if num % 3 == 2:
                two.append(num)
        one.sort()
        two.sort()
        if total % 3 == 0:
            return total
        elif total % 3 == 1 and one:
            if len(two) >= 2 and one[0] > two[0] + two[1]:
                return total - two[0] - two[1]
            return total - one[0]
        elif total % 3 == 2 and two:
            if len(one) >= 2 and two[0] > one[0] + one[1]:
                return total - one[0] - one[1]
            return total - two[0]
        return 0
```

#### å‡æ³• + éæ’åº

##### æ€è·¯

ä¸Šé¢çš„è§£æ³•ä½¿ç”¨åˆ°äº†æ’åºã€‚ æˆ‘ä»¬å…¶å®è§‚å¯Ÿå‘ç°ï¼Œæˆ‘ä»¬åªæ˜¯ç”¨åˆ°äº† one å’Œ two çš„æœ€å°çš„ä¸¤ä¸ªæ•°ã€‚å› æ­¤æˆ‘ä»¬å®Œå…¨å¯ä»¥åœ¨çº¿å½¢çš„æ—¶é—´å’Œå¸¸æ•°çš„ç©ºé—´å®Œæˆè¿™ä¸ªç®—æ³•ã€‚æˆ‘ä»¬åªéœ€è¦åˆ†åˆ«è®°å½• one å’Œ two çš„æœ€å°å€¼å’Œæ¬¡å°å€¼å³å¯ï¼Œåœ¨è¿™é‡Œï¼Œæˆ‘ä½¿ç”¨äº†ä¸¤ä¸ªé•¿åº¦ä¸º 2 çš„æ•°ç»„æ¥è¡¨ç¤ºï¼Œç¬¬ä¸€é¡¹æ˜¯æœ€å°å€¼ï¼Œç¬¬äºŒé¡¹æ˜¯æ¬¡å°å€¼ã€‚

##### ä»£ç 

```python
class Solution:
    def maxSumDivThree(self, nums: List[int]) -> int:
        one = [float('inf')] * 2
        two = [float('inf')] * 2
        total = 0

        for num in nums:
            total += num
            if num % 3 == 1:
                if num < one[0]:
                    t = one[0]
                    one[0] = num
                    one[1] = t
                elif num < one[1]:
                    one[1] = num
            if num % 3 == 2:
                if num < two[0]:
                    t = two[0]
                    two[0] = num
                    two[1] = t
                elif num < two[1]:
                    two[1] = num
        if total % 3 == 0:
            return total
        elif total % 3 == 1 and one:
            if len(two) >= 2 and one[0] > two[0] + two[1]:
                return total - two[0] - two[1]
            return total - one[0]
        elif total % 3 == 2 and two:
            if len(one) >= 2 and two[0] > one[0] + one[1]:
                return total - one[0] - one[1]
            return total - two[0]
        return 0
```

#### æœ‰é™çŠ¶æ€æœº

##### æ€è·¯

æˆ‘åœ¨[æ•°æ®ç»“æ„ä¸ç®—æ³•åœ¨å‰ç«¯é¢†åŸŸçš„åº”ç”¨ - ç¬¬äºŒç¯‡](https://lucifer.ren/blog/2019/09/19/algorthimn-fe-2/) ä¸­è®²åˆ°äº†æœ‰é™çŠ¶æ€æœºã€‚

![](https://tva1.sinaimg.cn/large/006tNbRwly1gatub3vftxj30eq0bfta0.jpg)

çŠ¶æ€æœºè¡¨ç¤ºè‹¥å¹²ä¸ªçŠ¶æ€ä»¥åŠåœ¨è¿™äº›çŠ¶æ€ä¹‹é—´çš„è½¬ç§»å’ŒåŠ¨ä½œç­‰è¡Œä¸ºçš„æ•°å­¦æ¨¡å‹ã€‚é€šä¿—çš„æè¿°çŠ¶æ€æœºå°±æ˜¯å®šä¹‰äº†ä¸€å¥—çŠ¶æ€å¤‰æ›´çš„æµç¨‹ï¼šçŠ¶æ€æœºåŒ…å«ä¸€ä¸ªçŠ¶æ€é›†åˆï¼Œå®šä¹‰å½“çŠ¶æ€æœºå¤„äºæŸä¸€ä¸ªçŠ¶æ€çš„æ—¶å€™å®ƒæ‰€èƒ½æ¥æ”¶çš„äº‹ä»¶ä»¥åŠå¯æ‰§è¡Œçš„è¡Œä¸ºï¼Œæ‰§è¡Œå®Œæˆåï¼ŒçŠ¶æ€æœºæ‰€å¤„çš„çŠ¶æ€ã€‚

çŠ¶æ€æœºä½¿ç”¨éå¸¸å¹¿æ³›ï¼Œæ¯”å¦‚æ­£åˆ™è¡¨è¾¾å¼çš„å¼•æ“ï¼Œç¼–è¯‘å™¨çš„è¯æ³•å’Œè¯­æ³•åˆ†æï¼Œç½‘ç»œåè®®ï¼Œä¼ä¸šåº”ç”¨ç­‰å¾ˆå¤šé¢†åŸŸéƒ½ä¼šç”¨åˆ°ã€‚

æ‹¿æœ¬é¢˜ä¸­æ¥è¯´ï¼Œæˆ‘ä»¬ä»å·¦åˆ°å³æ‰«ææ•°ç»„çš„è¿‡ç¨‹ï¼Œå°†ä¼šä¸æ–­æ”¹å˜çŠ¶æ€æœºçš„çŠ¶æ€ã€‚

æˆ‘ä»¬ä½¿ç”¨ state æ•°ç»„æ¥è¡¨ç¤ºæœ¬é¢˜çš„çŠ¶æ€ï¼š

- state[0] è¡¨ç¤º mod ä¸º 0 çš„ æœ€å¤§å’Œ
- state[1] è¡¨ç¤º mod ä¸º 1 çš„ æœ€å¤§å’Œ
- state[2] è¡¨ç¤º mod ä¸º 1 çš„ æœ€å¤§å’Œ

æˆ‘ä»¬çš„çŠ¶æ€è½¬ç§»æ–¹ç¨‹å°±ä¼šå¾ˆå®¹æ˜“ã€‚è¯´åˆ°çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼Œä½ å¯èƒ½ä¼šæƒ³åˆ°åŠ¨æ€è§„åˆ’ã€‚æ²¡é”™ï¼è¿™ç§æ€è·¯å¯ä»¥ç›´æ¥ç¿»è¯‘æˆåŠ¨æ€è§„åˆ’ï¼Œç®—æ³•å®Œå…¨ä¸€æ ·ã€‚å¦‚æœä½ çœ‹è¿‡æˆ‘ä¸Šé¢æåˆ°çš„æ–‡ç« ï¼Œé‚£ä¹ˆçŠ¶æ€è½¬ç§»æ–¹ç¨‹å¯¹ä½ æ¥è¯´å°±ä¼šå¾ˆå®¹æ˜“ã€‚å¦‚æœä½ ä¸æ¸…æ¥šï¼Œé‚£ä¹ˆè¯·å¾€ä¸‹çœ‹ï¼š

- æˆ‘ä»¬ä»å·¦å¾€å³ä¸æ–­è¯»å–æ•°å­—ï¼Œæˆ‘ä»¬ä¸å¦¨è®¾è¿™ä¸ªæ•°å­—ä¸º numã€‚
- å¦‚æœ num % 3 ä¸º 0ã€‚ é‚£ä¹ˆæˆ‘ä»¬çš„ state[0], state[1], state[2] å¯ä»¥ç›´æ¥åŠ ä¸Š num(é¢˜ç›®é™å®šäº† num ä¸ºéè´Ÿ)ï¼Œ å› ä¸ºä»»ä½•æ•°å­—åŠ ä¸Š 3 çš„å€æ•°ä¹‹åï¼Œmod 3 çš„å€¼æ˜¯ä¸å˜çš„ã€‚
- å¦‚æœ num % 3 ä¸º 1ã€‚ æˆ‘ä»¬çŸ¥é“ state[2] + num ä¼šå˜æˆä¸€ä¸ªèƒ½è¢«ä¸‰æ•´é™¤çš„æ•°ï¼Œä½†æ˜¯è¿™ä¸ªæ•°å­—ä¸ä¸€å®šæ¯”å½“å‰çš„ state[0]å¤§ã€‚ ä»£ç è¡¨ç¤ºå°±æ˜¯`max(state[2] + num, state[0])`ã€‚åŒç† state[1] å’Œ state[2] çš„è½¬ç§»é€»è¾‘ç±»ä¼¼ã€‚
- åŒç† num % 3 ä¸º 2 ä¹Ÿæ˜¯ç±»ä¼¼çš„é€»è¾‘ã€‚
- æœ€åæˆ‘ä»¬è¿”å› state[0]å³å¯ã€‚

##### ä»£ç 

```python
class Solution:
    def maxSumDivThree(self, nums: List[int]) -> int:
        state = [0, float('-inf'), float('-inf')]

        for num in nums:
            if num % 3 == 0:
                state = [state[0] + num, state[1] + num, state[2] + num]
            if num % 3 == 1:
                a = max(state[2] + num, state[0])
                b = max(state[0] + num, state[1])
                c = max(state[1] + num, state[2])
                state = [a, b, c]
            if num % 3 == 2:
                a = max(state[1] + num, state[0])
                b = max(state[2] + num, state[1])
                c = max(state[0] + num, state[2])
                state = [a, b, c]
        return state[0]
```

å½“ç„¶è¿™ä¸ªä»£ç è¿˜å¯ä»¥ç®€åŒ–ï¼š

```python
class Solution:
    def maxSumDivThree(self, nums: List[int]) -> int:
        state = [0, float('-inf'), float('-inf')]

        for num in nums:
            temp = [0] * 3
            for i in range(3):
                temp[(i + num) % 3] = max(state[(i + num) % 3], state[i] + num)
            state = temp

        return state[0]
```

#### å…³é”®ç‚¹è§£æ

- è´ªå©ªæ³•
- çŠ¶æ€æœº
- æ•°å­¦åˆ†æ

#### æ‰©å±•

å®é™…ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥é‡‡å–åŠ æ³•(è´ªå©ªç­–ç•¥)ï¼Œæ„Ÿå…´è¶£çš„å¯ä»¥è¯•ä¸€ä¸‹ã€‚

### [1297].maximum-number-of-occurrences-of-a-substring(1297. å­ä¸²çš„æœ€å¤§å‡ºç°æ¬¡æ•°)

https://leetcode-cn.com/problems/maximum-number-of-occurrences-of-a-substring

```
ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² s ï¼Œè¯·ä½ è¿”å›æ»¡è¶³ä»¥ä¸‹æ¡ä»¶ä¸”å‡ºç°æ¬¡æ•°æœ€å¤§çš„ ä»»æ„ å­ä¸²çš„å‡ºç°æ¬¡æ•°ï¼š

å­ä¸²ä¸­ä¸åŒå­—æ¯çš„æ•°ç›®å¿…é¡»å°äºç­‰äº maxLetters ã€‚
å­ä¸²çš„é•¿åº¦å¿…é¡»å¤§äºç­‰äº minSize ä¸”å°äºç­‰äº maxSize ã€‚


ç¤ºä¾‹ 1ï¼š

è¾“å…¥ï¼šs = "aababcaab", maxLetters = 2, minSize = 3, maxSize = 4
è¾“å‡ºï¼š2
è§£é‡Šï¼šå­ä¸² "aab" åœ¨åŸå­—ç¬¦ä¸²ä¸­å‡ºç°äº† 2 æ¬¡ã€‚
å®ƒæ»¡è¶³æ‰€æœ‰çš„è¦æ±‚ï¼š2 ä¸ªä¸åŒçš„å­—æ¯ï¼Œé•¿åº¦ä¸º 3 (åœ¨ minSize å’Œ maxSize èŒƒå›´å†…)ã€‚
ç¤ºä¾‹ 2ï¼š

è¾“å…¥ï¼šs = "aaaa", maxLetters = 1, minSize = 3, maxSize = 3
è¾“å‡ºï¼š2
è§£é‡Šï¼šå­ä¸² "aaa" åœ¨åŸå­—ç¬¦ä¸²ä¸­å‡ºç°äº† 2 æ¬¡ï¼Œä¸”å®ƒä»¬æœ‰é‡å éƒ¨åˆ†ã€‚
ç¤ºä¾‹ 3ï¼š

è¾“å…¥ï¼šs = "aabcabcab", maxLetters = 2, minSize = 2, maxSize = 3
è¾“å‡ºï¼š3
ç¤ºä¾‹ 4ï¼š

è¾“å…¥ï¼šs = "abcde", maxLetters = 2, minSize = 3, maxSize = 3
è¾“å‡ºï¼š0


æç¤ºï¼š

1 <= s.length <= 10^5
1 <= maxLetters <= 26
1 <= minSize <= maxSize <= min(26, s.length)
s åªåŒ…å«å°å†™è‹±æ–‡å­—æ¯ã€‚
```

#### æš´åŠ›æ³•

é¢˜ç›®ç»™çš„æ•°æ®é‡ä¸æ˜¯å¾ˆå¤§ï¼Œä¸º 1 <= maxLetters <= 26ï¼Œæˆ‘ä»¬è¯•ä¸€ä¸‹æš´åŠ›æ³•ã€‚

##### æ€è·¯

æš´åŠ›æ³•å¦‚ä¸‹ï¼š

- å…ˆæ‰¾å‡ºæ‰€æœ‰æ»¡è¶³é•¿åº¦å¤§äºç­‰äº minSize ä¸”å°äºç­‰äº maxSize çš„æ‰€æœ‰å­ä¸²ã€‚(å¹³æ–¹çš„å¤æ‚åº¦)
- å¯¹äº maxLetter æ»¡è¶³é¢˜æ„çš„å­ä¸²ï¼Œæˆ‘ä»¬ç»Ÿè®¡å…¶å‡ºç°æ¬¡æ•°ã€‚æ—¶é—´å¤æ‚åº¦ä¸º O(k),å…¶ä¸­ k ä¸ºå­ä¸²é•¿åº¦
- è¿”å›æœ€å¤§çš„å‡ºç°æ¬¡æ•°

##### ä»£ç 

Pythpn Code:

```python
class Solution:
    def maxFreq(self, s: str, maxLetters: int, minSize: int, maxSize: int) -> int:
        n = len(s)
        letters = set()
        cnts = dict()
        res = 0
        for i in range(n - minSize + 1):
            length = minSize
            while i + length <= n and length <= maxSize:
                t = s[i:i + length]
                for c in t:
                    if len(letters) > maxLetters:
                        break
                    letters.add(c)
                if len(letters) <= maxLetters:
                    cnts[t] = cnts.get(t, 0) + 1
                    res = max(res, cnts[t])
                letters.clear()
                length += 1
        return res
```

ä¸Šè¿°ä»£ç ä¼šè¶…æ—¶ã€‚æˆ‘ä»¬æ¥åˆ©ç”¨å‰ªææ¥ä¼˜åŒ–ã€‚

#### å‰ªæ

##### æ€è·¯

è¿˜æ˜¯æš´åŠ›æ³•çš„æ€è·¯ï¼Œä¸è¿‡æˆ‘ä»¬åœ¨æ­¤åŸºç¡€ä¸Šè¿›è¡Œä¸€äº›ä¼˜åŒ–ã€‚é¦–å…ˆæˆ‘ä»¬éœ€è¦ä»”ç»†é˜…è¯»é¢˜ç›®ï¼Œå¦‚æœä½ è¶³å¤Ÿç»†å¿ƒæˆ–è€…è¶³å¤Ÿæœ‰ç»éªŒï¼Œå¯èƒ½ä¼šå‘ç°å…¶å®é¢˜ç›®ä¸­ maxSize æ²¡æœ‰ä»»ä½•ç”¨å¤„ï¼Œå±äºå¹²æ‰°ä¿¡æ¯ã€‚

ä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬æ²¡æœ‰å¿…è¦ç»Ÿè®¡`é•¿åº¦å¤§äºç­‰äº minSize ä¸”å°äºç­‰äº maxSize çš„æ‰€æœ‰å­ä¸²`ï¼Œè€Œæ˜¯ç»Ÿè®¡é•¿åº¦ä¸º minSize çš„æ‰€æœ‰å­—ä¸²å³å¯ã€‚åŸå› æ˜¯ï¼Œå¦‚æœä¸€ä¸ªå¤§äº minSize é•¿åº¦çš„å­—ä¸²è‹¥æ˜¯æ»¡è¶³æ¡ä»¶ï¼Œé‚£ä¹ˆè¯¥å­ä¸²å…¶ä¸­å¿…å®šæœ‰è‡³å°‘ä¸€ä¸ªé•¿åº¦ä¸º minSize çš„å­—ä¸²æ»¡è¶³æ¡ä»¶ã€‚å› æ­¤ä¸€ä¸ªå¤§äº minSize é•¿åº¦çš„å­—ä¸²å‡ºç°äº† n æ¬¡ï¼Œé‚£ä¹ˆè¯¥å­ä¸²å…¶ä¸­å¿…å®šæœ‰ä¸€ä¸ªé•¿åº¦ä¸º minSize çš„å­ä¸²å‡ºç°äº† n æ¬¡ã€‚

##### ä»£ç 

ä»£ç æ”¯æŒ Javaï¼š

```java
 public int maxFreq(String s, int maxLetters, int minSize, int maxSize) {
    Map<String, Integer> counter = new HashMap<>();
    int res = 0;
    for (int i = 0; i < s.length() - minSize + 1; i++) {
        String substr = s.substring(i, i + minSize);
        if (checkNum(substr, maxLetters)) {
            int newVal = counter.getOrDefault(substr, 0) + 1;
            counter.put(substr, newVal);
            res = Math.max(res, newVal);
        }
    }
    return res;
}
public boolean checkNum(String substr, int maxLetters) {
    Set<Character> set = new HashSet<>();
    for (int i = 0; i < substr.length(); i++)
        set.add(substr.charAt(i));
    return set.size() <= maxLetters;
}

```

#### å…³é”®ç‚¹è§£æ

- æ»‘åŠ¨çª—å£
- è¯†åˆ«é¢˜ç›®å¹²æ‰°ä¿¡æ¯
- çœ‹é¢˜ç›®é™åˆ¶æ¡ä»¶ï¼Œå¯¹äºæœ¬é¢˜æœ‰ç”¨çš„ä¿¡æ¯æ˜¯`1 <= maxLetters <= 26`

#### æ‰©å±•

æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨æ»‘åŠ¨çª—å£æ¥è§£å†³ï¼Œæ„Ÿå…´è¶£çš„å¯ä»¥è¯•è¯•çœ‹ã€‚

### [1310].xor-queries-of-a-subarray(1310. å­æ•°ç»„å¼‚æˆ–æŸ¥è¯¢)

https://leetcode-cn.com/problems/xor-queries-of-a-subarray

```
æœ‰ä¸€ä¸ªæ­£æ•´æ•°æ•°ç»„ arrï¼Œç°ç»™ä½ ä¸€ä¸ªå¯¹åº”çš„æŸ¥è¯¢æ•°ç»„ queriesï¼Œå…¶ä¸­ queries[i] = [Li, Ri]ã€‚

å¯¹äºæ¯ä¸ªæŸ¥è¯¢ iï¼Œè¯·ä½ è®¡ç®—ä» Li åˆ° Ri çš„ XOR å€¼(å³ arr[Li] xor arr[Li+1] xor ... xor arr[Ri])ä½œä¸ºæœ¬æ¬¡æŸ¥è¯¢çš„ç»“æœã€‚

å¹¶è¿”å›ä¸€ä¸ªåŒ…å«ç»™å®šæŸ¥è¯¢ queries æ‰€æœ‰ç»“æœçš„æ•°ç»„ã€‚



ç¤ºä¾‹ 1ï¼š

è¾“å…¥ï¼šarr = [1,3,4,8], queries = [[0,1],[1,2],[0,3],[3,3]]
è¾“å‡ºï¼š[2,7,14,8]
è§£é‡Šï¼š
æ•°ç»„ä¸­å…ƒç´ çš„äºŒè¿›åˆ¶è¡¨ç¤ºå½¢å¼æ˜¯ï¼š
1 = 0001
3 = 0011
4 = 0100
8 = 1000
æŸ¥è¯¢çš„ XOR å€¼ä¸ºï¼š
[0,1] = 1 xor 3 = 2
[1,2] = 3 xor 4 = 7
[0,3] = 1 xor 3 xor 4 xor 8 = 14
[3,3] = 8
ç¤ºä¾‹ 2ï¼š

è¾“å…¥ï¼šarr = [4,8,2,10], queries = [[2,3],[1,3],[0,0],[0,3]]
è¾“å‡ºï¼š[8,0,4,4]


æç¤ºï¼š

1 <= arr.length <= 3 * 10^4
1 <= arr[i] <= 10^9
1 <= queries.length <= 3 * 10^4
queries[i].length == 2
0 <= queries[i][0] <= queries[i][1] < arr.length
```

#### æš´åŠ›æ³•

##### æ€è·¯

æœ€ç›´è§‚çš„æ€è·¯æ˜¯åŒå±‚å¾ªç¯å³å¯ï¼Œæœä¸å…¶ç„¶è¶…æ—¶äº†ã€‚

##### ä»£ç 

```python

class Solution:
    def xorQueries(self, arr: List[int], queries: List[List[int]]) -> List[int]:
 		res = []
        for (L, R) in queries:
            i = L
            xor = 0
            while i <= R:
                xor ^= arr[i]
                i += 1
            res.append(xor)
        return res
```

#### å‰ç¼€è¡¨è¾¾å¼

##### æ€è·¯

æ¯”è¾ƒå¸¸è§çš„æ˜¯å‰ç¼€å’Œï¼Œè¿™ä¸ªæ¦‚å¿µå…¶å®å¾ˆå®¹æ˜“ç†è§£ï¼Œå³ä¸€ä¸ªæ•°ç»„ä¸­ï¼Œç¬¬ n ä½å­˜å‚¨çš„æ˜¯æ•°ç»„å‰ n ä¸ªæ•°å­—çš„å’Œã€‚

å¯¹ [1,2,3,4,5,6] æ¥è¯´ï¼Œå…¶å‰ç¼€å’Œå¯ä»¥æ˜¯ pre=[1,3,6,10,15,21]ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å…¬å¼ pre[ğ‘–]=pre[ğ‘–âˆ’1]+nums[ğ‘–]å¾—åˆ°æ¯ä¸€ä½å‰ç¼€å’Œçš„å€¼ï¼Œä»è€Œé€šè¿‡å‰ç¼€å’Œè¿›è¡Œç›¸åº”çš„è®¡ç®—å’Œè§£é¢˜ã€‚å…¶å®å‰ç¼€å’Œçš„æ¦‚å¿µå¾ˆç®€å•ï¼Œä½†å›°éš¾çš„æ˜¯å¦‚ä½•åœ¨é¢˜ç›®ä¸­ä½¿ç”¨å‰ç¼€å’Œä»¥åŠå¦‚ä½•ä½¿ç”¨å‰ç¼€å’Œçš„å…³ç³»æ¥è¿›è¡Œè§£é¢˜ã€‚

è¿™é“é¢˜æ˜¯å‰ç¼€å¯¹å‰ç¼€å¼‚æˆ–ï¼Œæˆ‘ä»¬åˆ©ç”¨äº†å¼‚æˆ–çš„æ€§è´¨ `x ^ y ^ x = y`ã€‚

![](https://tva1.sinaimg.cn/large/006tNbRwgy1gaqll5r048j30fm0bfglz.jpg)

##### ä»£ç 

```java
  public int[] xorQueries(int[] arr, int[][] queries) {

        int[] preXor = new int[arr.length];
        preXor[0] = 0;

        for (int i = 1; i < arr.length; i++)
            preXor[i] = preXor[i - 1] ^ arr[i - 1];

        int[] res = new int[queries.length];

        for (int i = 0; i < queries.length; i++) {

            int left = queries[i][0], right = queries[i][1];
            res[i] = arr[right] ^ preXor[right] ^ preXor[left];
        }

        return res;
    }

```

#### å…³é”®ç‚¹è§£æ

- å¼‚æˆ–çš„æ€§è´¨ x ^ y ^ x = y
- å‰ç¼€è¡¨è¾¾å¼

### [1332].remove-palindromic-subsequences(1332. åˆ é™¤å›æ–‡å­åºåˆ—)

https://leetcode-cn.com/problems/remove-palindromic-subsequences/

```
ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸²Â sï¼Œå®ƒä»…ç”±å­—æ¯Â 'a' å’Œ 'b'Â ç»„æˆã€‚æ¯ä¸€æ¬¡åˆ é™¤æ“ä½œéƒ½å¯ä»¥ä» s ä¸­åˆ é™¤ä¸€ä¸ªå›æ–‡ å­åºåˆ—ã€‚

è¿”å›åˆ é™¤ç»™å®šå­—ç¬¦ä¸²ä¸­æ‰€æœ‰å­—ç¬¦(å­—ç¬¦ä¸²ä¸ºç©º)çš„æœ€å°åˆ é™¤æ¬¡æ•°ã€‚

ã€Œå­åºåˆ—ã€å®šä¹‰ï¼šå¦‚æœä¸€ä¸ªå­—ç¬¦ä¸²å¯ä»¥é€šè¿‡åˆ é™¤åŸå­—ç¬¦ä¸²æŸäº›å­—ç¬¦è€Œä¸æ”¹å˜åŸå­—ç¬¦é¡ºåºå¾—åˆ°ï¼Œé‚£ä¹ˆè¿™ä¸ªå­—ç¬¦ä¸²å°±æ˜¯åŸå­—ç¬¦ä¸²çš„ä¸€ä¸ªå­åºåˆ—ã€‚

ã€Œå›æ–‡ã€å®šä¹‰ï¼šå¦‚æœä¸€ä¸ªå­—ç¬¦ä¸²å‘åå’Œå‘å‰è¯»æ˜¯ä¸€è‡´çš„ï¼Œé‚£ä¹ˆè¿™ä¸ªå­—ç¬¦ä¸²å°±æ˜¯ä¸€ä¸ªå›æ–‡ã€‚



ç¤ºä¾‹ 1ï¼š

è¾“å…¥ï¼šs = "ababa"
è¾“å‡ºï¼š1
è§£é‡Šï¼šå­—ç¬¦ä¸²æœ¬èº«å°±æ˜¯å›æ–‡åºåˆ—ï¼Œåªéœ€è¦åˆ é™¤ä¸€æ¬¡ã€‚
ç¤ºä¾‹ 2ï¼š

è¾“å…¥ï¼šs = "abb"
è¾“å‡ºï¼š2
è§£é‡Šï¼š"abb" -> "bb" -> "".
å…ˆåˆ é™¤å›æ–‡å­åºåˆ— "a"ï¼Œç„¶åå†åˆ é™¤ "bb"ã€‚
ç¤ºä¾‹ 3ï¼š

è¾“å…¥ï¼šs = "baabb"
è¾“å‡ºï¼š2
è§£é‡Šï¼š"baabb" -> "b" -> "".
å…ˆåˆ é™¤å›æ–‡å­åºåˆ— "baab"ï¼Œç„¶åå†åˆ é™¤ "b"ã€‚
ç¤ºä¾‹ 4ï¼š

è¾“å…¥ï¼šs = ""
è¾“å‡ºï¼š0


æç¤ºï¼š

0 <= s.length <= 1000
s ä»…åŒ…å«å­—æ¯Â 'a'Â  å’Œ 'b'
åœ¨çœŸå®çš„é¢è¯•ä¸­é‡åˆ°è¿‡è¿™é“é¢˜ï¼Ÿ
```

#### æ€è·¯

ç”±äºåªæœ‰ a å’Œ b ä¸¤ä¸ªå­—ç¬¦ã€‚å…¶å®æœ€å¤šçš„æ¶ˆé™¤æ¬¡æ•°å°±æ˜¯ 2ã€‚å› ä¸ºæˆ‘ä»¬æ— è®ºå¦‚ä½•éƒ½å¯ä»¥å…ˆæ¶ˆé™¤å…¨éƒ¨çš„ 1 å†æ¶ˆé™¤å…¨éƒ¨çš„ 2(å…ˆæ¶ˆé™¤ 2 ä¹Ÿä¸€æ ·)ï¼Œè¿™æ ·åªéœ€è¦ä¸¤æ¬¡å³å¯å®Œæˆã€‚ æˆ‘ä»¬å†çœ‹ä¸€ä¸‹é¢˜ç›®ç»™çš„ä¸€æ¬¡æ¶ˆé™¤çš„æƒ…å†µï¼Œé¢˜ç›®ç»™çš„ä¾‹å­æ˜¯â€œababaâ€ï¼Œæˆ‘ä»¬å‘ç°å…¶å®å®ƒæœ¬èº«å°±æ˜¯ä¸€ä¸ªå›æ–‡ä¸²ï¼Œæ‰€ä»¥æ‰å¯ä»¥ä¸€æ¬¡å…¨éƒ¨æ¶ˆé™¤ã€‚é‚£ä¹ˆæ€è·¯å°±æœ‰äº†ï¼š

- å¦‚æœ s æ˜¯å›æ–‡ï¼Œåˆ™æˆ‘ä»¬éœ€è¦ä¸€æ¬¡æ¶ˆé™¤
- å¦åˆ™éœ€è¦ä¸¤æ¬¡
- ä¸€å®šè¦æ³¨æ„ç‰¹æ®Šæƒ…å†µï¼Œ å¯¹äºç©ºå­—ç¬¦ä¸²ï¼Œæˆ‘ä»¬éœ€è¦ 0 æ¬¡

#### ä»£ç 

ä»£ç æ”¯æŒï¼šPython3

Python3 Code:

```python

class Solution:
    def removePalindromeSub(self, s: str) -> int:
        if s == '':
            return 0
        def isPalindrome(s):
            l = 0
            r = len(s) - 1
            while l < r:
                if s[l] != s[r]:
                    return False
                l += 1
                r -= 1
            return True
        return 1 if isPalindrome(s) else 2
```

å¦‚æœä½ è§‰å¾—åˆ¤æ–­å›æ–‡ä¸æ˜¯æœ¬é¢˜é‡ç‚¹ï¼Œä¹Ÿå¯ä»¥ç®€å•å®ç°ï¼š

Python3 Code:

```python
class Solution:
    def removePalindromeSub(self, s: str) -> int:
        if s == '':
            return 0
        return 1 if s == s[::-1] else 2

```

#### å…³é”®ç‚¹è§£æ

- æ³¨æ„å®¡é¢˜ç›®ï¼Œä¸€å®šè¦åˆ©ç”¨é¢˜ç›®æ¡ä»¶â€œåªå«æœ‰ a å’Œ b ä¸¤ä¸ªå­—ç¬¦â€å¦åˆ™å®¹æ˜“åšçš„å¾ˆéº»çƒ¦

### [1334].find-the-city-with-the-smallest-number-of-neighbors-at-a-threshold-distance(1334. é˜ˆå€¼è·ç¦»å†…é‚»å±…æœ€å°‘çš„åŸå¸‚)

https://leetcode-cn.com/problems/find-the-city-with-the-smallest-number-of-neighbors-at-a-threshold-distance/

```
æœ‰ nÂ ä¸ªåŸå¸‚ï¼ŒæŒ‰ä» 0 åˆ° n-1Â ç¼–å·ã€‚ç»™ä½ ä¸€ä¸ªè¾¹æ•°ç»„Â edgesï¼Œå…¶ä¸­ edges[i] = [fromi, toi, weighti]Â ä»£è¡¨Â fromiÂ å’ŒÂ toiÂ ä¸¤ä¸ªåŸå¸‚ä¹‹é—´çš„åŒå‘åŠ æƒè¾¹ï¼Œè·ç¦»é˜ˆå€¼æ˜¯ä¸€ä¸ªæ•´æ•°Â distanceThresholdã€‚

è¿”å›èƒ½é€šè¿‡æŸäº›è·¯å¾„åˆ°è¾¾å…¶ä»–åŸå¸‚æ•°ç›®æœ€å°‘ã€ä¸”è·¯å¾„è·ç¦» æœ€å¤§ ä¸ºÂ distanceThresholdÂ çš„åŸå¸‚ã€‚å¦‚æœæœ‰å¤šä¸ªè¿™æ ·çš„åŸå¸‚ï¼Œåˆ™è¿”å›ç¼–å·æœ€å¤§çš„åŸå¸‚ã€‚

æ³¨æ„ï¼Œè¿æ¥åŸå¸‚ i å’Œ j çš„è·¯å¾„çš„è·ç¦»ç­‰äºæ²¿è¯¥è·¯å¾„çš„æ‰€æœ‰è¾¹çš„æƒé‡ä¹‹å’Œã€‚



ç¤ºä¾‹ 1ï¼š

```

![image.png](http://ww1.sinaimg.cn/large/e9f490c8ly1gbh9v5ygtsj20qo0k0aap.jpg)

```



è¾“å…¥ï¼šn = 4, edges = [[0,1,3],[1,2,1],[1,3,4],[2,3,1]], distanceThreshold = 4
è¾“å‡ºï¼š3
è§£é‡Šï¼šåŸå¸‚åˆ†å¸ƒå›¾å¦‚ä¸Šã€‚
æ¯ä¸ªåŸå¸‚é˜ˆå€¼è·ç¦» distanceThreshold = 4 å†…çš„é‚»å±…åŸå¸‚åˆ†åˆ«æ˜¯ï¼š
åŸå¸‚ 0 -> [åŸå¸‚ 1, åŸå¸‚ 2]
åŸå¸‚ 1 -> [åŸå¸‚ 0, åŸå¸‚ 2, åŸå¸‚ 3]
åŸå¸‚ 2 -> [åŸå¸‚ 0, åŸå¸‚ 1, åŸå¸‚ 3]
åŸå¸‚ 3 -> [åŸå¸‚ 1, åŸå¸‚ 2]
åŸå¸‚ 0 å’Œ 3 åœ¨é˜ˆå€¼è·ç¦» 4 ä»¥å†…éƒ½æœ‰ 2 ä¸ªé‚»å±…åŸå¸‚ï¼Œä½†æ˜¯æˆ‘ä»¬å¿…é¡»è¿”å›åŸå¸‚ 3ï¼Œå› ä¸ºå®ƒçš„ç¼–å·æœ€å¤§ã€‚
ç¤ºä¾‹ 2ï¼š

```

![image.png](http://ww1.sinaimg.cn/large/e9f490c8ly1gbh9vg1w43j20qo0k0js8.jpg)

```

è¾“å…¥ï¼šn = 5, edges = [[0,1,2],[0,4,8],[1,2,3],[1,4,2],[2,3,1],[3,4,1]], distanceThreshold = 2
è¾“å‡ºï¼š0
è§£é‡Šï¼šåŸå¸‚åˆ†å¸ƒå›¾å¦‚ä¸Šã€‚
æ¯ä¸ªåŸå¸‚é˜ˆå€¼è·ç¦» distanceThreshold = 2 å†…çš„é‚»å±…åŸå¸‚åˆ†åˆ«æ˜¯ï¼š
åŸå¸‚ 0 -> [åŸå¸‚ 1]
åŸå¸‚ 1 -> [åŸå¸‚ 0, åŸå¸‚ 4]
åŸå¸‚ 2 -> [åŸå¸‚ 3, åŸå¸‚ 4]
åŸå¸‚ 3 -> [åŸå¸‚ 2, åŸå¸‚ 4]
åŸå¸‚ 4 -> [åŸå¸‚ 1, åŸå¸‚ 2, åŸå¸‚ 3]
åŸå¸‚ 0 åœ¨é˜ˆå€¼è·ç¦» 4 ä»¥å†…åªæœ‰ 1 ä¸ªé‚»å±…åŸå¸‚ã€‚


æç¤ºï¼š

2 <= n <= 100
1 <= edges.length <= n * (n - 1) / 2
edges[i].length == 3
0 <= fromi < toi < n
1 <= weighti,Â distanceThreshold <= 10^4
æ‰€æœ‰ (fromi, toi)Â éƒ½æ˜¯ä¸åŒçš„ã€‚


```

#### æ€è·¯

è¿™é“é¢˜çš„æœ¬è´¨å°±æ˜¯ï¼š

1. åœ¨ä¸€ä¸ªæ— å‘å›¾ä¸­å¯»æ‰¾æ¯ä¸¤ä¸ªåŸé•‡çš„æœ€å°è·ç¦»ï¼Œæˆ‘ä»¬ä½¿ç”¨ Floyd-Warshall ç®—æ³•(è‹±è¯­ï¼šFloyd-Warshall algorithm)ï¼Œä¸­æ–‡äº¦ç§°å¼—æ´›ä¼Šå¾·ç®—æ³•ï¼Œæ˜¯è§£å†³ä»»æ„ä¸¤ç‚¹é—´çš„æœ€çŸ­è·¯å¾„çš„ä¸€ç§ç®—æ³•ã€‚
2. ç­›é€‰æœ€å°è·ç¦»ä¸å¤§äº Â distanceThreshold çš„åŸé•‡ã€‚
3. ç»Ÿè®¡æ¯ä¸ªåŸé•‡ï¼Œå…¶æ»¡è¶³æ¡ä»¶çš„åŸé•‡æœ‰å¤šå°‘ä¸ª
4. æˆ‘ä»¬æ‰¾å‡ºæœ€å°‘çš„å³å¯

Floyd-Warshall ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦å’Œç©ºé—´å¤æ‚åº¦éƒ½æ˜¯$O(N^3)$, è€Œç©ºé—´å¤æ‚åº¦å¯ä»¥ä¼˜åŒ–åˆ°$O(N^2)$ã€‚Floyd-Warshall çš„åŸºæœ¬æ€æƒ³æ˜¯å¯¹äºæ¯ä¸¤ä¸ªç‚¹ä¹‹é—´çš„æœ€å°è·ç¦»ï¼Œè¦ä¹ˆç»è¿‡ä¸­é—´èŠ‚ç‚¹ kï¼Œè¦ä¹ˆä¸ç»è¿‡ï¼Œæˆ‘ä»¬å–ä¸¤è€…çš„æœ€å°å€¼ï¼Œè¿™æ˜¯ä¸€ç§åŠ¨æ€è§„åˆ’æ€æƒ³

#### ä»£ç 

ä»£ç æ”¯æŒï¼šPython3

Python3 Code:

```python
class Solution:
    def findTheCity(self, n: int, edges: List[List[int]], distanceThreshold: int) -> int:
        ### æ„å»ºdistçŸ©é˜µ
        dist = [[float('inf')] * n for _ in  range(n)]
        for i, j, w in edges:
            dist[i][j] = w
            dist[j][i] = w
        for i in range(n):
            dist[i][i] = 0
        for k in range(n):
            for i in range(n):
                for j in range(n):
                    dist[i][j] = min(dist[i][j], dist[i][k] + dist[k][j])

        ### è¿‡æ»¤
        res = 0
        minCnt = float('inf')
        for i in range(n):
            cnt = 0
            for d in dist[i]:
                if d <= distanceThreshold:
                    cnt += 1
            if cnt <= minCnt:
                minCnt = cnt
                res = i
        return res


```

#### å…³é”®ç‚¹è§£æ

- Floyd-Warshall ç®—æ³•
- ä½ å¯ä»¥å°†æœ¬æ–‡ç»™çš„ Floyd-Warshall ç®—æ³•å½“æˆä¸€ç§è§£é¢˜æ¨¡æ¿ä½¿ç”¨

### [874].walking-robot-simulation

#### é¢˜ç›®åœ°å€(874. æ¨¡æ‹Ÿè¡Œèµ°æœºå™¨äºº)

https://leetcode-cn.com/problems/walking-robot-simulation/submissions/

```
æœºå™¨äººåœ¨ä¸€ä¸ªæ— é™å¤§å°çš„ç½‘æ ¼ä¸Šè¡Œèµ°ï¼Œä»ç‚¹Â (0, 0) å¤„å¼€å§‹å‡ºå‘ï¼Œé¢å‘åŒ—æ–¹ã€‚è¯¥æœºå™¨äººå¯ä»¥æ¥æ”¶ä»¥ä¸‹ä¸‰ç§ç±»å‹çš„å‘½ä»¤ï¼š

-2ï¼šå‘å·¦è½¬Â 90 åº¦
-1ï¼šå‘å³è½¬ 90 åº¦
1 <= x <= 9ï¼šå‘å‰ç§»åŠ¨Â xÂ ä¸ªå•ä½é•¿åº¦
åœ¨ç½‘æ ¼ä¸Šæœ‰ä¸€äº›æ ¼å­è¢«è§†ä¸ºéšœç¢ç‰©ã€‚

ç¬¬ iÂ ä¸ªéšœç¢ç‰©ä½äºç½‘æ ¼ç‚¹ Â (obstacles[i][0], obstacles[i][1])

å¦‚æœæœºå™¨äººè¯•å›¾èµ°åˆ°éšœç¢ç‰©ä¸Šæ–¹ï¼Œé‚£ä¹ˆå®ƒå°†åœç•™åœ¨éšœç¢ç‰©çš„å‰ä¸€ä¸ªç½‘æ ¼æ–¹å—ä¸Šï¼Œä½†ä»ç„¶å¯ä»¥ç»§ç»­è¯¥è·¯çº¿çš„å…¶ä½™éƒ¨åˆ†ã€‚

è¿”å›ä»åŸç‚¹åˆ°æœºå™¨äººçš„æœ€å¤§æ¬§å¼è·ç¦»çš„å¹³æ–¹ã€‚



ç¤ºä¾‹ 1ï¼š

è¾“å…¥: commands = [4,-1,3], obstacles = []
è¾“å‡º: 25
è§£é‡Š: æœºå™¨äººå°†ä¼šåˆ°è¾¾ (3, 4)
ç¤ºä¾‹Â 2ï¼š

è¾“å…¥: commands = [4,-1,4,-2,4], obstacles = [[2,4]]
è¾“å‡º: 65
è§£é‡Š: æœºå™¨äººåœ¨å·¦è½¬èµ°åˆ° (1, 8) ä¹‹å‰å°†è¢«å›°åœ¨ (1, 4) å¤„


æç¤ºï¼š

0 <= commands.length <= 10000
0 <= obstacles.length <= 10000
-30000 <= obstacle[i][0] <= 30000
-30000 <= obstacle[i][1] <= 30000
ç­”æ¡ˆä¿è¯å°äºÂ 2 ^ 31


```

#### æ€è·¯

è¿™é“é¢˜ä¹‹æ‰€ä»¥æ˜¯ç®€å•éš¾åº¦ï¼Œæ˜¯å› ä¸ºå…¶æ²¡æœ‰ä»€ä¹ˆæŠ€å·§ã€‚ä½ åªéœ€è¦çœ‹æ‡‚é¢˜ç›®æè¿°ï¼Œç„¶åæŠŠé¢˜ç›®æè¿°è½¬åŒ–ä¸ºä»£ç å³å¯ã€‚

å”¯ä¸€éœ€è¦æ³¨æ„çš„æ˜¯æŸ¥æ‰¾éšœç¢ç‰©çš„æ—¶å€™å¦‚æœä½ é‡‡ç”¨çš„æ˜¯`çº¿å½¢æŸ¥æ‰¾`ä¼šå¾ˆæ…¢ï¼Œå¾ˆå¯èƒ½ä¼šè¶…æ—¶ã€‚

> æˆ‘å®é™…æµ‹è¯•äº†ä¸€ä¸‹ï¼Œç¡®å®ä¼šè¶…æ—¶

- ä¸€ç§æ–¹å¼æ˜¯ä½¿ç”¨æ’åºï¼Œç„¶åäºŒåˆ†æŸ¥æ‰¾ï¼Œå¦‚æœé‡‡ç”¨åŸºäºæ¯”è¾ƒçš„æ’åºç®—æ³•ï¼Œé‚£ä¹ˆè¿™ç§ç®—æ³•çš„ç“¶é¢ˆåœ¨äºæ’åºæœ¬èº«ï¼Œä¹Ÿå°±æ˜¯$O(NlogN)$ã€‚
- å¦ä¸€ç§æ–¹å¼æ˜¯ä½¿ç”¨é›†åˆï¼Œå°† obstacles æ”¾å…¥é›†åˆï¼Œç„¶åéœ€è¦çš„æ—¶å€™è¿›è¡ŒæŸ¥è¯¢ï¼ŒæŸ¥è¯¢çš„æ—¶å€™çš„æ—¶é—´å¤æ‚åº¦ä¸º$O(1)$ã€‚

è¿™é‡Œæˆ‘ä»¬é‡‡ç”¨ç¬¬äºŒç§æ–¹å¼ã€‚

æ¥ä¸‹æ¥æˆ‘ä»¬æ¥â€œç¿»è¯‘â€ä¸€ä¸‹é¢˜ç›®ã€‚

- ç”±äºæœºå™¨äººåªèƒ½å¾€å‰èµ°ã€‚å› æ­¤æœºå™¨äººå¾€ä¸œè¥¿å—åŒ—å“ªä¸ªæ–¹å‘èµ°å–å†³äºå®ƒçš„`æœå‘`ã€‚
- æˆ‘ä»¬ä½¿ç”¨æšä¸¾æ¥è¡¨ç¤ºå½“å‰æœºå™¨äººçš„`æœå‘`ã€‚
- é¢˜ç›®åªæœ‰ä¸¤ç§æ–¹å¼æ”¹å˜`æœå‘`ï¼Œä¸€ç§æ˜¯å·¦è½¬(-2)ï¼Œå¦ä¸€ç§æ˜¯å³è½¬(-1)ã€‚
- é¢˜ç›®è¦æ±‚çš„æ˜¯æœºå™¨äººåœ¨`è¿åŠ¨è¿‡ç¨‹ä¸­è·ç¦»åŸç‚¹çš„æœ€å¤§å€¼`ï¼Œè€Œä¸æ˜¯æœ€ç»ˆä½ç½®è·ç¦»åŸç‚¹çš„è·ç¦»ã€‚

ä¸ºäº†ä»£ç ä¹¦å†™ç®€å•ï¼Œæˆ‘å»ºç«‹äº†ä¸€ä¸ªç›´è§’åæ ‡ç³»ã€‚ç”¨`æœºå™¨äººçš„æœå‘å’Œ x è½´æ­£æ–¹å‘çš„å¤¹è§’åº¦æ•°`æ¥ä½œä¸ºæšä¸¾å€¼ï¼Œå¹¶ä¸”è¿™ä¸ªåº¦æ•°æ˜¯ `0 <= deg < 360`ã€‚æˆ‘ä»¬ä¸éš¾çŸ¥é“ï¼Œå…¶å®è¿™ä¸ªå–å€¼å°±æ˜¯`0`, `90`,`180`,`270` å››ä¸ªå€¼ã€‚é‚£ä¹ˆå½“ 0 åº¦çš„æ—¶å€™ï¼Œæˆ‘ä»¬åªéœ€è¦ä¸æ–­åœ° x+1ï¼Œ90 åº¦çš„æ—¶å€™æˆ‘ä»¬ä¸æ–­åœ° y + 1 ç­‰ç­‰ã€‚

![](https://tva1.sinaimg.cn/large/006tNbRwgy1gbdnsywx97j31020r8gmt.jpg)

#### å…³é”®ç‚¹è§£æ

- ç†è§£é¢˜æ„ï¼Œè¿™é“é¢˜å®¹æ˜“ç†è§£é”™é¢˜æ„ï¼Œæ±‚è§£ä¸º`æœ€ç»ˆä½ç½®è·ç¦»åŸç‚¹çš„è·ç¦»`
- å»ºç«‹åæ ‡ç³»
- ä½¿ç”¨é›†åˆç®€åŒ–çº¿å½¢æŸ¥æ‰¾çš„æ—¶é—´å¤æ‚åº¦ã€‚

#### ä»£ç 

ä»£ç æ”¯æŒï¼š Python3

Python3 Code:

```python
class Solution:
    def robotSim(self, commands: List[int], obstacles: List[List[int]]) -> int:
        pos = [0, 0]
        deg = 90
        ans = 0
        obstaclesSet = set(map(tuple, obstacles))

        for command in commands:
            if command == -1:
                deg = (deg + 270) % 360
            elif command == -2:
                deg = (deg + 90) % 360
            else:
                if deg == 0:
                    i = 0
                    while i < command and not (pos[0] + 1, pos[1]) in obstaclesSet:
                        pos[0] += 1
                        i += 1
                if deg == 90:
                    i = 0
                    while i < command and not (pos[0], pos[1] + 1) in obstaclesSet:
                        pos[1] += 1
                        i += 1
                if deg == 180:
                    i = 0
                    while i < command and not (pos[0] - 1, pos[1]) in obstaclesSet:
                        pos[0] -= 1
                        i += 1
                if deg == 270:
                    i = 0
                    while i < command and not (pos[0], pos[1] - 1) in obstaclesSet:
                        pos[1] -= 1
                        i += 1
                ans = max(ans, pos[0] ** 2 + pos[1] ** 2)
        return ans
```
